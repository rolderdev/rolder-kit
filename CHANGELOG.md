# Changelog

## 2024-10-28 v1.0.0-rc23

[Новость](https://docs.rolder.app/#/newspost/yKvJ0ZIBciiiYapoT_V2)

## 2024-10-28 v1.0.0-rc22

[Новость](https://docs.rolder.app/#/newspost/Dv79VpIBFk35karOvyH1)

## 2024-10-09 v1.0.0-rc21

[Новость](https://docs.rolder.app/#/newspost/C_42VJIBFk35karOLCFz)

## 2024-10-03 v1.0.0-rc20

[Новость](https://docs.rolder.app/#/newspost/_f7SUZIBFk35karOpSDh)

## 2024-10-03 v1.0.0-rc19

[Новость](https://docs.rolder.app/#/newspost/5_4yLZIBFk35karO_iBR)

## 2024-09-25 v1.0.0-rc18

[Новость](https://docs.rolder.app/#/newspost/mf5OJ5IBFk35karO_SAx)

## 2024-09-23 v1.0.0-rc17

[Новость](https://docs.rolder.app/#/newspost/kv4qE5IBFk35karOxiDO)

## 2024-09-21 v1.0.0-rc16

[Новость](https://docs.rolder.app/#/newspost/jv6pDZIBFk35karORyCl)

## 2024-09-20 v1.0.0-rc15

[Новость](https://docs.rolder.app/#/newspost/lf5-HpIBFk35karOdSAI)

## 2024-09-19 v1.0.0-rc14

[Новость](https://docs.rolder.app/#/newspost/g_62CZIBFk35karOKiC0)

## 2024-09-19 v1.0.0-rc13

[Новость](https://docs.rolder.app/#/newspost/cv5t-pEBFk35karOmSBA)

## 2024-09-16 v1.0.0-rc12

[Новость](https://docs.rolder.app/#/newspost/KE185ZEBRMzscJjwMRu-)

## 2024-09-12 v1.0.0-rc11

[Новость](https://docs.rolder.app/#/newspost/J03G4JEBRMzscJjw_xss)

## 2024-09-11 v1.0.0-rc10

[Новость](https://docs.rolder.app/#/newspost/JE3z1JEBRMzscJjwFhuC)

## 2024-09-09 v1.0.0-rc9

[Новость](https://docs.rolder.app/#/newspost/I0230ZEBRMzscJjwohut)

## 2024-09-08 v1.0.0-rc8

[Новость](https://docs.rolder.app/#/newspost/Hk1JzJEBRMzscJjw7htx)

## 2024-09-07 v1.0.0-rc7

[Новость](https://docs.rolder.app/#/newspost/G01wy5EBRMzscJjw0xtF)

## 2024-09-07 v1.0.0-rc6

[Пост новости](https://docs.rolder.app/?debug=2#/newspost/D002xZEBRMzscJjw1xvQ)

## 2024-09-06 v1.0.0-rc5

Это крупное обновление с большим количеством изменений, не совместимых с прошлыми версиями. Это нарушает правило версионирования, когда стоит приставка `release candidate`. Так не делают, когда пытаются выпустить стабильную версию. Но пришлось, если че, это все Вова )))

Больших изменений 2:

1. Изменился способ работы с данными - теперь они мутанты. Об этом написал отдельную [заметку](https://docs.rolder.app/#/DataConcept)
2. Изменилась интеграция с `Roodl`. Из-за этого пришлось разделить все ноды на старые и новые. Новые помечены `*` перед названием. Звездочка показывает, что это нода нового поколения, а так же служит для быстрого поиска. Для разработчика RK сделал памятку по разработке нод в [README](https://github.com/rolderdev/rolder-kit/blob/main/README.md) RK.

## Внутренние изменения RK

- Интеграция с Roodl научилась более корректно отрабатывать ошибки, которые мы выдаем разработчику в редакторе.
- В интеграцию с Roodl добавлена функция `initialize`. Эта функция запускается до первого монтирования `React-компоненты` или первого запуска `JS-компоненты`. Потребовалась для сценариев, когда нужно сделать какие-то подготовки заранее. Например, `Data` ждет пока `App` инициализирует состояние сети, чтобы понять нужно ли подключаться к Kuzzle или мы оффлайн.
- В интеграцию с Roodl добавлена функция `validate` на уровне ноды. Теперь можно проверить какие-то условия для всей ноды, а не только для отдельных портов. Пример - `Auth` будет ругаться, если его родитель не `Data`.
- RK полегчал (его новая часть) за счет того, что теперь `R.libs` можно применять повсеместно, не только в части RK. Это же решило проблему накапливания разных версий библиотек.
- Выделен отдельный пакет `shared`, который теперь вместо `App` добавляет все, что нужно в `R`. Этот пакет не содержит нод, но является обязательным. Он же решил проблему JS-контекстов. Некоторые библиотеки не могу дублироваться в одном приложении. `shared` так назван именно потому, что он шарит библиотеки, а так же все глобальные настройки, состояния. На `App` остались задачи - отлавливать не обработанные ошибки (экран error), слать логи на сервер, если включено, инициализировать локальную БД (RxDb) и показывать анимацию загрузки.
- Rspack научился корректно обрабатывать CSS. Больше не нужно добавлять CSS вручную. Сама ставка на Rspack выстрелила, он [вышел](https://rspack.dev/blog/announcing-1-0) на первую боевую версию. А мы с ним с версии 0.1.0.
- Решены проблемы с типизацией.

---

Все перечисленные ниже ноды - ноды нового формата. Для перехода на эту версию RK, нужно обновить и эти ноды. Старые работать должны и в дальнейшем не будут требовать такого резкого обновления. Инструкции обновления нет, кроме меня и Вовы. Все помечено как экспериментальное, т.к. слишком много изменений за раз, велика вероятность багов.

## data

### [useData v2.0.0](https://docs.rolder.app/#/useData) `#experimental`

Было много версий, которые видел только Вова. Здесь последние изменения. По ссылке полновесная документация. Кратко - эта `useData` часть реализации нового подхода к работе с данными на фронте.

##### Доработки

- Добавлен клиент WeSocket, который подключается к ранее созданному прокси в Kuzzle. Клиент перехватывает все сообщения об изменениях БД, т.е. всю подписку realtime. Нужно это из-за бага в Kuzzle JS SDK. Следовательно, нужен сервер Kuzzle версии 0.13.0
- Проверка синтаксиса текстовых функций переехала в useData, т.к. не нужно запускать функции, чтобы проверить синтаксис, а разработчик увидит ошибку еще в редакторе.

### item v0.1.0 `#experimental`

Новая нода, призванная заменить встроенный `Object`. Работает в паре с новой `useData`. Документации пока нет, но она сделана похожей на `Object`. С той разницей, что в `Object` можно указать ключ, а в `item` путь. Т.е. так будет работать - `content.name`. Более того, именно так и рекомендуется. Это делает реактивность точечной. Вот [заметка](https://dev.to/ryansolid/a-hands-on-introduction-to-fine-grained-reactivity-3ndf) от автора `SolidJs` про это.

Работает в таблице - в расширяемой строке или кастомной ячейке. А так же в любом `Repeater`. Как и с `Object` можно подать конкретный `itemId`. Все это при условии, что данные прилетели с новой `useData`. Все равно в каком месте. Этот текст нам выдала уже новая `item`.

### node v0.1.0 `#experimental`

Нода, которая называться "Нода" :) Все, что делает - вытягивает текущую ноду из иерархии. Работает только в новой таблице. Про нее можно почитать в разделе "Иерархия" `useData`.

### Data v2.0.0 `#experimental`

Как старая `Data`, но без `React-query`, который с новым походом не имеет смысла. Изменений по использованию нет.

### Auth v2.0.0 `#experimental`

Перенесена в новый формат, рефакторинг, мелкие баги. Изменений по использованию нет.

## mantine

### Mantine v2.0.0 `#experimental`

Перенесена в новый формат, рефакторинг, мелкие баги. Изменений по использованию нет.

### [Table v2.0.0](https://docs.rolder.app/#/table) `#experimental`

В рамках rc5 много раз была пересобрана. Работает совместно с новыми `useData`, `item` и `node`. `Table scope` не нужен.

Еще не сделано - сортировка и фильтрация.
Известные баги - регрессия производительности при пока не понятных условиях, не работает striped.
По ссылке супер документация.

### notification v2.0.0

Перенесена в новый формат. Изменений по использованию нет, но нужно заменить все старые на новые :(

### Tooltip v2.0.0

Перенесена в новый формат. Изменений по использованию нет, но нужно заменить все старые на новые :(
