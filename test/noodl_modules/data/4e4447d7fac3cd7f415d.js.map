{"version":3,"file":"4e4447d7fac3cd7f415d.js","sources":["../../node_modules/.pnpm/@module-federation+runtime@0.0.8/node_modules/@module-federation/runtime/dist/index.cjs.js","../../node_modules/.pnpm/@module-federation+runtime@0.0.8/node_modules/@module-federation/runtime/dist/share.cjs.js","../../node_modules/.pnpm/@module-federation+sdk@0.0.8/node_modules/@module-federation/sdk/dist/index.cjs.js","../../node_modules/.pnpm/@module-federation+webpack-bundler-runtime@0.0.8/node_modules/@module-federation/webpack-bundler-runtime/dist/constant.cjs.js","../../node_modules/.pnpm/@module-federation+webpack-bundler-runtime@0.0.8/node_modules/@module-federation/webpack-bundler-runtime/dist/index.cjs.js","../../node_modules/.pnpm/@noodl+noodl-sdk@0.5.4/node_modules/@noodl/noodl-sdk/index.js","./data.ts","./src/fetch/fetch.ts","../../shared/node/v0.2.0/src/funcs/convertAndCheckType.ts","../../shared/node/v0.2.0/src/funcs/getNodePorts.ts","../../shared/node/v0.2.0/src/funcs/getProps.ts","../../shared/node/v0.2.0/src/funcs/warnings.ts","../../shared/node/v0.2.0/src/jsNode/getJsNodePorts.ts","../../shared/node/v0.2.0/src/jsNode/jsNode.ts","../../shared/port/v0.6.0/src/enums/enums.ts","../../shared/port/v0.6.0/src/funcs/getEnum.ts","../../shared/port/v0.6.0/src/funcs/getPort.ts","../../shared/port/v0.6.0/src/funcs/getType.ts","../../shared/port/v0.6.0/src/ports/advanced.ts","../../shared/port/v0.6.0/src/ports/data.ts","../../shared/port/v0.6.0/src/ports/dimensions.ts","../../shared/port/v0.6.0/src/ports/params.ts","../../shared/port/v0.6.0/src/ports/signals.ts","../../shared/port/v0.6.0/src/ports/states.ts","../../shared/port/v0.6.0/src/ports/style.ts","../../shared/utils/hasIcon/v0.1.0/hasIcon.ts","../../shared/utils/isEmpty/v0.1.0/isEmpty.ts","../../shared/node/v0.2.0/src/reactNode/errorBoundary.tsx","../../shared/node/v0.2.0/src/reactNode/reactNode.tsx","data:application/node,import __module_federation_bundler_runtime__ from \"/home/decard/projects/rolder-kit/node_modules/.pnpm/@module-federation+webpack-bundler-runtime@0.0.8/node_modules/@module-federation/webpack-bundler-runtime/dist/index.cjs.js\"\nconst __module_federation_runtime_plugins__ = []\nconst __module_federation_remote_infos__ = {\"remote\":[{\"alias\":\"remote\",\"name\":\"remote\",\"entry\":\"https://mfe.rolder.app/remoteEntry.js\",\"externalType\":\"script\",\"shareScope\":\"default\"}]}\nconst __module_federation_container_name__ = \"data\"\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    if (__webpack_require__.initializeSharingData ||\n        __webpack_require__.initializeExposesData) {\n        const override = (obj, key, value) => {\n            if (!obj)\n                return;\n            if (obj[key])\n                obj[key] = value;\n        };\n        const merge = (obj, key, fn) => {\n            var _a, _b;\n            const value = fn();\n            if (Array.isArray(value)) {\n                (_a = obj[key]) !== null && _a !== void 0 ? _a : (obj[key] = []);\n                obj[key].push(...value);\n            }\n            else if (typeof value === \"object\" && value !== null) {\n                (_b = obj[key]) !== null && _b !== void 0 ? _b : (obj[key] = {});\n                Object.assign(obj[key], value);\n            }\n        };\n        const early = (obj, key, initial) => {\n            var _a;\n            (_a = obj[key]) !== null && _a !== void 0 ? _a : (obj[key] = initial());\n        };\n        const remotesLoadingChunkMapping = (_b = (_a = __webpack_require__.remotesLoadingData) === null || _a === void 0 ? void 0 : _a.chunkMapping) !== null && _b !== void 0 ? _b : {};\n        const remotesLoadingModuleIdToRemoteDataMapping = (_d = (_c = __webpack_require__.remotesLoadingData) === null || _c === void 0 ? void 0 : _c.moduleIdToRemoteDataMapping) !== null && _d !== void 0 ? _d : {};\n        const initializeSharingScopeToInitDataMapping = (_f = (_e = __webpack_require__.initializeSharingData) === null || _e === void 0 ? void 0 : _e.scopeToSharingDataMapping) !== null && _f !== void 0 ? _f : {};\n        const consumesLoadingChunkMapping = (_h = (_g = __webpack_require__.consumesLoadingData) === null || _g === void 0 ? void 0 : _g.chunkMapping) !== null && _h !== void 0 ? _h : {};\n        const consumesLoadingModuleToConsumeDataMapping = (_k = (_j = __webpack_require__.consumesLoadingData) === null || _j === void 0 ? void 0 : _j.moduleIdToConsumeDataMapping) !== null && _k !== void 0 ? _k : {};\n        const consumesLoadinginstalledModules = {};\n        const initializeSharingInitPromises = [];\n        const initializeSharingInitTokens = [];\n        const containerShareScope = (_l = __webpack_require__.initializeExposesData) === null || _l === void 0 ? void 0 : _l.containerShareScope;\n        early(__webpack_require__, \"federation\", () => __module_federation_bundler_runtime__);\n        early(__webpack_require__.federation, \"consumesLoadingModuleToHandlerMapping\", () => {\n            const consumesLoadingModuleToHandlerMapping = {};\n            for (let [moduleId, data] of Object.entries(consumesLoadingModuleToConsumeDataMapping)) {\n                consumesLoadingModuleToHandlerMapping[moduleId] = {\n                    getter: data.fallback,\n                    shareInfo: {\n                        shareConfig: {\n                            fixedDependencies: false,\n                            requiredVersion: data.requiredVersion,\n                            strictVersion: data.strictVersion,\n                            singleton: data.singleton,\n                            eager: data.eager\n                        },\n                        scope: [data.shareScope]\n                    },\n                    shareKey: data.shareKey\n                };\n            }\n            return consumesLoadingModuleToHandlerMapping;\n        });\n        early(__webpack_require__.federation, \"initOptions\", () => ({}));\n        early(__webpack_require__.federation.initOptions, \"name\", () => __module_federation_container_name__);\n        early(__webpack_require__.federation.initOptions, \"shared\", () => {\n            const shared = {};\n            for (let [scope, stages] of Object.entries(initializeSharingScopeToInitDataMapping)) {\n                for (let stage of stages) {\n                    if (typeof stage === \"object\" && stage !== null) {\n                        const { name, version, factory, eager } = stage;\n                        if (shared[name]) {\n                            shared[name].scope.push(scope);\n                        }\n                        else {\n                            shared[name] = { version, get: factory, scope: [scope] };\n                        }\n                    }\n                }\n            }\n            return shared;\n        });\n        merge(__webpack_require__.federation.initOptions, \"remotes\", () => Object.values(__module_federation_remote_infos__)\n            .flat()\n            .filter(remote => remote.externalType === \"script\"));\n        merge(__webpack_require__.federation.initOptions, \"plugins\", () => __module_federation_runtime_plugins__);\n        early(__webpack_require__.federation, \"bundlerRuntimeOptions\", () => ({}));\n        early(__webpack_require__.federation.bundlerRuntimeOptions, \"remotes\", () => ({}));\n        early(__webpack_require__.federation.bundlerRuntimeOptions.remotes, \"chunkMapping\", () => remotesLoadingChunkMapping);\n        early(__webpack_require__.federation.bundlerRuntimeOptions.remotes, \"idToExternalAndNameMapping\", () => {\n            const remotesLoadingIdToExternalAndNameMappingMapping = {};\n            for (let [moduleId, data] of Object.entries(remotesLoadingModuleIdToRemoteDataMapping)) {\n                remotesLoadingIdToExternalAndNameMappingMapping[moduleId] = [\n                    data.shareScope,\n                    data.name,\n                    data.externalModuleId,\n                    data.remoteName\n                ];\n            }\n            return remotesLoadingIdToExternalAndNameMappingMapping;\n        });\n        early(__webpack_require__.federation.bundlerRuntimeOptions.remotes, \"webpackRequire\", () => __webpack_require__);\n        merge(__webpack_require__.federation.bundlerRuntimeOptions.remotes, \"idToRemoteMap\", () => {\n            const idToRemoteMap = {};\n            for (let [id, remoteData] of Object.entries(remotesLoadingModuleIdToRemoteDataMapping)) {\n                const info = __module_federation_remote_infos__[remoteData.remoteName];\n                if (info)\n                    idToRemoteMap[id] = info;\n            }\n            return idToRemoteMap;\n        });\n        override(__webpack_require__, \"S\", __module_federation_bundler_runtime__.bundlerRuntime.S);\n        if (__module_federation_bundler_runtime__.attachShareScopeMap) {\n            __module_federation_bundler_runtime__.attachShareScopeMap(__webpack_require__);\n        }\n        override(__webpack_require__.f, \"remotes\", (chunkId, promises) => __module_federation_bundler_runtime__.bundlerRuntime.remotes({\n            chunkId,\n            promises,\n            chunkMapping: remotesLoadingChunkMapping,\n            idToExternalAndNameMapping: __webpack_require__.federation.bundlerRuntimeOptions.remotes\n                .idToExternalAndNameMapping,\n            idToRemoteMap: __webpack_require__.federation.bundlerRuntimeOptions.remotes\n                .idToRemoteMap,\n            webpackRequire: __webpack_require__\n        }));\n        override(__webpack_require__.f, \"consumes\", (chunkId, promises) => __module_federation_bundler_runtime__.bundlerRuntime.consumes({\n            chunkId,\n            promises,\n            chunkMapping: consumesLoadingChunkMapping,\n            moduleToHandlerMapping: __webpack_require__.federation.consumesLoadingModuleToHandlerMapping,\n            installedModules: consumesLoadinginstalledModules,\n            webpackRequire: __webpack_require__\n        }));\n        override(__webpack_require__, \"I\", (name, initScope) => __module_federation_bundler_runtime__.bundlerRuntime.I({\n            shareScopeName: name,\n            initScope,\n            initPromises: initializeSharingInitPromises,\n            initTokens: initializeSharingInitTokens,\n            webpackRequire: __webpack_require__\n        }));\n        override(__webpack_require__, \"initContainer\", (shareScope, initScope, remoteEntryInitOptions) => __module_federation_bundler_runtime__.bundlerRuntime.initContainerEntry({\n            shareScope,\n            initScope,\n            remoteEntryInitOptions,\n            shareScopeKey: containerShareScope,\n            webpackRequire: __webpack_require__\n        }));\n        override(__webpack_require__, \"getContainer\", (module, getScope) => {\n            var moduleMap = __webpack_require__.initializeExposesData.moduleMap;\n            __webpack_require__.R = getScope;\n            getScope = Object.prototype.hasOwnProperty.call(moduleMap, module)\n                ? moduleMap[module]()\n                : Promise.resolve().then(() => {\n                    throw new Error('Module \"' + module + '\" does not exist in container.');\n                });\n            __webpack_require__.R = undefined;\n            return getScope;\n        });\n        __module_federation_bundler_runtime__.instance =\n            __module_federation_bundler_runtime__.runtime.init(__module_federation_bundler_runtime__.initOptions);\n        if ((_m = __webpack_require__.consumesLoadingData) === null || _m === void 0 ? void 0 : _m.initialConsumes) {\n            __module_federation_bundler_runtime__.bundlerRuntime.installInitialConsumes({\n                webpackRequire: __webpack_require__,\n                installedModules: consumesLoadinginstalledModules,\n                initialConsumes: __webpack_require__.consumesLoadingData.initialConsumes,\n                moduleToHandlerMapping: __module_federation_bundler_runtime__.consumesLoadingModuleToHandlerMapping\n            });\n        }\n    }","../../node_modules/.pnpm/change-case@5.4.1/node_modules/change-case/dist/index.js","../../node_modules/.pnpm/just-clone@6.2.0/node_modules/just-clone/index.mjs","../../node_modules/.pnpm/just-typeof@3.2.0/node_modules/just-typeof/index.mjs"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar share = require('./share.cjs.js');\nvar sdk = require('@module-federation/sdk');\n\n// Function to match a remote with its name and expose\n// id: pkgName(@federation/app1) + expose(button) = @federation/app1/button\n// id: alias(app1) + expose(button) = app1/button\n// id: alias(app1/utils) + expose(loadash/sort) = app1/utils/loadash/sort\nfunction matchRemoteWithNameAndExpose(remotes, id) {\n    for (const remote of remotes){\n        // match pkgName\n        const isNameMatched = id.startsWith(remote.name);\n        let expose = id.replace(remote.name, '');\n        if (isNameMatched) {\n            if (expose.startsWith('/')) {\n                const pkgNameOrAlias = remote.name;\n                expose = `.${expose}`;\n                return {\n                    pkgNameOrAlias,\n                    expose,\n                    remote\n                };\n            } else if (expose === '') {\n                return {\n                    pkgNameOrAlias: remote.name,\n                    expose: '.',\n                    remote\n                };\n            }\n        }\n        // match alias\n        const isAliasMatched = remote.alias && id.startsWith(remote.alias);\n        let exposeWithAlias = remote.alias && id.replace(remote.alias, '');\n        if (remote.alias && isAliasMatched) {\n            if (exposeWithAlias && exposeWithAlias.startsWith('/')) {\n                const pkgNameOrAlias = remote.alias;\n                exposeWithAlias = `.${exposeWithAlias}`;\n                return {\n                    pkgNameOrAlias,\n                    expose: exposeWithAlias,\n                    remote\n                };\n            } else if (exposeWithAlias === '') {\n                return {\n                    pkgNameOrAlias: remote.alias,\n                    expose: '.',\n                    remote\n                };\n            }\n        }\n    }\n    return;\n}\n// Function to match a remote with its name or alias\nfunction matchRemote(remotes, nameOrAlias) {\n    for (const remote of remotes){\n        const isNameMatched = nameOrAlias === remote.name;\n        if (isNameMatched) {\n            return remote;\n        }\n        const isAliasMatched = remote.alias && nameOrAlias === remote.alias;\n        if (isAliasMatched) {\n            return remote;\n        }\n    }\n    return;\n}\n\nfunction registerPlugins(plugins, hookInstances) {\n    const globalPlugins = share.getGlobalHostPlugins();\n    // Incorporate global plugins\n    if (globalPlugins.length > 0) {\n        globalPlugins.forEach((plugin)=>{\n            if (plugins == null ? void 0 : plugins.find((item)=>item.name !== plugin.name)) {\n                plugins.push(plugin);\n            }\n        });\n    }\n    if (plugins && plugins.length > 0) {\n        plugins.forEach((plugin)=>{\n            hookInstances.forEach((hookInstance)=>{\n                hookInstance.applyPlugin(plugin);\n            });\n        });\n    }\n}\n\nfunction _extends$5() {\n    _extends$5 = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends$5.apply(this, arguments);\n}\nasync function loadEsmEntry({ entry, remoteEntryExports }) {\n    return new Promise((resolve, reject)=>{\n        try {\n            if (!remoteEntryExports) {\n                // eslint-disable-next-line no-eval\n                new Function('resolve', `import(\"${entry}\").then((res)=>{resolve(res);}, (error)=> reject(error))`)(resolve);\n            } else {\n                resolve(remoteEntryExports);\n            }\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\nasync function loadEntryScript({ name, globalName, entry, createScriptHook }) {\n    const { entryExports: remoteEntryExports } = share.getRemoteEntryExports(name, globalName);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    if (typeof document === 'undefined') {\n        return sdk.loadScriptNode(entry, {\n            attrs: {\n                name,\n                globalName\n            },\n            createScriptHook\n        }).then(()=>{\n            const { remoteEntryKey, entryExports } = share.getRemoteEntryExports(name, globalName);\n            share.assert(entryExports, `\n        Unable to use the ${name}'s '${entry}' URL with ${remoteEntryKey}'s globalName to get remoteEntry exports.\n        Possible reasons could be:\\n\n        1. '${entry}' is not the correct URL, or the remoteEntry resource or name is incorrect.\\n\n        2. ${remoteEntryKey} cannot be used to get remoteEntry exports in the window object.\n      `);\n            console.log(entryExports);\n            return entryExports;\n        }).catch((e)=>{\n            return e;\n        });\n    }\n    return sdk.loadScript(entry, {\n        attrs: {},\n        createScriptHook\n    }).then(()=>{\n        const { remoteEntryKey, entryExports } = share.getRemoteEntryExports(name, globalName);\n        share.assert(entryExports, `\n      Unable to use the ${name}'s '${entry}' URL with ${remoteEntryKey}'s globalName to get remoteEntry exports.\n      Possible reasons could be:\\n\n      1. '${entry}' is not the correct URL, or the remoteEntry resource or name is incorrect.\\n\n      2. ${remoteEntryKey} cannot be used to get remoteEntry exports in the window object.\n    `);\n        return entryExports;\n    }).catch((e)=>{\n        return e;\n    });\n}\nasync function getRemoteEntry({ remoteEntryExports, remoteInfo, createScriptHook }) {\n    const { entry, name, type, entryGlobalName } = remoteInfo;\n    const uniqueKey = sdk.composeKeyWithSeparator(name, entry);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    if (!share.globalLoading[uniqueKey]) {\n        if (type === 'esm') {\n            share.globalLoading[uniqueKey] = loadEsmEntry({\n                entry,\n                remoteEntryExports\n            });\n        } else {\n            share.globalLoading[uniqueKey] = loadEntryScript({\n                name,\n                globalName: entryGlobalName,\n                entry,\n                createScriptHook\n            });\n        }\n    }\n    return share.globalLoading[uniqueKey];\n}\nfunction getRemoteInfo(remote) {\n    return _extends$5({}, remote, {\n        entry: 'entry' in remote ? remote.entry : '',\n        type: remote.type || share.DEFAULT_REMOTE_TYPE,\n        entryGlobalName: remote.entryGlobalName || remote.name,\n        shareScope: remote.shareScope || share.DEFAULT_SCOPE\n    });\n}\n\nfunction _extends$4() {\n    _extends$4 = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends$4.apply(this, arguments);\n}\nlet Module = class Module {\n    async getEntry() {\n        if (this.remoteEntryExports) {\n            return this.remoteEntryExports;\n        }\n        // Get remoteEntry.js\n        const remoteEntryExports = await getRemoteEntry({\n            remoteInfo: this.remoteInfo,\n            remoteEntryExports: this.remoteEntryExports,\n            createScriptHook: (url)=>{\n                const res = this.host.loaderHook.lifecycle.createScript.emit({\n                    url\n                });\n                if (typeof document === 'undefined') {\n                    //todo: needs real fix\n                    return res;\n                }\n                if (res instanceof HTMLScriptElement) {\n                    return res;\n                }\n                return;\n            }\n        });\n        share.assert(remoteEntryExports, `remoteEntryExports is undefined \\n ${share.safeToString(this.remoteInfo)}`);\n        this.remoteEntryExports = remoteEntryExports;\n        return this.remoteEntryExports;\n    }\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    async get(expose, options) {\n        const { loadFactory = true } = options || {\n            loadFactory: true\n        };\n        // Get remoteEntry.js\n        const remoteEntryExports = await this.getEntry();\n        if (!this.inited) {\n            const localShareScopeMap = this.host.shareScopeMap;\n            const remoteShareScope = this.remoteInfo.shareScope || 'default';\n            if (!localShareScopeMap[remoteShareScope]) {\n                localShareScopeMap[remoteShareScope] = {};\n            }\n            const shareScope = localShareScopeMap[remoteShareScope];\n            const initScope = [];\n            const remoteEntryInitOptions = {\n                version: this.remoteInfo.version || ''\n            };\n            // Help to find host instance\n            Object.defineProperty(remoteEntryInitOptions, 'hostId', {\n                value: this.host.options.id || this.host.name,\n                // remoteEntryInitOptions will be traversed and assigned during container init, ,so this attribute is not allowed to be traversed\n                enumerable: false\n            });\n            const initContainerOptions = await this.host.hooks.lifecycle.beforeInitContainer.emit({\n                shareScope,\n                // @ts-ignore hostId will be set by Object.defineProperty\n                remoteEntryInitOptions,\n                initScope,\n                remoteInfo: this.remoteInfo,\n                origin: this.host\n            });\n            remoteEntryExports.init(initContainerOptions.shareScope, initContainerOptions.initScope, initContainerOptions.remoteEntryInitOptions);\n            await this.host.hooks.lifecycle.initContainer.emit(_extends$4({}, initContainerOptions, {\n                remoteEntryExports\n            }));\n        }\n        this.lib = remoteEntryExports;\n        this.inited = true;\n        // get exposeGetter\n        const moduleFactory = await remoteEntryExports.get(expose);\n        share.assert(moduleFactory, `${share.getFMId(this.remoteInfo)} remote don't export ${expose}.`);\n        if (!loadFactory) {\n            return moduleFactory;\n        }\n        const exposeContent = await moduleFactory();\n        return exposeContent;\n    }\n    constructor({ remoteInfo, host }){\n        this.inited = false;\n        this.lib = undefined;\n        this.remoteInfo = remoteInfo;\n        this.host = host;\n    }\n};\n\nclass SyncHook {\n    on(fn) {\n        if (typeof fn === 'function') {\n            this.listeners.add(fn);\n        }\n    }\n    once(fn) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        this.on(function wrapper(...args) {\n            self.remove(wrapper);\n            // eslint-disable-next-line prefer-spread\n            return fn.apply(null, args);\n        });\n    }\n    emit(...data) {\n        let result;\n        if (this.listeners.size > 0) {\n            // eslint-disable-next-line prefer-spread\n            this.listeners.forEach((fn)=>{\n                result = fn(...data);\n            });\n        }\n        return result;\n    }\n    remove(fn) {\n        this.listeners.delete(fn);\n    }\n    removeAll() {\n        this.listeners.clear();\n    }\n    constructor(type){\n        this.type = '';\n        this.listeners = new Set();\n        if (type) {\n            this.type = type;\n        }\n    }\n}\n\nclass AsyncHook extends SyncHook {\n    emit(...data) {\n        let result;\n        const ls = Array.from(this.listeners);\n        if (ls.length > 0) {\n            let i = 0;\n            const call = (prev)=>{\n                if (prev === false) {\n                    return false; // Abort process\n                } else if (i < ls.length) {\n                    return Promise.resolve(ls[i++].apply(null, data)).then(call);\n                } else {\n                    return prev;\n                }\n            };\n            result = call();\n        }\n        return Promise.resolve(result);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction checkReturnData(originalData, returnedData) {\n    if (!share.isObject(returnedData)) {\n        return false;\n    }\n    if (originalData !== returnedData) {\n        // eslint-disable-next-line no-restricted-syntax\n        for(const key in originalData){\n            if (!(key in returnedData)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nclass SyncWaterfallHook extends SyncHook {\n    emit(data) {\n        if (!share.isObject(data)) {\n            share.error(`The data for the \"${this.type}\" hook should be an object.`);\n        }\n        for (const fn of this.listeners){\n            try {\n                const tempData = fn(data);\n                if (checkReturnData(data, tempData)) {\n                    data = tempData;\n                } else {\n                    this.onerror(`A plugin returned an unacceptable value for the \"${this.type}\" type.`);\n                    break;\n                }\n            } catch (e) {\n                share.warn(e);\n                this.onerror(e);\n            }\n        }\n        return data;\n    }\n    constructor(type){\n        super();\n        this.onerror = share.error;\n        this.type = type;\n    }\n}\n\nclass AsyncWaterfallHook extends SyncHook {\n    emit(data) {\n        if (!share.isObject(data)) {\n            share.error(`The response data for the \"${this.type}\" hook must be an object.`);\n        }\n        const ls = Array.from(this.listeners);\n        if (ls.length > 0) {\n            let i = 0;\n            const processError = (e)=>{\n                share.warn(e);\n                this.onerror(e);\n                return data;\n            };\n            const call = (prevData)=>{\n                if (checkReturnData(data, prevData)) {\n                    data = prevData;\n                    if (i < ls.length) {\n                        try {\n                            return Promise.resolve(ls[i++](data)).then(call, processError);\n                        } catch (e) {\n                            return processError(e);\n                        }\n                    }\n                } else {\n                    this.onerror(`A plugin returned an incorrect value for the \"${this.type}\" type.`);\n                }\n                return data;\n            };\n            return Promise.resolve(call(data));\n        }\n        return Promise.resolve(data);\n    }\n    constructor(type){\n        super();\n        this.onerror = share.error;\n        this.type = type;\n    }\n}\n\nclass PluginSystem {\n    applyPlugin(plugin) {\n        share.assert(share.isPlainObject(plugin), 'Plugin configuration is invalid.');\n        // The plugin's name is mandatory and must be unique\n        const pluginName = plugin.name;\n        share.assert(pluginName, 'A name must be provided by the plugin.');\n        if (!this.registerPlugins[pluginName]) {\n            this.registerPlugins[pluginName] = plugin;\n            Object.keys(this.lifecycle).forEach((key)=>{\n                const pluginLife = plugin[key];\n                if (pluginLife) {\n                    this.lifecycle[key].on(pluginLife);\n                }\n            });\n        }\n    }\n    removePlugin(pluginName) {\n        share.assert(pluginName, 'A name is required.');\n        const plugin = this.registerPlugins[pluginName];\n        share.assert(plugin, `The plugin \"${pluginName}\" is not registered.`);\n        Object.keys(plugin).forEach((key)=>{\n            if (key !== 'name') {\n                this.lifecycle[key].remove(plugin[key]);\n            }\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    inherit({ lifecycle, registerPlugins }) {\n        Object.keys(lifecycle).forEach((hookName)=>{\n            share.assert(!this.lifecycle[hookName], `The hook \"${hookName}\" has a conflict and cannot be inherited.`);\n            this.lifecycle[hookName] = lifecycle[hookName];\n        });\n        Object.keys(registerPlugins).forEach((pluginName)=>{\n            share.assert(!this.registerPlugins[pluginName], `The plugin \"${pluginName}\" has a conflict and cannot be inherited.`);\n            this.applyPlugin(registerPlugins[pluginName]);\n        });\n    }\n    constructor(lifecycle){\n        this.registerPlugins = {};\n        this.lifecycle = lifecycle;\n        this.lifecycleKeys = Object.keys(lifecycle);\n    }\n}\n\nfunction _extends$3() {\n    _extends$3 = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends$3.apply(this, arguments);\n}\nfunction defaultPreloadArgs(preloadConfig) {\n    return _extends$3({\n        resourceCategory: 'sync',\n        share: true,\n        depsRemote: true,\n        prefetchInterface: false\n    }, preloadConfig);\n}\nfunction formatPreloadArgs(remotes, preloadArgs) {\n    return preloadArgs.map((args)=>{\n        const remoteInfo = matchRemote(remotes, args.nameOrAlias);\n        share.assert(remoteInfo, `Unable to preload ${args.nameOrAlias} as it is not included in ${!remoteInfo && share.safeToString({\n            remoteInfo,\n            remotes\n        })}`);\n        return {\n            remote: remoteInfo,\n            preloadConfig: defaultPreloadArgs(args)\n        };\n    });\n}\nfunction normalizePreloadExposes(exposes) {\n    if (!exposes) {\n        return [];\n    }\n    return exposes.map((expose)=>{\n        if (expose === '.') {\n            return expose;\n        }\n        if (expose.startsWith('./')) {\n            return expose.replace('./', '');\n        }\n        return expose;\n    });\n}\nfunction preloadAssets(remoteInfo, host, assets) {\n    const { cssAssets, jsAssetsWithoutEntry, entryAssets } = assets;\n    if (host.options.inBrowser) {\n        entryAssets.forEach((asset)=>{\n            const { moduleInfo } = asset;\n            const module = host.moduleCache.get(remoteInfo.name);\n            if (module) {\n                getRemoteEntry({\n                    remoteInfo: moduleInfo,\n                    remoteEntryExports: module.remoteEntryExports,\n                    createScriptHook: (url)=>{\n                        const res = host.loaderHook.lifecycle.createScript.emit({\n                            url\n                        });\n                        if (res instanceof HTMLScriptElement) {\n                            return res;\n                        }\n                        return;\n                    }\n                });\n            } else {\n                getRemoteEntry({\n                    remoteInfo: moduleInfo,\n                    remoteEntryExports: undefined,\n                    createScriptHook: (url)=>{\n                        const res = host.loaderHook.lifecycle.createScript.emit({\n                            url\n                        });\n                        if (res instanceof HTMLScriptElement) {\n                            return res;\n                        }\n                        return;\n                    }\n                });\n            }\n        });\n        const fragment = document.createDocumentFragment();\n        cssAssets.forEach((cssUrl)=>{\n            const cssEl = document.createElement('link');\n            cssEl.setAttribute('rel', 'preload');\n            cssEl.setAttribute('href', cssUrl);\n            cssEl.setAttribute('as', 'style');\n            fragment.appendChild(cssEl);\n        });\n        document.head.appendChild(fragment);\n        jsAssetsWithoutEntry.forEach((jsUrl)=>{\n            const { script: scriptEl } = sdk.createScript(jsUrl, ()=>{\n            // noop\n            }, {}, (url)=>{\n                const res = host.loaderHook.lifecycle.createScript.emit({\n                    url\n                });\n                if (res instanceof HTMLScriptElement) {\n                    return res;\n                }\n                return;\n            });\n            document.head.appendChild(scriptEl);\n        });\n    }\n}\n\nfunction _extends$2() {\n    _extends$2 = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends$2.apply(this, arguments);\n}\nfunction assignRemoteInfo(remoteInfo, remoteSnapshot) {\n    if (!('remoteEntry' in remoteSnapshot) || !remoteSnapshot.remoteEntry) {\n        share.error(`The attribute remoteEntry of ${name} must not be undefined.`);\n    }\n    const { remoteEntry } = remoteSnapshot;\n    const entryUrl = sdk.getResourceUrl(remoteSnapshot, remoteEntry);\n    remoteInfo.type = remoteSnapshot.remoteEntryType;\n    remoteInfo.entryGlobalName = remoteSnapshot.globalName;\n    remoteInfo.entry = entryUrl;\n    remoteInfo.version = remoteSnapshot.version;\n    remoteInfo.buildVersion = remoteSnapshot.buildVersion;\n}\nfunction snapshotPlugin() {\n    return {\n        name: 'snapshot-plugin',\n        async afterResolve (args) {\n            const { remote, pkgNameOrAlias, expose, origin, remoteInfo } = args;\n            if (!share.isRemoteInfoWithEntry(remote) || !share.isPureRemoteEntry(remote)) {\n                const { remoteSnapshot, globalSnapshot } = await origin.snapshotHandler.loadRemoteSnapshotInfo(remote);\n                assignRemoteInfo(remoteInfo, remoteSnapshot);\n                // preloading assets\n                const preloadOptions = {\n                    remote,\n                    preloadConfig: {\n                        nameOrAlias: pkgNameOrAlias,\n                        exposes: [\n                            expose\n                        ],\n                        resourceCategory: 'sync',\n                        share: false,\n                        depsRemote: false\n                    }\n                };\n                const assets = await origin.hooks.lifecycle.generatePreloadAssets.emit({\n                    origin,\n                    preloadOptions,\n                    remoteInfo,\n                    remote,\n                    remoteSnapshot,\n                    globalSnapshot\n                });\n                if (assets) {\n                    preloadAssets(remoteInfo, origin, assets);\n                }\n                return _extends$2({}, args, {\n                    remoteSnapshot\n                });\n            }\n            return args;\n        }\n    };\n}\n\n// name\n// name:version\nfunction splitId(id) {\n    const splitInfo = id.split(':');\n    if (splitInfo.length === 1) {\n        return {\n            name: splitInfo[0],\n            version: undefined\n        };\n    } else if (splitInfo.length === 2) {\n        return {\n            name: splitInfo[0],\n            version: splitInfo[1]\n        };\n    } else {\n        return {\n            name: splitInfo[1],\n            version: splitInfo[2]\n        };\n    }\n}\n// Traverse all nodes in moduleInfo and traverse the entire snapshot\nfunction traverseModuleInfo(globalSnapshot, remoteInfo, traverse, isRoot, memo = {}, remoteSnapshot, getModuleInfoHook) {\n    const id = share.getFMId(remoteInfo);\n    const { value: snapshotValue } = share.getInfoWithoutType(globalSnapshot, id, getModuleInfoHook);\n    const effectiveRemoteSnapshot = remoteSnapshot || snapshotValue;\n    if (effectiveRemoteSnapshot && !sdk.isManifestProvider(effectiveRemoteSnapshot)) {\n        traverse(effectiveRemoteSnapshot, remoteInfo, isRoot);\n        if (effectiveRemoteSnapshot.remotesInfo) {\n            const remoteKeys = Object.keys(effectiveRemoteSnapshot.remotesInfo);\n            for (const key of remoteKeys){\n                if (memo[key]) {\n                    continue;\n                }\n                memo[key] = true;\n                const subRemoteInfo = splitId(key);\n                const remoteValue = effectiveRemoteSnapshot.remotesInfo[key];\n                traverseModuleInfo(globalSnapshot, {\n                    name: subRemoteInfo.name,\n                    version: remoteValue.matchedVersion\n                }, traverse, false, memo, undefined, getModuleInfoHook);\n            }\n        }\n    }\n}\n// eslint-disable-next-line max-lines-per-function\nfunction generatePreloadAssets(origin, preloadOptions, remote, globalSnapshot, remoteSnapshot) {\n    const cssAssets = [];\n    const jsAssets = [];\n    const entryAssets = [];\n    const loadedSharedJsAssets = new Set();\n    const loadedSharedCssAssets = new Set();\n    const { options } = origin;\n    const { preloadConfig: rootPreloadConfig } = preloadOptions;\n    const { depsRemote } = rootPreloadConfig;\n    const memo = {};\n    traverseModuleInfo(globalSnapshot, remote, (moduleInfoSnapshot, remoteInfo, isRoot)=>{\n        let preloadConfig;\n        if (isRoot) {\n            preloadConfig = rootPreloadConfig;\n        } else {\n            if (Array.isArray(depsRemote)) {\n                // eslint-disable-next-line array-callback-return\n                const findPreloadConfig = depsRemote.find((remoteConfig)=>{\n                    if (remoteConfig.nameOrAlias === remoteInfo.name || remoteConfig.nameOrAlias === remoteInfo.alias) {\n                        return true;\n                    }\n                    return false;\n                });\n                if (!findPreloadConfig) {\n                    return;\n                }\n                preloadConfig = defaultPreloadArgs(findPreloadConfig);\n            } else if (depsRemote === true) {\n                preloadConfig = rootPreloadConfig;\n            } else {\n                return;\n            }\n        }\n        const remoteEntryUrl = sdk.getResourceUrl(moduleInfoSnapshot, 'remoteEntry' in moduleInfoSnapshot ? moduleInfoSnapshot.remoteEntry : '');\n        if (remoteEntryUrl) {\n            entryAssets.push({\n                name: remoteInfo.name,\n                moduleInfo: {\n                    name: remoteInfo.name,\n                    entry: remoteEntryUrl,\n                    type: 'remoteEntryType' in moduleInfoSnapshot ? moduleInfoSnapshot.remoteEntryType : 'global',\n                    entryGlobalName: 'globalName' in moduleInfoSnapshot ? moduleInfoSnapshot.globalName : remoteInfo.name,\n                    shareScope: '',\n                    version: 'version' in moduleInfoSnapshot ? moduleInfoSnapshot.version : undefined\n                },\n                url: remoteEntryUrl\n            });\n        }\n        let moduleAssetsInfo = 'modules' in moduleInfoSnapshot ? moduleInfoSnapshot.modules : [];\n        const normalizedPreloadExposes = normalizePreloadExposes(preloadConfig.exposes);\n        if (normalizedPreloadExposes.length && 'modules' in moduleInfoSnapshot) {\n            var _moduleInfoSnapshot_modules;\n            moduleAssetsInfo = moduleInfoSnapshot == null ? void 0 : (_moduleInfoSnapshot_modules = moduleInfoSnapshot.modules) == null ? void 0 : _moduleInfoSnapshot_modules.reduce((assets, moduleAssetInfo)=>{\n                if ((normalizedPreloadExposes == null ? void 0 : normalizedPreloadExposes.indexOf(moduleAssetInfo.moduleName)) !== -1) {\n                    assets.push(moduleAssetInfo);\n                }\n                return assets;\n            }, []);\n        }\n        function handleAssets(assets) {\n            const assetsRes = assets.map((asset)=>sdk.getResourceUrl(moduleInfoSnapshot, asset));\n            if (preloadConfig.filter) {\n                return assetsRes.filter(preloadConfig.filter);\n            }\n            return assetsRes;\n        }\n        if (moduleAssetsInfo) {\n            const assetsLength = moduleAssetsInfo.length;\n            for(let index = 0; index < assetsLength; index++){\n                const assetsInfo = moduleAssetsInfo[index];\n                const exposeFullPath = `${remoteInfo.name}/${assetsInfo.moduleName}`;\n                origin.hooks.lifecycle.handlePreloadModule.emit({\n                    id: assetsInfo.moduleName === '.' ? remoteInfo.name : exposeFullPath,\n                    name: remoteInfo.name,\n                    remoteSnapshot: moduleInfoSnapshot,\n                    preloadConfig\n                });\n                const preloaded = share.getPreloaded(exposeFullPath);\n                if (preloaded) {\n                    continue;\n                }\n                if (preloadConfig.resourceCategory === 'all') {\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.async));\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.sync));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.async));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.sync));\n                // eslint-disable-next-line no-constant-condition\n                } else if (preloadConfig.resourceCategory = 'sync') {\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.sync));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.sync));\n                }\n                share.setPreloaded(exposeFullPath);\n            }\n        }\n    }, true, memo, remoteSnapshot, (target, key)=>{\n        const res = origin.loaderHook.lifecycle.getModuleInfo.emit({\n            target,\n            key\n        });\n        if (res && !(res instanceof Promise)) {\n            return res;\n        }\n        return;\n    });\n    if (remoteSnapshot.shared) {\n        remoteSnapshot.shared.forEach((shared)=>{\n            var _options_shared;\n            const shareInfo = (_options_shared = options.shared) == null ? void 0 : _options_shared[shared.sharedName];\n            // When data is downgraded, the shared configuration may be different.\n            if (!shareInfo) {\n                return;\n            }\n            const registeredShared = share.getRegisteredShare(origin.shareScopeMap, shared.sharedName, shareInfo, origin.hooks.lifecycle.resolveShare);\n            // If the global share does not exist, or the lib function does not exist, it means that the shared has not been loaded yet and can be preloaded.\n            if (registeredShared && typeof registeredShared.lib === 'function') {\n                shared.assets.js.sync.forEach((asset)=>{\n                    loadedSharedJsAssets.add(asset);\n                });\n                shared.assets.css.sync.forEach((asset)=>{\n                    loadedSharedCssAssets.add(asset);\n                });\n            }\n        });\n    }\n    const needPreloadJsAssets = jsAssets.filter((asset)=>!loadedSharedJsAssets.has(asset));\n    const needPreloadCssAssets = cssAssets.filter((asset)=>!loadedSharedCssAssets.has(asset));\n    return {\n        cssAssets: needPreloadCssAssets,\n        jsAssetsWithoutEntry: needPreloadJsAssets,\n        entryAssets\n    };\n}\nconst generatePreloadAssetsPlugin = function() {\n    return {\n        name: 'generate-preload-assets-plugin',\n        async generatePreloadAssets (args) {\n            const { origin, preloadOptions, remoteInfo, remote, globalSnapshot, remoteSnapshot } = args;\n            if (share.isRemoteInfoWithEntry(remote) && share.isPureRemoteEntry(remote)) {\n                return {\n                    cssAssets: [],\n                    jsAssetsWithoutEntry: [],\n                    entryAssets: [\n                        {\n                            name: remote.name,\n                            url: remote.entry,\n                            moduleInfo: {\n                                name: remoteInfo.name,\n                                entry: remote.entry,\n                                type: 'global',\n                                entryGlobalName: '',\n                                shareScope: ''\n                            }\n                        }\n                    ]\n                };\n            }\n            assignRemoteInfo(remoteInfo, remoteSnapshot);\n            const assets = generatePreloadAssets(origin, preloadOptions, remoteInfo, globalSnapshot, remoteSnapshot);\n            return assets;\n        }\n    };\n};\n\nfunction _extends$1() {\n    _extends$1 = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends$1.apply(this, arguments);\n}\nclass SnapshotHandler {\n    async loadSnapshot(moduleInfo) {\n        const { options } = this.HostInstance;\n        const { hostGlobalSnapshot, remoteSnapshot, globalSnapshot } = this.getGlobalRemoteInfo(moduleInfo);\n        const { remoteSnapshot: globalRemoteSnapshot, globalSnapshot: globalSnapshotRes } = await this.hooks.lifecycle.loadSnapshot.emit({\n            options,\n            moduleInfo,\n            hostGlobalSnapshot,\n            remoteSnapshot,\n            globalSnapshot\n        });\n        return {\n            remoteSnapshot: globalRemoteSnapshot,\n            globalSnapshot: globalSnapshotRes\n        };\n    }\n    // eslint-disable-next-line max-lines-per-function\n    async loadRemoteSnapshotInfo(moduleInfo) {\n        const { options } = this.HostInstance;\n        const hostSnapshot = share.getGlobalSnapshotInfoByModuleInfo({\n            name: this.HostInstance.options.name,\n            version: this.HostInstance.options.version\n        }, {\n            getModuleInfoHook: (target, key)=>{\n                const res = this.HostInstance.loaderHook.lifecycle.getModuleInfo.emit({\n                    target,\n                    key\n                });\n                if (res && !(res instanceof Promise)) {\n                    return res;\n                }\n                return;\n            }\n        });\n        await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({\n            options,\n            moduleInfo\n        });\n        // In dynamic loadRemote scenarios, incomplete remotesInfo delivery may occur. In such cases, the remotesInfo in the host needs to be completed in the snapshot at runtime.\n        // This ensures the snapshot's integrity and helps the chrome plugin correctly identify all producer modules, ensuring that proxyable producer modules will not be missing.\n        if (hostSnapshot && 'remotesInfo' in hostSnapshot && !share.getInfoWithoutType(hostSnapshot.remotesInfo, moduleInfo.name, (target, key)=>{\n            const res = this.HostInstance.loaderHook.lifecycle.getModuleInfo.emit({\n                target,\n                key\n            });\n            if (res && !(res instanceof Promise)) {\n                return res;\n            }\n            return;\n        }).value) {\n            if ('version' in moduleInfo || 'entry' in moduleInfo) {\n                hostSnapshot.remotesInfo = _extends$1({}, hostSnapshot == null ? void 0 : hostSnapshot.remotesInfo, {\n                    [moduleInfo.name]: {\n                        matchedVersion: 'version' in moduleInfo ? moduleInfo.version : moduleInfo.entry\n                    }\n                });\n            }\n        }\n        const { hostGlobalSnapshot, remoteSnapshot, globalSnapshot } = this.getGlobalRemoteInfo(moduleInfo);\n        const { remoteSnapshot: globalRemoteSnapshot, globalSnapshot: globalSnapshotRes } = await this.hooks.lifecycle.loadSnapshot.emit({\n            options,\n            moduleInfo,\n            hostGlobalSnapshot,\n            remoteSnapshot,\n            globalSnapshot\n        });\n        // global snapshot includes manifest or module info includes manifest\n        if (globalRemoteSnapshot) {\n            if (sdk.isManifestProvider(globalRemoteSnapshot)) {\n                const moduleSnapshot = await this.getManifestJson(globalRemoteSnapshot.remoteEntry, moduleInfo, {});\n                // eslint-disable-next-line @typescript-eslint/no-shadow\n                const globalSnapshotRes = share.setGlobalSnapshotInfoByModuleInfo(_extends$1({}, moduleInfo), moduleSnapshot);\n                return {\n                    remoteSnapshot: moduleSnapshot,\n                    globalSnapshot: globalSnapshotRes\n                };\n            } else {\n                const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                    options: this.HostInstance.options,\n                    moduleInfo,\n                    remoteSnapshot: globalRemoteSnapshot,\n                    from: 'global'\n                });\n                return {\n                    remoteSnapshot: remoteSnapshotRes,\n                    globalSnapshot: globalSnapshotRes\n                };\n            }\n        } else {\n            if (share.isRemoteInfoWithEntry(moduleInfo)) {\n                // get from manifest.json and merge remote info from remote server\n                const moduleSnapshot = await this.getManifestJson(moduleInfo.entry, moduleInfo, {});\n                // eslint-disable-next-line @typescript-eslint/no-shadow\n                const globalSnapshotRes = share.setGlobalSnapshotInfoByModuleInfo(moduleInfo, moduleSnapshot);\n                const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                    options: this.HostInstance.options,\n                    moduleInfo,\n                    remoteSnapshot: moduleSnapshot,\n                    from: 'global'\n                });\n                return {\n                    remoteSnapshot: remoteSnapshotRes,\n                    globalSnapshot: globalSnapshotRes\n                };\n            } else {\n                share.error(`\n          Cannot get remoteSnapshot with the name: '${moduleInfo.name}', version: '${moduleInfo.version}' from __FEDERATION__.moduleInfo. The following reasons may be causing the problem:\\n\n          1. The Deploy platform did not deliver the correct data. You can use __FEDERATION__.moduleInfo to check the remoteInfo.\\n\n          2. The remote '${moduleInfo.name}' version '${moduleInfo.version}' is not released.\\n\n          The transformed module info: ${JSON.stringify(globalSnapshotRes)}\n        `);\n            }\n        }\n    }\n    getGlobalRemoteInfo(moduleInfo) {\n        const hostGlobalSnapshot = share.getGlobalSnapshotInfoByModuleInfo({\n            name: this.HostInstance.options.name,\n            version: this.HostInstance.options.version\n        }, {\n            getModuleInfoHook: (target, key)=>{\n                const res = this.HostInstance.loaderHook.lifecycle.getModuleInfo.emit({\n                    target,\n                    key\n                });\n                if (res && !(res instanceof Promise)) {\n                    return res;\n                }\n                return;\n            }\n        });\n        // get remote detail info from global\n        const globalRemoteInfo = hostGlobalSnapshot && 'remotesInfo' in hostGlobalSnapshot && hostGlobalSnapshot.remotesInfo && share.getInfoWithoutType(hostGlobalSnapshot.remotesInfo, moduleInfo.name, (target, key)=>{\n            const res = this.HostInstance.loaderHook.lifecycle.getModuleInfo.emit({\n                target,\n                key\n            });\n            if (res && !(res instanceof Promise)) {\n                return res;\n            }\n            return;\n        }).value;\n        if (globalRemoteInfo && globalRemoteInfo.matchedVersion) {\n            return {\n                hostGlobalSnapshot,\n                globalSnapshot: share.getGlobalSnapshot(),\n                remoteSnapshot: share.getGlobalSnapshotInfoByModuleInfo({\n                    name: moduleInfo.name,\n                    version: globalRemoteInfo.matchedVersion\n                }, {\n                    getModuleInfoHook: (target, key)=>{\n                        const res = this.HostInstance.loaderHook.lifecycle.getModuleInfo.emit({\n                            target,\n                            key\n                        });\n                        if (res && !(res instanceof Promise)) {\n                            return res;\n                        }\n                        return;\n                    }\n                })\n            };\n        }\n        return {\n            hostGlobalSnapshot: undefined,\n            globalSnapshot: share.getGlobalSnapshot(),\n            remoteSnapshot: share.getGlobalSnapshotInfoByModuleInfo({\n                name: moduleInfo.name,\n                version: 'version' in moduleInfo ? moduleInfo.version : undefined\n            }, {\n                getModuleInfoHook: (target, key)=>{\n                    const res = this.HostInstance.loaderHook.lifecycle.getModuleInfo.emit({\n                        target,\n                        key\n                    });\n                    if (res && !(res instanceof Promise)) {\n                        return res;\n                    }\n                    return;\n                }\n            })\n        };\n    }\n    async getManifestJson(manifestUrl, moduleInfo, extraOptions) {\n        const getManifest = async ()=>{\n            let manifestJson = this.manifestCache.get(manifestUrl);\n            if (manifestJson) {\n                return manifestJson;\n            }\n            try {\n                let res = await this.loaderHook.lifecycle.fetch.emit(manifestUrl, {});\n                if (!res || !(res instanceof Response)) {\n                    res = await fetch(manifestUrl, {});\n                }\n                manifestJson = await res.json();\n                share.assert(manifestJson.metaData && manifestJson.exposes && manifestJson.shared, `${manifestUrl} is not a federation manifest`);\n                this.manifestCache.set(manifestUrl, manifestJson);\n                return manifestJson;\n            } catch (err) {\n                share.error(`Failed to get manifestJson for ${moduleInfo.name}. The manifest URL is ${manifestUrl}. Please ensure that the manifestUrl is accessible.\n          \\n Error message:\n          \\n ${err}`);\n            }\n        };\n        const asyncLoadProcess = async ()=>{\n            const manifestJson = await getManifest();\n            const remoteSnapshot = sdk.generateSnapshotFromManifest(manifestJson, {\n                version: manifestUrl\n            });\n            const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                options: this.HostInstance.options,\n                moduleInfo,\n                manifestJson,\n                remoteSnapshot,\n                manifestUrl,\n                from: 'manifest'\n            });\n            return remoteSnapshotRes;\n        };\n        if (!this.manifestLoading[manifestUrl]) {\n            this.manifestLoading[manifestUrl] = asyncLoadProcess().then((res)=>res);\n        }\n        return this.manifestLoading[manifestUrl];\n    }\n    constructor(HostInstance){\n        this.loadingHostSnapshot = null;\n        this.manifestCache = new Map();\n        this.hooks = new PluginSystem({\n            beforeLoadRemoteSnapshot: new AsyncHook('beforeLoadRemoteSnapshot'),\n            loadSnapshot: new AsyncWaterfallHook('loadGlobalSnapshot'),\n            loadRemoteSnapshot: new AsyncWaterfallHook('loadRemoteSnapshot')\n        });\n        this.manifestLoading = share.Global.__FEDERATION__.__MANIFEST_LOADING__;\n        this.HostInstance = HostInstance;\n        this.loaderHook = HostInstance.loaderHook;\n    }\n}\n\nfunction _extends() {\n    _extends = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\nfunction _object_without_properties_loose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\nclass FederationHost {\n    _setGlobalShareScopeMap() {\n        const globalShareScopeMap = share.getGlobalShareScope();\n        const identifier = this.options.id || this.options.name;\n        if (identifier && !globalShareScopeMap[identifier]) {\n            globalShareScopeMap[identifier] = this.shareScopeMap;\n        }\n    }\n    initOptions(userOptions) {\n        this.registerPlugins(userOptions.plugins);\n        const options = this.formatOptions(this.options, userOptions);\n        this.options = options;\n        return options;\n    }\n    async loadShare(pkgName, customShareInfo) {\n        var _this_options_shared;\n        // This function performs the following steps:\n        // 1. Checks if the currently loaded share already exists, if not, it throws an error\n        // 2. Searches globally for a matching share, if found, it uses it directly\n        // 3. If not found, it retrieves it from the current share and stores the obtained share globally.\n        const shareInfo = Object.assign({}, (_this_options_shared = this.options.shared) == null ? void 0 : _this_options_shared[pkgName], customShareInfo);\n        if (shareInfo == null ? void 0 : shareInfo.scope) {\n            await Promise.all(shareInfo.scope.map(async (shareScope)=>{\n                await Promise.all(this.initializeSharing(shareScope, shareInfo.strategy));\n                return;\n            }));\n        }\n        const loadShareRes = await this.hooks.lifecycle.beforeLoadShare.emit({\n            pkgName,\n            shareInfo,\n            shared: this.options.shared,\n            origin: this\n        });\n        const { shareInfo: shareInfoRes } = loadShareRes;\n        // Assert that shareInfoRes exists, if not, throw an error\n        share.assert(shareInfoRes, `Cannot find ${pkgName} Share in the ${this.options.name}. Please ensure that the ${pkgName} Share parameters have been injected`);\n        // Retrieve from cache\n        const registeredShared = share.getRegisteredShare(this.shareScopeMap, pkgName, shareInfoRes, this.hooks.lifecycle.resolveShare);\n        const addUseIn = (shared)=>{\n            if (!shared.useIn) {\n                shared.useIn = [];\n            }\n            share.addUniqueItem(shared.useIn, this.options.name);\n        };\n        if (registeredShared && registeredShared.lib) {\n            addUseIn(registeredShared);\n            return registeredShared.lib;\n        } else if (registeredShared && registeredShared.loading && !registeredShared.loaded) {\n            const factory = await registeredShared.loading;\n            registeredShared.loaded = true;\n            if (!registeredShared.lib) {\n                registeredShared.lib = factory;\n            }\n            addUseIn(registeredShared);\n            return factory;\n        } else if (registeredShared) {\n            const asyncLoadProcess = async ()=>{\n                const factory = await registeredShared.get();\n                shareInfoRes.lib = factory;\n                shareInfoRes.loaded = true;\n                addUseIn(shareInfoRes);\n                const gShared = share.getRegisteredShare(this.shareScopeMap, pkgName, shareInfoRes, this.hooks.lifecycle.resolveShare);\n                if (gShared) {\n                    gShared.lib = factory;\n                    gShared.loaded = true;\n                }\n                return factory;\n            };\n            const loading = asyncLoadProcess();\n            this.setShared({\n                pkgName,\n                loaded: false,\n                shared: registeredShared,\n                from: this.options.name,\n                lib: null,\n                loading\n            });\n            return loading;\n        } else {\n            if (customShareInfo) {\n                return false;\n            }\n            const asyncLoadProcess = async ()=>{\n                const factory = await shareInfoRes.get();\n                shareInfoRes.lib = factory;\n                shareInfoRes.loaded = true;\n                addUseIn(shareInfoRes);\n                const gShared = share.getRegisteredShare(this.shareScopeMap, pkgName, shareInfoRes, this.hooks.lifecycle.resolveShare);\n                if (gShared) {\n                    gShared.lib = factory;\n                    gShared.loaded = true;\n                }\n                return factory;\n            };\n            const loading = asyncLoadProcess();\n            this.setShared({\n                pkgName,\n                loaded: false,\n                shared: shareInfoRes,\n                from: this.options.name,\n                lib: null,\n                loading\n            });\n            return loading;\n        }\n    }\n    // The lib function will only be available if the shared set by eager or runtime init is set or the shared is successfully loaded.\n    // 1. If the loaded shared already exists globally, then it will be reused\n    // 2. If lib exists in local shared, it will be used directly\n    // 3. If the local get returns something other than Promise, then it will be used directly\n    loadShareSync(pkgName, customShareInfo) {\n        var _this_options_shared;\n        const shareInfo = Object.assign({}, (_this_options_shared = this.options.shared) == null ? void 0 : _this_options_shared[pkgName], customShareInfo);\n        if (shareInfo == null ? void 0 : shareInfo.scope) {\n            shareInfo.scope.forEach((shareScope)=>{\n                this.initializeSharing(shareScope, shareInfo.strategy);\n            });\n        }\n        const registeredShared = share.getRegisteredShare(this.shareScopeMap, pkgName, shareInfo, this.hooks.lifecycle.resolveShare);\n        const addUseIn = (shared)=>{\n            if (!shared.useIn) {\n                shared.useIn = [];\n            }\n            share.addUniqueItem(shared.useIn, this.options.name);\n        };\n        if (registeredShared) {\n            if (typeof registeredShared.lib === 'function') {\n                addUseIn(registeredShared);\n                if (!registeredShared.loaded) {\n                    registeredShared.loaded = true;\n                    if (registeredShared.from === this.options.name) {\n                        shareInfo.loaded = true;\n                    }\n                }\n                return registeredShared.lib;\n            }\n            if (typeof registeredShared.get === 'function') {\n                const module = registeredShared.get();\n                if (!(module instanceof Promise)) {\n                    addUseIn(registeredShared);\n                    this.setShared({\n                        pkgName,\n                        loaded: true,\n                        from: this.options.name,\n                        lib: module,\n                        shared: registeredShared\n                    });\n                    return module;\n                }\n            }\n        }\n        if (shareInfo.lib) {\n            if (!shareInfo.loaded) {\n                shareInfo.loaded = true;\n            }\n            return shareInfo.lib;\n        }\n        if (shareInfo.get) {\n            const module = shareInfo.get();\n            if (module instanceof Promise) {\n                throw new Error(`\n        The loadShareSync function was unable to load ${pkgName}. The ${pkgName} could not be found in ${this.options.name}.\n        Possible reasons for failure: \\n\n        1. The ${pkgName} share was registered with the 'get' attribute, but loadShare was not used beforehand.\\n\n        2. The ${pkgName} share was not registered with the 'lib' attribute.\\n\n      `);\n            }\n            shareInfo.lib = module;\n            this.setShared({\n                pkgName,\n                loaded: true,\n                from: this.options.name,\n                lib: shareInfo.lib,\n                shared: shareInfo\n            });\n            return shareInfo.lib;\n        }\n        throw new Error(`\n        The loadShareSync function was unable to load ${pkgName}. The ${pkgName} could not be found in ${this.options.name}.\n        Possible reasons for failure: \\n\n        1. The ${pkgName} share was registered with the 'get' attribute, but loadShare was not used beforehand.\\n\n        2. The ${pkgName} share was not registered with the 'lib' attribute.\\n\n      `);\n    }\n    async _getRemoteModuleAndOptions(id) {\n        const loadRemoteArgs = await this.hooks.lifecycle.beforeRequest.emit({\n            id,\n            options: this.options,\n            origin: this\n        });\n        const { id: idRes } = loadRemoteArgs;\n        const remoteSplitInfo = matchRemoteWithNameAndExpose(this.options.remotes, idRes);\n        share.assert(remoteSplitInfo, `\n        Unable to locate ${idRes} in ${this.options.name}. Potential reasons for failure include:\\n\n        1. ${idRes} was not included in the 'remotes' parameter of ${this.options.name || 'the host'}.\\n\n        2. ${idRes} could not be found in the 'remotes' of ${this.options.name} with either 'name' or 'alias' attributes.\n        3. ${idRes} is not online, injected, or loaded.\n        4. ${idRes}  cannot be accessed on the expected.\n        5. The 'beforeRequest' hook was provided but did not return the correct 'remoteInfo' when attempting to load ${idRes}.\n      `);\n        const { remote: rawRemote } = remoteSplitInfo;\n        const remoteInfo = getRemoteInfo(rawRemote);\n        const matchInfo = await this.hooks.lifecycle.afterResolve.emit(_extends({\n            id: idRes\n        }, remoteSplitInfo, {\n            options: this.options,\n            origin: this,\n            remoteInfo\n        }));\n        const { remote, expose } = matchInfo;\n        share.assert(remote && expose, `The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${idRes}.`);\n        let module = this.moduleCache.get(remote.name);\n        const moduleOptions = {\n            host: this,\n            remoteInfo\n        };\n        if (!module) {\n            module = new Module(moduleOptions);\n            this.moduleCache.set(remote.name, module);\n        }\n        return {\n            module,\n            moduleOptions,\n            remoteMatchInfo: matchInfo\n        };\n    }\n    // eslint-disable-next-line max-lines-per-function\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async loadRemote(id, options) {\n        try {\n            const { loadFactory = true } = options || {\n                loadFactory: true\n            };\n            // 1. Validate the parameters of the retrieved module. There are two module request methods: pkgName + expose and alias + expose.\n            // 2. Request the snapshot information of the current host and globally store the obtained snapshot information. The retrieved module information is partially offline and partially online. The online module information will retrieve the modules used online.\n            // 3. Retrieve the detailed information of the current module from global (remoteEntry address, expose resource address)\n            // 4. After retrieving remoteEntry, call the init of the module, and then retrieve the exported content of the module through get\n            // id: pkgName(@federation/app1) + expose(button) = @federation/app1/button\n            // id: alias(app1) + expose(button) = app1/button\n            // id: alias(app1/utils) + expose(loadash/sort) = app1/utils/loadash/sort\n            const { module, moduleOptions, remoteMatchInfo } = await this._getRemoteModuleAndOptions(id);\n            const { pkgNameOrAlias, remote, expose, id: idRes } = remoteMatchInfo;\n            const moduleOrFactory = await module.get(expose, options);\n            await this.hooks.lifecycle.onLoad.emit({\n                id: idRes,\n                pkgNameOrAlias,\n                expose,\n                exposeModule: loadFactory ? moduleOrFactory : undefined,\n                exposeModuleFactory: loadFactory ? undefined : moduleOrFactory,\n                remote,\n                options: moduleOptions,\n                moduleInstance: module,\n                origin: this\n            });\n            return moduleOrFactory;\n        } catch (error) {\n            const { from = 'runtime' } = options || {\n                from: 'runtime'\n            };\n            const failOver = await this.hooks.lifecycle.errorLoadRemote.emit({\n                id,\n                error,\n                from,\n                origin: this\n            });\n            if (!failOver) {\n                throw error;\n            }\n            return failOver;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async preloadRemote(preloadOptions) {\n        await this.hooks.lifecycle.beforePreloadRemote.emit({\n            preloadOptions,\n            options: this.options,\n            origin: this\n        });\n        const preloadOps = formatPreloadArgs(this.options.remotes, preloadOptions);\n        await Promise.all(preloadOps.map(async (ops)=>{\n            const { remote } = ops;\n            const remoteInfo = getRemoteInfo(remote);\n            const { globalSnapshot, remoteSnapshot } = await this.snapshotHandler.loadRemoteSnapshotInfo(remote);\n            const assets = await this.hooks.lifecycle.generatePreloadAssets.emit({\n                origin: this,\n                preloadOptions: ops,\n                remote,\n                remoteInfo,\n                globalSnapshot,\n                remoteSnapshot\n            });\n            if (!assets) {\n                return;\n            }\n            preloadAssets(remoteInfo, this, assets);\n        }));\n    }\n    /**\n   * This function initializes the sharing sequence (executed only once per share scope).\n   * It accepts one argument, the name of the share scope.\n   * If the share scope does not exist, it creates one.\n   */ // eslint-disable-next-line @typescript-eslint/member-ordering\n    initializeSharing(shareScopeName = share.DEFAULT_SCOPE, strategy) {\n        const shareScope = this.shareScopeMap;\n        const hostName = this.options.name;\n        // Creates a new share scope if necessary\n        if (!shareScope[shareScopeName]) {\n            shareScope[shareScopeName] = {};\n        }\n        // Executes all initialization snippets from all accessible modules\n        const scope = shareScope[shareScopeName];\n        const register = (name, shared)=>{\n            var _activeVersion_shareConfig;\n            const { version, eager } = shared;\n            scope[name] = scope[name] || {};\n            const versions = scope[name];\n            const activeVersion = versions[version];\n            const activeVersionEager = Boolean(activeVersion && (activeVersion.eager || ((_activeVersion_shareConfig = activeVersion.shareConfig) == null ? void 0 : _activeVersion_shareConfig.eager)));\n            if (!activeVersion || !activeVersion.loaded && (Boolean(!eager) !== !activeVersionEager ? eager : hostName > activeVersion.from)) {\n                versions[version] = shared;\n            }\n        };\n        const promises = [];\n        const initFn = (mod)=>mod && mod.init && mod.init(shareScope[shareScopeName]);\n        const initRemoteModule = async (key)=>{\n            const { module } = await this._getRemoteModuleAndOptions(key);\n            if (module.getEntry) {\n                const entry = await module.getEntry();\n                if (!module.inited) {\n                    initFn(entry);\n                    module.inited = true;\n                }\n            }\n        };\n        Object.keys(this.options.shared).forEach((shareName)=>{\n            const shared = this.options.shared[shareName];\n            if (shared.scope.includes(shareScopeName)) {\n                register(shareName, shared);\n            }\n        });\n        if (strategy === 'version-first') {\n            this.options.remotes.forEach((remote)=>{\n                if (remote.shareScope === shareScopeName) {\n                    promises.push(initRemoteModule(remote.name));\n                }\n            });\n        }\n        return promises;\n    }\n    initShareScopeMap(scopeName, shareScope) {\n        this.shareScopeMap[scopeName] = shareScope;\n        this.hooks.lifecycle.initContainerShareScopeMap.emit({\n            shareScope,\n            options: this.options,\n            origin: this\n        });\n    }\n    formatOptions(globalOptions, userOptions) {\n        const formatShareOptions = share.formatShareConfigs(userOptions.shared || {}, userOptions.name);\n        const shared = _extends({}, globalOptions.shared, formatShareOptions);\n        const { userOptions: userOptionsRes, options: globalOptionsRes } = this.hooks.lifecycle.beforeInit.emit({\n            origin: this,\n            userOptions,\n            options: globalOptions,\n            shareInfo: shared\n        });\n        const userRemotes = userOptionsRes.remotes || [];\n        const remotes = userRemotes.reduce((res, remote)=>{\n            if (!res.find((item)=>item.name === remote.name)) {\n                if (remote.alias) {\n                    // Validate if alias equals the prefix of remote.name and remote.alias, if so, throw an error\n                    // As multi-level path references cannot guarantee unique names, alias being a prefix of remote.name is not supported\n                    const findEqual = res.find((item)=>{\n                        var _item_alias;\n                        return remote.alias && (item.name.startsWith(remote.alias) || ((_item_alias = item.alias) == null ? void 0 : _item_alias.startsWith(remote.alias)));\n                    });\n                    share.assert(!findEqual, `The alias ${remote.alias} of remote ${remote.name} is not allowed to be the prefix of ${findEqual && findEqual.name} name or alias`);\n                }\n                // Set the remote entry to a complete path\n                if ('entry' in remote) {\n                    if (share.isBrowserEnv()) {\n                        remote.entry = new URL(remote.entry, window.location.origin).href;\n                    }\n                }\n                if (!remote.shareScope) {\n                    remote.shareScope = share.DEFAULT_SCOPE;\n                }\n                if (!remote.type) {\n                    remote.type = share.DEFAULT_REMOTE_TYPE;\n                }\n                res.push(remote);\n            }\n            return res;\n        }, globalOptionsRes.remotes);\n        // register shared in shareScopeMap\n        const sharedKeys = Object.keys(formatShareOptions);\n        sharedKeys.forEach((sharedKey)=>{\n            const sharedVal = formatShareOptions[sharedKey];\n            const registeredShared = share.getRegisteredShare(this.shareScopeMap, sharedKey, sharedVal, this.hooks.lifecycle.resolveShare);\n            if (!registeredShared && sharedVal && sharedVal.lib) {\n                this.setShared({\n                    pkgName: sharedKey,\n                    lib: sharedVal.lib,\n                    get: sharedVal.get,\n                    loaded: true,\n                    shared: sharedVal,\n                    from: userOptions.name\n                });\n            }\n        });\n        const plugins = [\n            ...globalOptionsRes.plugins\n        ];\n        if (userOptionsRes.plugins) {\n            userOptionsRes.plugins.forEach((plugin)=>{\n                if (!plugins.includes(plugin)) {\n                    plugins.push(plugin);\n                }\n            });\n        }\n        const optionsRes = _extends({}, globalOptions, userOptions, {\n            plugins,\n            remotes,\n            shared\n        });\n        this.hooks.lifecycle.init.emit({\n            origin: this,\n            options: optionsRes\n        });\n        return optionsRes;\n    }\n    registerPlugins(plugins) {\n        registerPlugins(plugins, [\n            this.hooks,\n            this.snapshotHandler.hooks,\n            this.loaderHook\n        ]);\n    }\n    setShared({ pkgName, shared, from, lib, loading, loaded, get }) {\n        const { version, scope = 'default' } = shared, shareInfo = _object_without_properties_loose(shared, [\n            \"version\",\n            \"scope\"\n        ]);\n        const scopes = Array.isArray(scope) ? scope : [\n            scope\n        ];\n        scopes.forEach((sc)=>{\n            if (!this.shareScopeMap[sc]) {\n                this.shareScopeMap[sc] = {};\n            }\n            if (!this.shareScopeMap[sc][pkgName]) {\n                this.shareScopeMap[sc][pkgName] = {};\n            }\n            if (this.shareScopeMap[sc][pkgName][version]) {\n                return;\n            }\n            this.shareScopeMap[sc][pkgName][version] = _extends({\n                version,\n                scope: [\n                    'default'\n                ]\n            }, shareInfo, {\n                lib,\n                loaded,\n                loading\n            });\n            if (get) {\n                this.shareScopeMap[sc][pkgName][version].get = get;\n            }\n        });\n    }\n    constructor(userOptions){\n        this.hooks = new PluginSystem({\n            beforeInit: new SyncWaterfallHook('beforeInit'),\n            init: new SyncHook(),\n            beforeRequest: new AsyncWaterfallHook('beforeRequest'),\n            afterResolve: new AsyncWaterfallHook('afterResolve'),\n            // maybe will change, temporarily for internal use only\n            beforeInitContainer: new AsyncWaterfallHook('beforeInitContainer'),\n            // maybe will change, temporarily for internal use only\n            initContainerShareScopeMap: new AsyncWaterfallHook('initContainer'),\n            // maybe will change, temporarily for internal use only\n            initContainer: new AsyncWaterfallHook('initContainer'),\n            onLoad: new AsyncHook('onLoad'),\n            handlePreloadModule: new SyncHook('handlePreloadModule'),\n            errorLoadRemote: new AsyncHook('errorLoadRemote'),\n            beforeLoadShare: new AsyncWaterfallHook('beforeLoadShare'),\n            // not used yet\n            loadShare: new AsyncHook(),\n            resolveShare: new SyncWaterfallHook('resolveShare'),\n            beforePreloadRemote: new AsyncHook(),\n            generatePreloadAssets: new AsyncHook('generatePreloadAssets'),\n            // not used yet\n            afterPreloadRemote: new AsyncHook()\n        });\n        this.version = \"0.0.8\";\n        this.moduleCache = new Map();\n        this.loaderHook = new PluginSystem({\n            // FIXME: may not be suitable , not open to the public yet\n            getModuleInfo: new SyncHook(),\n            createScript: new SyncHook(),\n            // only work for manifest , so not open to the public yet\n            fetch: new AsyncHook('fetch')\n        });\n        // TODO: Validate the details of the options\n        // Initialize options with default values\n        const defaultOptions = {\n            id: share.getBuilderId(),\n            name: userOptions.name,\n            plugins: [\n                snapshotPlugin(),\n                generatePreloadAssetsPlugin()\n            ],\n            remotes: [],\n            shared: {},\n            inBrowser: share.isBrowserEnv()\n        };\n        this.name = userOptions.name;\n        this.options = defaultOptions;\n        this.shareScopeMap = {};\n        this._setGlobalShareScopeMap();\n        this.snapshotHandler = new SnapshotHandler(this);\n        this.registerPlugins([\n            ...defaultOptions.plugins,\n            ...userOptions.plugins || []\n        ]);\n        this.options = this.formatOptions(defaultOptions, userOptions);\n    }\n}\n\nlet FederationInstance = null;\nfunction init(options) {\n    // Retrieve the same instance with the same name\n    const instance = share.getGlobalFederationInstance(options.name, options.version);\n    if (!instance) {\n        // Retrieve debug constructor\n        const FederationConstructor = share.getGlobalFederationConstructor() || FederationHost;\n        FederationInstance = new FederationConstructor(options);\n        share.setGlobalFederationInstance(FederationInstance);\n        return FederationInstance;\n    } else {\n        // Merge options\n        instance.initOptions(options);\n        if (!FederationInstance) {\n            FederationInstance = instance;\n        }\n        return instance;\n    }\n}\nfunction loadRemote(...args) {\n    share.assert(FederationInstance, 'Please call init first');\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.loadRemote.apply(FederationInstance, args);\n}\nfunction loadShare(...args) {\n    share.assert(FederationInstance, 'Please call init first');\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.loadShare.apply(FederationInstance, args);\n}\nfunction loadShareSync(...args) {\n    share.assert(FederationInstance, 'Please call init first');\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.loadShareSync.apply(FederationInstance, args);\n}\nfunction preloadRemote(...args) {\n    share.assert(FederationInstance, 'Please call init first');\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.preloadRemote.apply(FederationInstance, args);\n}\n// Inject for debug\nshare.setGlobalFederationConstructor(FederationHost);\n\nexports.registerGlobalPlugins = share.registerGlobalPlugins;\nObject.defineProperty(exports, 'loadScript', {\n  enumerable: true,\n  get: function () { return sdk.loadScript; }\n});\nexports.FederationHost = FederationHost;\nexports.init = init;\nexports.loadRemote = loadRemote;\nexports.loadShare = loadShare;\nexports.loadShareSync = loadShareSync;\nexports.preloadRemote = preloadRemote;\n","'use strict';\n\nfunction getBuilderId() {\n    //@ts-ignore\n    return typeof FEDERATION_BUILD_IDENTIFIER !== 'undefined' ? FEDERATION_BUILD_IDENTIFIER : '';\n}\nfunction isDebugMode() {\n    return Boolean(\"\");\n}\nfunction isBrowserEnv() {\n    return typeof window !== 'undefined';\n}\n\nconst LOG_CATEGORY = '[ Federation Runtime ]';\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction assert(condition, msg) {\n    if (!condition) {\n        error(msg);\n    }\n}\nfunction error(msg) {\n    throw new Error(`${LOG_CATEGORY}: ${msg}`);\n}\nfunction warn(msg) {\n    console.warn(`${LOG_CATEGORY}: ${msg}`);\n}\n\nfunction addUniqueItem(arr, item) {\n    if (arr.findIndex((name)=>name === item) === -1) {\n        arr.push(item);\n    }\n    return arr;\n}\nfunction getFMId(remoteInfo) {\n    if ('version' in remoteInfo && remoteInfo.version) {\n        return `${remoteInfo.name}:${remoteInfo.version}`;\n    } else if ('entry' in remoteInfo && remoteInfo.entry) {\n        return `${remoteInfo.name}:${remoteInfo.entry}`;\n    } else {\n        return `${remoteInfo.name}`;\n    }\n}\nfunction isRemoteInfoWithEntry(remote) {\n    return typeof remote.entry !== 'undefined';\n}\nfunction isPureRemoteEntry(remote) {\n    return !remote.entry.includes('.json') && remote.entry.includes('.js');\n}\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction safeToString(info) {\n    try {\n        return JSON.stringify(info, null, 2);\n    } catch (e) {\n        return '';\n    }\n}\nfunction isObject(val) {\n    return val && typeof val === 'object';\n}\nconst objectToString = Object.prototype.toString;\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isPlainObject(val) {\n    return objectToString.call(val) === '[object Object]';\n}\n\nfunction _extends$1() {\n    _extends$1 = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends$1.apply(this, arguments);\n}\nfunction _object_without_properties_loose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n// export const nativeGlobal: typeof global = new Function('return this')();\nconst nativeGlobal = new Function('return this')();\nconst Global = nativeGlobal;\nfunction definePropertyGlobalVal(target, key, val) {\n    Object.defineProperty(target, key, {\n        value: val,\n        configurable: false,\n        writable: true\n    });\n}\nfunction includeOwnProperty(target, key) {\n    return Object.hasOwnProperty.call(target, key);\n}\n// This section is to prevent encapsulation by certain microfrontend frameworks. Due to reuse policies, sandbox escapes.\n// The sandbox in the microfrontend does not replicate the value of 'configurable'.\n// If there is no loading content on the global object, this section defines the loading object.\nif (!includeOwnProperty(globalThis, '__GLOBAL_LOADING_REMOTE_ENTRY__')) {\n    definePropertyGlobalVal(globalThis, '__GLOBAL_LOADING_REMOTE_ENTRY__', {});\n}\nconst globalLoading = globalThis.__GLOBAL_LOADING_REMOTE_ENTRY__;\nfunction setGlobalDefaultVal(target) {\n    var _target___FEDERATION__, _target___FEDERATION__1, _target___FEDERATION__2, _target___FEDERATION__3, _target___FEDERATION__4, _target___FEDERATION__5;\n    if (includeOwnProperty(target, '__VMOK__') && !includeOwnProperty(target, '__FEDERATION__')) {\n        definePropertyGlobalVal(target, '__FEDERATION__', target.__VMOK__);\n    }\n    if (!includeOwnProperty(target, '__FEDERATION__')) {\n        definePropertyGlobalVal(target, '__FEDERATION__', {\n            __GLOBAL_PLUGIN__: [],\n            __INSTANCES__: [],\n            moduleInfo: {},\n            __SHARE__: {},\n            __MANIFEST_LOADING__: {},\n            __PRELOADED_MAP__: new Map()\n        });\n        definePropertyGlobalVal(target, '__VMOK__', target.__FEDERATION__);\n    }\n    var ___GLOBAL_PLUGIN__;\n    (___GLOBAL_PLUGIN__ = (_target___FEDERATION__ = target.__FEDERATION__).__GLOBAL_PLUGIN__) != null ? ___GLOBAL_PLUGIN__ : _target___FEDERATION__.__GLOBAL_PLUGIN__ = [];\n    var ___INSTANCES__;\n    (___INSTANCES__ = (_target___FEDERATION__1 = target.__FEDERATION__).__INSTANCES__) != null ? ___INSTANCES__ : _target___FEDERATION__1.__INSTANCES__ = [];\n    var _moduleInfo;\n    (_moduleInfo = (_target___FEDERATION__2 = target.__FEDERATION__).moduleInfo) != null ? _moduleInfo : _target___FEDERATION__2.moduleInfo = {};\n    var ___SHARE__;\n    (___SHARE__ = (_target___FEDERATION__3 = target.__FEDERATION__).__SHARE__) != null ? ___SHARE__ : _target___FEDERATION__3.__SHARE__ = {};\n    var ___MANIFEST_LOADING__;\n    (___MANIFEST_LOADING__ = (_target___FEDERATION__4 = target.__FEDERATION__).__MANIFEST_LOADING__) != null ? ___MANIFEST_LOADING__ : _target___FEDERATION__4.__MANIFEST_LOADING__ = {};\n    var ___PRELOADED_MAP__;\n    (___PRELOADED_MAP__ = (_target___FEDERATION__5 = target.__FEDERATION__).__PRELOADED_MAP__) != null ? ___PRELOADED_MAP__ : _target___FEDERATION__5.__PRELOADED_MAP__ = new Map();\n}\nsetGlobalDefaultVal(globalThis);\nsetGlobalDefaultVal(nativeGlobal);\nfunction resetFederationGlobalInfo() {\n    globalThis.__FEDERATION__.__GLOBAL_PLUGIN__ = [];\n    globalThis.__FEDERATION__.__INSTANCES__ = [];\n    globalThis.__FEDERATION__.moduleInfo = {};\n    globalThis.__FEDERATION__.__SHARE__ = {};\n    globalThis.__FEDERATION__.__MANIFEST_LOADING__ = {};\n}\nfunction getGlobalFederationInstance(name, version) {\n    const buildId = getBuilderId();\n    return globalThis.__FEDERATION__.__INSTANCES__.find((GMInstance)=>{\n        if (buildId && GMInstance.options.id === getBuilderId()) {\n            return true;\n        }\n        if (GMInstance.options.name === name && !GMInstance.options.version && !version) {\n            return true;\n        }\n        if (GMInstance.options.name === name && version && GMInstance.options.version === version) {\n            return true;\n        }\n        return false;\n    });\n}\nfunction setGlobalFederationInstance(FederationInstance) {\n    globalThis.__FEDERATION__.__INSTANCES__.push(FederationInstance);\n}\nfunction getGlobalFederationConstructor() {\n    return globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__;\n}\nfunction setGlobalFederationConstructor(FederationConstructor) {\n    if (isDebugMode()) {\n        globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__ = FederationConstructor;\n        globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__ = \"0.0.8\";\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction getInfoWithoutType(target, key, getModuleInfoHook) {\n    let res = {\n        value: target[key],\n        key: key\n    };\n    if (getModuleInfoHook) {\n        const hookRes = getModuleInfoHook(target, key);\n        res = hookRes || res;\n    }\n    return res;\n}\nconst getGlobalSnapshot = ()=>nativeGlobal.__FEDERATION__.moduleInfo;\nconst getTargetSnapshotInfoByModuleInfo = (moduleInfo, snapshot, getModuleInfoHook)=>{\n    // Check if the remote is included in the hostSnapshot\n    const moduleKey = getFMId(moduleInfo);\n    const getModuleInfo = getInfoWithoutType(snapshot, moduleKey, getModuleInfoHook).value;\n    // The remoteSnapshot might not include a version\n    if (getModuleInfo && !getModuleInfo.version && 'version' in moduleInfo && moduleInfo['version']) {\n        getModuleInfo.version = moduleInfo['version'];\n    }\n    if (getModuleInfo) {\n        return getModuleInfo;\n    }\n    // If the remote is not included in the hostSnapshot, deploy a micro app snapshot\n    if ('version' in moduleInfo && moduleInfo['version']) {\n        const { version } = moduleInfo, resModuleInfo = _object_without_properties_loose(moduleInfo, [\n            \"version\"\n        ]);\n        const moduleKeyWithoutVersion = getFMId(resModuleInfo);\n        const getModuleInfoWithoutVersion = getInfoWithoutType(nativeGlobal.__FEDERATION__.moduleInfo, moduleKeyWithoutVersion, getModuleInfoHook).value;\n        if ((getModuleInfoWithoutVersion == null ? void 0 : getModuleInfoWithoutVersion.version) === version) {\n            return getModuleInfoWithoutVersion;\n        }\n    }\n    return;\n};\nconst getGlobalSnapshotInfoByModuleInfo = (moduleInfo, extraOptions)=>getTargetSnapshotInfoByModuleInfo(moduleInfo, nativeGlobal.__FEDERATION__.moduleInfo, extraOptions == null ? void 0 : extraOptions.getModuleInfoHook);\nconst setGlobalSnapshotInfoByModuleInfo = (remoteInfo, moduleDetailInfo)=>{\n    const moduleKey = getFMId(remoteInfo);\n    nativeGlobal.__FEDERATION__.moduleInfo[moduleKey] = moduleDetailInfo;\n    return nativeGlobal.__FEDERATION__.moduleInfo;\n};\nconst addGlobalSnapshot = (moduleInfos)=>{\n    nativeGlobal.__FEDERATION__.moduleInfo = _extends$1({}, nativeGlobal.__FEDERATION__.moduleInfo, moduleInfos);\n    return ()=>{\n        const keys = Object.keys(moduleInfos);\n        for (const key of keys){\n            delete nativeGlobal.__FEDERATION__.moduleInfo[key];\n        }\n    };\n};\nconst getRemoteEntryExports = (name, globalName)=>{\n    const remoteEntryKey = globalName || `__FEDERATION_${name}:custom__`;\n    const entryExports = globalThis[remoteEntryKey];\n    return {\n        remoteEntryKey,\n        entryExports\n    };\n};\n// This function is used to register global plugins.\n// It iterates over the provided plugins and checks if they are already registered.\n// If a plugin is not registered, it is added to the global plugins.\n// If a plugin is already registered, a warning message is logged.\nconst registerGlobalPlugins = (plugins)=>{\n    const { __GLOBAL_PLUGIN__ } = nativeGlobal.__FEDERATION__;\n    plugins.forEach((plugin)=>{\n        if (__GLOBAL_PLUGIN__.findIndex((p)=>p.name === plugin.name) === -1) {\n            __GLOBAL_PLUGIN__.push(plugin);\n        } else {\n            warn(`The plugin ${plugin.name} has been registered.`);\n        }\n    });\n};\nconst getGlobalHostPlugins = ()=>nativeGlobal.__FEDERATION__.__GLOBAL_PLUGIN__;\nconst getPreloaded = (id)=>globalThis.__FEDERATION__.__PRELOADED_MAP__.get(id);\nconst setPreloaded = (id)=>globalThis.__FEDERATION__.__PRELOADED_MAP__.set(id, true);\n\nconst DEFAULT_SCOPE = 'default';\nconst DEFAULT_REMOTE_TYPE = 'global';\n\n// those constants are based on https://www.rubydoc.info/gems/semantic_range/3.0.0/SemanticRange#BUILDIDENTIFIER-constant\nconst buildIdentifier = '[0-9A-Za-z-]+';\nconst build = `(?:\\\\+(${buildIdentifier}(?:\\\\.${buildIdentifier})*))`;\nconst numericIdentifier = '0|[1-9]\\\\d*';\nconst numericIdentifierLoose = '[0-9]+';\nconst nonNumericIdentifier = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\nconst preReleaseIdentifierLoose = `(?:${numericIdentifierLoose}|${nonNumericIdentifier})`;\nconst preReleaseLoose = `(?:-?(${preReleaseIdentifierLoose}(?:\\\\.${preReleaseIdentifierLoose})*))`;\nconst preReleaseIdentifier = `(?:${numericIdentifier}|${nonNumericIdentifier})`;\nconst preRelease = `(?:-(${preReleaseIdentifier}(?:\\\\.${preReleaseIdentifier})*))`;\nconst xRangeIdentifier = `${numericIdentifier}|x|X|\\\\*`;\nconst xRangePlain = `[v=\\\\s]*(${xRangeIdentifier})(?:\\\\.(${xRangeIdentifier})(?:\\\\.(${xRangeIdentifier})(?:${preRelease})?${build}?)?)?`;\nconst hyphenRange = `^\\\\s*(${xRangePlain})\\\\s+-\\\\s+(${xRangePlain})\\\\s*$`;\nconst mainVersionLoose = `(${numericIdentifierLoose})\\\\.(${numericIdentifierLoose})\\\\.(${numericIdentifierLoose})`;\nconst loosePlain = `[v=\\\\s]*${mainVersionLoose}${preReleaseLoose}?${build}?`;\nconst gtlt = '((?:<|>)?=?)';\nconst comparatorTrim = `(\\\\s*)${gtlt}\\\\s*(${loosePlain}|${xRangePlain})`;\nconst loneTilde = '(?:~>?)';\nconst tildeTrim = `(\\\\s*)${loneTilde}\\\\s+`;\nconst loneCaret = '(?:\\\\^)';\nconst caretTrim = `(\\\\s*)${loneCaret}\\\\s+`;\nconst star = '(<|>)?=?\\\\s*\\\\*';\nconst caret = `^${loneCaret}${xRangePlain}$`;\nconst mainVersion = `(${numericIdentifier})\\\\.(${numericIdentifier})\\\\.(${numericIdentifier})`;\nconst fullPlain = `v?${mainVersion}${preRelease}?${build}?`;\nconst tilde = `^${loneTilde}${xRangePlain}$`;\nconst xRange = `^${gtlt}\\\\s*${xRangePlain}$`;\nconst comparator = `^${gtlt}\\\\s*(${fullPlain})$|^$`;\n// copy from semver package\nconst gte0 = '^\\\\s*>=\\\\s*0.0.0\\\\s*$';\n\nfunction parseRegex(source) {\n    return new RegExp(source);\n}\nfunction isXVersion(version) {\n    return !version || version.toLowerCase() === 'x' || version === '*';\n}\nfunction pipe(...fns) {\n    return (x)=>fns.reduce((v, f)=>f(v), x);\n}\nfunction extractComparator(comparatorString) {\n    return comparatorString.match(parseRegex(comparator));\n}\nfunction combineVersion(major, minor, patch, preRelease) {\n    const mainVersion = `${major}.${minor}.${patch}`;\n    if (preRelease) {\n        return `${mainVersion}-${preRelease}`;\n    }\n    return mainVersion;\n}\n\nfunction parseHyphen(range) {\n    return range.replace(parseRegex(hyphenRange), (_range, from, fromMajor, fromMinor, fromPatch, _fromPreRelease, _fromBuild, to, toMajor, toMinor, toPatch, toPreRelease)=>{\n        if (isXVersion(fromMajor)) {\n            from = '';\n        } else if (isXVersion(fromMinor)) {\n            from = `>=${fromMajor}.0.0`;\n        } else if (isXVersion(fromPatch)) {\n            from = `>=${fromMajor}.${fromMinor}.0`;\n        } else {\n            from = `>=${from}`;\n        }\n        if (isXVersion(toMajor)) {\n            to = '';\n        } else if (isXVersion(toMinor)) {\n            to = `<${Number(toMajor) + 1}.0.0-0`;\n        } else if (isXVersion(toPatch)) {\n            to = `<${toMajor}.${Number(toMinor) + 1}.0-0`;\n        } else if (toPreRelease) {\n            to = `<=${toMajor}.${toMinor}.${toPatch}-${toPreRelease}`;\n        } else {\n            to = `<=${to}`;\n        }\n        return `${from} ${to}`.trim();\n    });\n}\nfunction parseComparatorTrim(range) {\n    return range.replace(parseRegex(comparatorTrim), '$1$2$3');\n}\nfunction parseTildeTrim(range) {\n    return range.replace(parseRegex(tildeTrim), '$1~');\n}\nfunction parseCaretTrim(range) {\n    return range.replace(parseRegex(caretTrim), '$1^');\n}\nfunction parseCarets(range) {\n    return range.trim().split(/\\s+/).map((rangeVersion)=>rangeVersion.replace(parseRegex(caret), (_, major, minor, patch, preRelease)=>{\n            if (isXVersion(major)) {\n                return '';\n            } else if (isXVersion(minor)) {\n                return `>=${major}.0.0 <${Number(major) + 1}.0.0-0`;\n            } else if (isXVersion(patch)) {\n                if (major === '0') {\n                    return `>=${major}.${minor}.0 <${major}.${Number(minor) + 1}.0-0`;\n                } else {\n                    return `>=${major}.${minor}.0 <${Number(major) + 1}.0.0-0`;\n                }\n            } else if (preRelease) {\n                if (major === '0') {\n                    if (minor === '0') {\n                        return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${minor}.${Number(patch) + 1}-0`;\n                    } else {\n                        return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n                    }\n                } else {\n                    return `>=${major}.${minor}.${patch}-${preRelease} <${Number(major) + 1}.0.0-0`;\n                }\n            } else {\n                if (major === '0') {\n                    if (minor === '0') {\n                        return `>=${major}.${minor}.${patch} <${major}.${minor}.${Number(patch) + 1}-0`;\n                    } else {\n                        return `>=${major}.${minor}.${patch} <${major}.${Number(minor) + 1}.0-0`;\n                    }\n                }\n                return `>=${major}.${minor}.${patch} <${Number(major) + 1}.0.0-0`;\n            }\n        })).join(' ');\n}\nfunction parseTildes(range) {\n    return range.trim().split(/\\s+/).map((rangeVersion)=>rangeVersion.replace(parseRegex(tilde), (_, major, minor, patch, preRelease)=>{\n            if (isXVersion(major)) {\n                return '';\n            } else if (isXVersion(minor)) {\n                return `>=${major}.0.0 <${Number(major) + 1}.0.0-0`;\n            } else if (isXVersion(patch)) {\n                return `>=${major}.${minor}.0 <${major}.${Number(minor) + 1}.0-0`;\n            } else if (preRelease) {\n                return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n            }\n            return `>=${major}.${minor}.${patch} <${major}.${Number(minor) + 1}.0-0`;\n        })).join(' ');\n}\nfunction parseXRanges(range) {\n    return range.split(/\\s+/).map((rangeVersion)=>rangeVersion.trim().replace(parseRegex(xRange), (ret, gtlt, major, minor, patch, preRelease)=>{\n            const isXMajor = isXVersion(major);\n            const isXMinor = isXMajor || isXVersion(minor);\n            const isXPatch = isXMinor || isXVersion(patch);\n            if (gtlt === '=' && isXPatch) {\n                gtlt = '';\n            }\n            preRelease = '';\n            if (isXMajor) {\n                if (gtlt === '>' || gtlt === '<') {\n                    // nothing is allowed\n                    return '<0.0.0-0';\n                } else {\n                    // nothing is forbidden\n                    return '*';\n                }\n            } else if (gtlt && isXPatch) {\n                // replace X with 0\n                if (isXMinor) {\n                    minor = 0;\n                }\n                patch = 0;\n                if (gtlt === '>') {\n                    // >1 => >=2.0.0\n                    // >1.2 => >=1.3.0\n                    gtlt = '>=';\n                    if (isXMinor) {\n                        major = Number(major) + 1;\n                        minor = 0;\n                        patch = 0;\n                    } else {\n                        minor = Number(minor) + 1;\n                        patch = 0;\n                    }\n                } else if (gtlt === '<=') {\n                    // <=0.7.x is actually <0.8.0, since any 0.7.x should pass\n                    // Similarly, <=7.x is actually <8.0.0, etc.\n                    gtlt = '<';\n                    if (isXMinor) {\n                        major = Number(major) + 1;\n                    } else {\n                        minor = Number(minor) + 1;\n                    }\n                }\n                if (gtlt === '<') {\n                    preRelease = '-0';\n                }\n                return `${gtlt + major}.${minor}.${patch}${preRelease}`;\n            } else if (isXMinor) {\n                return `>=${major}.0.0${preRelease} <${Number(major) + 1}.0.0-0`;\n            } else if (isXPatch) {\n                return `>=${major}.${minor}.0${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n            }\n            return ret;\n        })).join(' ');\n}\nfunction parseStar(range) {\n    return range.trim().replace(parseRegex(star), '');\n}\nfunction parseGTE0(comparatorString) {\n    return comparatorString.trim().replace(parseRegex(gte0), '');\n}\n\nfunction compareAtom(rangeAtom, versionAtom) {\n    rangeAtom = Number(rangeAtom) || rangeAtom;\n    versionAtom = Number(versionAtom) || versionAtom;\n    if (rangeAtom > versionAtom) {\n        return 1;\n    }\n    if (rangeAtom === versionAtom) {\n        return 0;\n    }\n    return -1;\n}\nfunction comparePreRelease(rangeAtom, versionAtom) {\n    const { preRelease: rangePreRelease } = rangeAtom;\n    const { preRelease: versionPreRelease } = versionAtom;\n    if (rangePreRelease === undefined && Boolean(versionPreRelease)) {\n        return 1;\n    }\n    if (Boolean(rangePreRelease) && versionPreRelease === undefined) {\n        return -1;\n    }\n    if (rangePreRelease === undefined && versionPreRelease === undefined) {\n        return 0;\n    }\n    for(let i = 0, n = rangePreRelease.length; i <= n; i++){\n        const rangeElement = rangePreRelease[i];\n        const versionElement = versionPreRelease[i];\n        if (rangeElement === versionElement) {\n            continue;\n        }\n        if (rangeElement === undefined && versionElement === undefined) {\n            return 0;\n        }\n        if (!rangeElement) {\n            return 1;\n        }\n        if (!versionElement) {\n            return -1;\n        }\n        return compareAtom(rangeElement, versionElement);\n    }\n    return 0;\n}\nfunction compareVersion(rangeAtom, versionAtom) {\n    return compareAtom(rangeAtom.major, versionAtom.major) || compareAtom(rangeAtom.minor, versionAtom.minor) || compareAtom(rangeAtom.patch, versionAtom.patch) || comparePreRelease(rangeAtom, versionAtom);\n}\nfunction eq(rangeAtom, versionAtom) {\n    return rangeAtom.version === versionAtom.version;\n}\nfunction compare(rangeAtom, versionAtom) {\n    switch(rangeAtom.operator){\n        case '':\n        case '=':\n            return eq(rangeAtom, versionAtom);\n        case '>':\n            return compareVersion(rangeAtom, versionAtom) < 0;\n        case '>=':\n            return eq(rangeAtom, versionAtom) || compareVersion(rangeAtom, versionAtom) < 0;\n        case '<':\n            return compareVersion(rangeAtom, versionAtom) > 0;\n        case '<=':\n            return eq(rangeAtom, versionAtom) || compareVersion(rangeAtom, versionAtom) > 0;\n        case undefined:\n            {\n                // mean * or x -> all versions\n                return true;\n            }\n        default:\n            return false;\n    }\n}\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\nfunction parseComparatorString(range) {\n    return pipe(// handle caret\n    // ^ --> * (any, kinda silly)\n    // ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n    // ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n    // ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n    // ^1.2.3 --> >=1.2.3 <2.0.0-0\n    // ^1.2.0 --> >=1.2.0 <2.0.0-0\n    parseCarets, // handle tilde\n    // ~, ~> --> * (any, kinda silly)\n    // ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n    // ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n    // ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n    // ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n    // ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n    parseTildes, parseXRanges, parseStar)(range);\n}\nfunction parseRange(range) {\n    return pipe(// handle hyphenRange\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    parseHyphen, // handle trim comparator\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    parseComparatorTrim, // handle trim tilde\n    // `~ 1.2.3` => `~1.2.3`\n    parseTildeTrim, // handle trim caret\n    // `^ 1.2.3` => `^1.2.3`\n    parseCaretTrim)(range.trim()).split(/\\s+/).join(' ');\n}\nfunction satisfy(version, range) {\n    if (!version) {\n        return false;\n    }\n    const parsedRange = parseRange(range);\n    const parsedComparator = parsedRange.split(' ').map((rangeVersion)=>parseComparatorString(rangeVersion)).join(' ');\n    const comparators = parsedComparator.split(/\\s+/).map((comparator)=>parseGTE0(comparator));\n    const extractedVersion = extractComparator(version);\n    if (!extractedVersion) {\n        return false;\n    }\n    const [, versionOperator, , versionMajor, versionMinor, versionPatch, versionPreRelease] = extractedVersion;\n    const versionAtom = {\n        operator: versionOperator,\n        version: combineVersion(versionMajor, versionMinor, versionPatch, versionPreRelease),\n        major: versionMajor,\n        minor: versionMinor,\n        patch: versionPatch,\n        preRelease: versionPreRelease == null ? void 0 : versionPreRelease.split('.')\n    };\n    for (const comparator of comparators){\n        const extractedComparator = extractComparator(comparator);\n        if (!extractedComparator) {\n            return false;\n        }\n        const [, rangeOperator, , rangeMajor, rangeMinor, rangePatch, rangePreRelease] = extractedComparator;\n        const rangeAtom = {\n            operator: rangeOperator,\n            version: combineVersion(rangeMajor, rangeMinor, rangePatch, rangePreRelease),\n            major: rangeMajor,\n            minor: rangeMinor,\n            patch: rangePatch,\n            preRelease: rangePreRelease == null ? void 0 : rangePreRelease.split('.')\n        };\n        if (!compare(rangeAtom, versionAtom)) {\n            return false; // early return\n        }\n    }\n    return true;\n}\n\nfunction _extends() {\n    _extends = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\nfunction formatShare(shareArgs, from) {\n    let get;\n    if ('get' in shareArgs) {\n        // eslint-disable-next-line prefer-destructuring\n        get = shareArgs.get;\n    } else {\n        // @ts-ignore ignore\n        get = ()=>Promise.resolve(shareArgs.lib);\n    }\n    return _extends({\n        deps: [],\n        useIn: [],\n        from,\n        loading: null\n    }, shareArgs, {\n        shareConfig: _extends({\n            requiredVersion: `^${shareArgs.version}`,\n            singleton: false,\n            eager: false,\n            strictVersion: false\n        }, shareArgs.shareConfig),\n        get,\n        loaded: 'lib' in shareArgs ? true : undefined,\n        scope: Array.isArray(shareArgs.scope) ? shareArgs.scope : [\n            'default'\n        ],\n        strategy: shareArgs.strategy || 'version-first'\n    });\n}\nfunction formatShareConfigs(shareArgs, from) {\n    if (!shareArgs) {\n        return {};\n    }\n    return Object.keys(shareArgs).reduce((res, pkgName)=>{\n        res[pkgName] = formatShare(shareArgs[pkgName], from);\n        return res;\n    }, {});\n}\nfunction versionLt(a, b) {\n    const transformInvalidVersion = (version)=>{\n        const isNumberVersion = !Number.isNaN(Number(version));\n        if (isNumberVersion) {\n            const splitArr = version.split('.');\n            let validVersion = version;\n            for(let i = 0; i < 3 - splitArr.length; i++){\n                validVersion += '.0';\n            }\n            return validVersion;\n        }\n        return version;\n    };\n    if (satisfy(transformInvalidVersion(a), `<=${transformInvalidVersion(b)}`)) {\n        return true;\n    } else {\n        return false;\n    }\n}\nconst findVersion = (shareScopeMap, scope, pkgName, cb)=>{\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = cb || function(prev, cur) {\n        return versionLt(prev, cur);\n    };\n    return Object.keys(versions).reduce((prev, cur)=>{\n        if (!prev) {\n            return cur;\n        }\n        if (callback(prev, cur)) {\n            return cur;\n        }\n        // default version is '0' https://github.com/webpack/webpack/blob/main/lib/sharing/ProvideSharedModule.js#L136\n        if (prev === '0') {\n            return cur;\n        }\n        return prev;\n    }, 0);\n};\nfunction findSingletonVersionOrderByVersion(shareScopeMap, scope, pkgName) {\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = function(prev, cur) {\n        return !versions[prev].loaded && versionLt(prev, cur);\n    };\n    return findVersion(shareScopeMap, scope, pkgName, callback);\n}\nfunction findSingletonVersionOrderByLoaded(shareScopeMap, scope, pkgName) {\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = function(prev, cur) {\n        if (versions[cur].loaded) {\n            if (versions[prev].loaded) {\n                return Boolean(versionLt(prev, cur));\n            } else {\n                return true;\n            }\n        }\n        if (versions[prev].loaded) {\n            return false;\n        }\n        return versionLt(prev, cur);\n    };\n    return findVersion(shareScopeMap, scope, pkgName, callback);\n}\nfunction getFindShareFunction(strategy) {\n    if (strategy === 'loaded-first') {\n        return findSingletonVersionOrderByLoaded;\n    }\n    return findSingletonVersionOrderByVersion;\n}\nfunction getRegisteredShare(localShareScopeMap, pkgName, shareInfo, resolveShare) {\n    if (!localShareScopeMap) {\n        return;\n    }\n    const { shareConfig, scope = DEFAULT_SCOPE, strategy } = shareInfo;\n    const scopes = Array.isArray(scope) ? scope : [\n        scope\n    ];\n    for (const sc of scopes){\n        if (shareConfig && localShareScopeMap[sc] && localShareScopeMap[sc][pkgName]) {\n            const { requiredVersion } = shareConfig;\n            const findShareFunction = getFindShareFunction(strategy);\n            const maxOrSingletonVersion = findShareFunction(localShareScopeMap, sc, pkgName);\n            //@ts-ignore\n            const defaultResolver = ()=>{\n                if (shareConfig.singleton) {\n                    if (typeof requiredVersion === 'string' && !satisfy(maxOrSingletonVersion, requiredVersion)) {\n                        const msg = `Version ${maxOrSingletonVersion} from ${maxOrSingletonVersion && localShareScopeMap[sc][pkgName][maxOrSingletonVersion].from} of shared singleton module ${pkgName} does not satisfy the requirement of ${shareInfo.from} which needs ${requiredVersion})`;\n                        if (shareConfig.strictVersion) {\n                            error(msg);\n                        } else {\n                            warn(msg);\n                        }\n                    }\n                    return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                } else {\n                    if (requiredVersion === false || requiredVersion === '*') {\n                        return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                    }\n                    if (satisfy(maxOrSingletonVersion, requiredVersion)) {\n                        return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                    }\n                    for (const [versionKey, versionValue] of Object.entries(localShareScopeMap[sc][pkgName])){\n                        if (satisfy(versionKey, requiredVersion)) {\n                            return versionValue;\n                        }\n                    }\n                }\n            };\n            const params = {\n                shareScopeMap: localShareScopeMap,\n                scope: sc,\n                pkgName,\n                version: maxOrSingletonVersion,\n                GlobalFederation: Global.__FEDERATION__,\n                resolver: defaultResolver\n            };\n            const resolveShared = resolveShare.emit(params) || params;\n            return resolveShared.resolver();\n        }\n    }\n}\nfunction getGlobalShareScope() {\n    return Global.__FEDERATION__.__SHARE__;\n}\n\nexports.DEFAULT_REMOTE_TYPE = DEFAULT_REMOTE_TYPE;\nexports.DEFAULT_SCOPE = DEFAULT_SCOPE;\nexports.Global = Global;\nexports.addGlobalSnapshot = addGlobalSnapshot;\nexports.addUniqueItem = addUniqueItem;\nexports.assert = assert;\nexports.error = error;\nexports.formatShareConfigs = formatShareConfigs;\nexports.getBuilderId = getBuilderId;\nexports.getFMId = getFMId;\nexports.getGlobalFederationConstructor = getGlobalFederationConstructor;\nexports.getGlobalFederationInstance = getGlobalFederationInstance;\nexports.getGlobalHostPlugins = getGlobalHostPlugins;\nexports.getGlobalShareScope = getGlobalShareScope;\nexports.getGlobalSnapshot = getGlobalSnapshot;\nexports.getGlobalSnapshotInfoByModuleInfo = getGlobalSnapshotInfoByModuleInfo;\nexports.getInfoWithoutType = getInfoWithoutType;\nexports.getPreloaded = getPreloaded;\nexports.getRegisteredShare = getRegisteredShare;\nexports.getRemoteEntryExports = getRemoteEntryExports;\nexports.getTargetSnapshotInfoByModuleInfo = getTargetSnapshotInfoByModuleInfo;\nexports.globalLoading = globalLoading;\nexports.isBrowserEnv = isBrowserEnv;\nexports.isObject = isObject;\nexports.isPlainObject = isPlainObject;\nexports.isPureRemoteEntry = isPureRemoteEntry;\nexports.isRemoteInfoWithEntry = isRemoteInfoWithEntry;\nexports.nativeGlobal = nativeGlobal;\nexports.registerGlobalPlugins = registerGlobalPlugins;\nexports.resetFederationGlobalInfo = resetFederationGlobalInfo;\nexports.safeToString = safeToString;\nexports.setGlobalFederationConstructor = setGlobalFederationConstructor;\nexports.setGlobalFederationInstance = setGlobalFederationInstance;\nexports.setGlobalSnapshotInfoByModuleInfo = setGlobalSnapshotInfoByModuleInfo;\nexports.setPreloaded = setPreloaded;\nexports.warn = warn;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _define_property$2(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nvar FederationModuleManifest = \"federation-manifest.json\";\nvar MANIFEST_EXT = \".json\";\nvar BROWSER_LOG_KEY = \"FEDERATION_DEBUG\";\nvar BROWSER_LOG_VALUE = \"1\";\nvar NameTransformSymbol = {\n    AT: \"@\",\n    HYPHEN: \"-\",\n    SLASH: \"/\"\n};\nvar _obj;\nvar NameTransformMap = (_obj = {}, _define_property$2(_obj, NameTransformSymbol.AT, \"scope_\"), _define_property$2(_obj, NameTransformSymbol.HYPHEN, \"_\"), _define_property$2(_obj, NameTransformSymbol.SLASH, \"__\"), _obj);\nvar _obj1;\nvar EncodedNameTransformMap = (_obj1 = {}, _define_property$2(_obj1, NameTransformMap[NameTransformSymbol.AT], NameTransformSymbol.AT), _define_property$2(_obj1, NameTransformMap[NameTransformSymbol.HYPHEN], NameTransformSymbol.HYPHEN), _define_property$2(_obj1, NameTransformMap[NameTransformSymbol.SLASH], NameTransformSymbol.SLASH), _obj1);\nvar SEPARATOR = \":\";\n\nfunction isBrowserEnv() {\n    return typeof window !== \"undefined\";\n}\nfunction isDebugMode() {\n    if (typeof process !== \"undefined\" && process.env && process.env[\"FEDERATION_DEBUG\"]) {\n        return Boolean(process.env[\"FEDERATION_DEBUG\"]);\n    }\n    return typeof FEDERATION_DEBUG !== \"undefined\" && Boolean(FEDERATION_DEBUG);\n}\nvar getProcessEnv = function getProcessEnv() {\n    return typeof process !== \"undefined\" && process.env ? process.env : {};\n};\n\nfunction _array_like_to_array$2(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array$2(arr);\n}\nfunction _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _define_property$1(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _iterable_to_array$1(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array$1(arr) || _unsupported_iterable_to_array$2(arr) || _non_iterable_spread();\n}\nfunction _unsupported_iterable_to_array$2(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array$2(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array$2(o, minLen);\n}\nfunction safeToString(info) {\n    try {\n        return JSON.stringify(info, null, 2);\n    } catch (e) {\n        return \"\";\n    }\n}\nvar DEBUG_LOG = \"[ FEDERATION DEBUG ]\";\nvar Logger = /*#__PURE__*/ function() {\n    function Logger(identifier) {\n        _class_call_check(this, Logger);\n        _define_property$1(this, \"enable\", false);\n        _define_property$1(this, \"identifier\", void 0);\n        this.identifier = identifier || DEBUG_LOG;\n        if (isBrowserEnv() && localStorage.getItem(BROWSER_LOG_KEY) === BROWSER_LOG_VALUE) {\n            this.enable = true;\n        } else if (isDebugMode()) {\n            this.enable = true;\n        }\n    }\n    _create_class(Logger, [\n        {\n            key: \"info\",\n            value: function info(msg, info) {\n                if (this.enable) {\n                    var argsToString = safeToString(info) || \"\";\n                    if (isBrowserEnv()) {\n                        console.info(\"%c \".concat(this.identifier, \": \").concat(msg, \" \").concat(argsToString), \"color:#3300CC\");\n                    } else {\n                        console.info(\"\\x1b[34m%s\", \"\".concat(this.identifier, \": \").concat(msg, \" \").concat(argsToString ? \"\\n\".concat(argsToString) : \"\"));\n                    }\n                }\n            }\n        },\n        {\n            key: \"logOriginalInfo\",\n            value: function logOriginalInfo() {\n                for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n                    args[_key] = arguments[_key];\n                }\n                if (this.enable) {\n                    if (isBrowserEnv()) {\n                        var _console;\n                        console.info(\"%c \".concat(this.identifier, \": OriginalInfo\"), \"color:#3300CC\");\n                        (_console = console).log.apply(_console, _to_consumable_array(args));\n                    } else {\n                        var _console1;\n                        console.info(\"%c \".concat(this.identifier, \": OriginalInfo\"), \"color:#3300CC\");\n                        (_console1 = console).log.apply(_console1, _to_consumable_array(args));\n                    }\n                }\n            }\n        }\n    ]);\n    return Logger;\n}();\n\nfunction _array_like_to_array$1(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_with_holes$1(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _iterable_to_array_limit$1(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction _non_iterable_rest$1() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _sliced_to_array$1(arr, i) {\n    return _array_with_holes$1(arr) || _iterable_to_array_limit$1(arr, i) || _unsupported_iterable_to_array$1(arr, i) || _non_iterable_rest$1();\n}\nfunction _to_array(arr) {\n    return _array_with_holes$1(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array$1(arr) || _non_iterable_rest$1();\n}\nfunction _unsupported_iterable_to_array$1(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array$1(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array$1(o, minLen);\n}\nvar LOG_CATEGORY = \"[ Federation Runtime ]\";\n// entry: name:version   version : 1.0.0 | ^1.2.3\n// entry: name:entry  entry:  https://localhost:9000/federation-manifest.json\nvar parseEntry = function(str, devVerOrUrl) {\n    var strSplit = str.split(SEPARATOR);\n    var devVersionOrUrl = getProcessEnv()[\"NODE_ENV\"] === \"development\" && devVerOrUrl;\n    var defaultVersion = \"*\";\n    var isEntry = function(s) {\n        return s.startsWith(\"http\") || s.includes(MANIFEST_EXT);\n    };\n    // Check if the string starts with a type\n    if (strSplit.length >= 2) {\n        var _strSplit = _to_array(strSplit), name = _strSplit[0], versionOrEntryArr = _strSplit.slice(1);\n        var versionOrEntry = devVersionOrUrl || versionOrEntryArr.join(SEPARATOR);\n        if (isEntry(versionOrEntry)) {\n            return {\n                name: name,\n                entry: versionOrEntry\n            };\n        } else {\n            // Apply version rule\n            // devVersionOrUrl => inputVersion => defaultVersion\n            return {\n                name: name,\n                version: versionOrEntry || defaultVersion\n            };\n        }\n    } else if (strSplit.length === 1) {\n        var _strSplit1 = _sliced_to_array$1(strSplit, 1), name1 = _strSplit1[0];\n        if (devVersionOrUrl && isEntry(devVersionOrUrl)) {\n            return {\n                name: name1,\n                entry: devVersionOrUrl\n            };\n        }\n        return {\n            name: name1,\n            version: devVersionOrUrl || defaultVersion\n        };\n    } else {\n        throw \"Invalid entry value: \".concat(str);\n    }\n};\nvar logger = new Logger();\nvar composeKeyWithSeparator =  function composeKeyWithSeparator() {\n    for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n        args[_key] = arguments[_key];\n    }\n    if (!args.length) {\n        return \"\";\n    }\n    return args.reduce(function(sum, cur) {\n        if (!cur) {\n            return sum;\n        }\n        if (!sum) {\n            return cur;\n        }\n        return \"\".concat(sum).concat(SEPARATOR).concat(cur);\n    }, \"\");\n};\nvar encodeName =  function encodeName(name) {\n    var prefix = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\", withExt = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n    try {\n        var ext = withExt ? \".js\" : \"\";\n        return \"\".concat(prefix).concat(name.replace(new RegExp(\"\".concat(NameTransformSymbol.AT), \"g\"), NameTransformMap[NameTransformSymbol.AT]).replace(new RegExp(\"\".concat(NameTransformSymbol.HYPHEN), \"g\"), NameTransformMap[NameTransformSymbol.HYPHEN]).replace(new RegExp(\"\".concat(NameTransformSymbol.SLASH), \"g\"), NameTransformMap[NameTransformSymbol.SLASH])).concat(ext);\n    } catch (err) {\n        throw err;\n    }\n};\nvar decodeName =  function decodeName(name, prefix, withExt) {\n    try {\n        var decodedName = name;\n        if (prefix) {\n            if (!decodedName.startsWith(prefix)) {\n                return decodedName;\n            }\n            decodedName = decodedName.replace(new RegExp(prefix, \"g\"), \"\");\n        }\n        decodedName = decodedName.replace(new RegExp(\"\".concat(NameTransformMap[NameTransformSymbol.AT]), \"g\"), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.AT]]).replace(new RegExp(\"\".concat(NameTransformMap[NameTransformSymbol.SLASH]), \"g\"), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.SLASH]]).replace(new RegExp(\"\".concat(NameTransformMap[NameTransformSymbol.HYPHEN]), \"g\"), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.HYPHEN]]);\n        if (withExt) {\n            decodedName = decodedName.replace(\".js\", \"\");\n        }\n        return decodedName;\n    } catch (err) {\n        throw err;\n    }\n};\nvar generateExposeFilename =  function(exposeName, withExt) {\n    if (!exposeName) {\n        return \"\";\n    }\n    var expose = exposeName;\n    if (expose === \".\") {\n        expose = \"default_export\";\n    }\n    if (expose.startsWith(\"./\")) {\n        expose = expose.replace(\"./\", \"\");\n    }\n    return encodeName(expose, \"__federation_expose_\", withExt);\n};\nvar generateShareFilename =  function(pkgName, withExt) {\n    if (!pkgName) {\n        return \"\";\n    }\n    return encodeName(pkgName, \"__federation_shared_\", withExt);\n};\nvar getResourceUrl = function(module, sourceUrl) {\n    if (\"getPublicPath\" in module) {\n        var publicPath = new Function(module.getPublicPath)();\n        return \"\".concat(publicPath).concat(sourceUrl);\n    } else if (\"publicPath\" in module) {\n        return \"\".concat(module.publicPath).concat(sourceUrl);\n    } else {\n        console.warn(\"Can not get resource url, if in debug mode, please ignore\", module, sourceUrl);\n        return \"\";\n    }\n};\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nvar assert = function(condition, msg) {\n    if (!condition) {\n        error(msg);\n    }\n};\nvar error = function(msg) {\n    throw new Error(\"\".concat(LOG_CATEGORY, \": \").concat(msg));\n};\nvar warn = function(msg) {\n    console.warn(\"\".concat(LOG_CATEGORY, \": \").concat(msg));\n};\n\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\nvar simpleJoinRemoteEntry = function(rPath, rName) {\n    if (!rPath) {\n        return rName;\n    }\n    var transformPath = function(str) {\n        if (str === \".\") {\n            return \"\";\n        }\n        if (str.startsWith(\"./\")) {\n            return str.replace(\"./\", \"\");\n        }\n        if (str.startsWith(\"/\")) {\n            var strWithoutSlash = str.slice(1);\n            if (strWithoutSlash.endsWith(\"/\")) {\n                return strWithoutSlash.slice(0, -1);\n            }\n            return strWithoutSlash;\n        }\n        return str;\n    };\n    var transformedPath = transformPath(rPath);\n    if (!transformedPath) {\n        return rName;\n    }\n    if (transformedPath.endsWith(\"/\")) {\n        return \"\".concat(transformedPath).concat(rName);\n    }\n    return \"\".concat(transformedPath, \"/\").concat(rName);\n};\n// Priority: overrides > remotes\n// eslint-disable-next-line max-lines-per-function\nfunction generateSnapshotFromManifest(manifest) {\n    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    var _manifest_metaData;\n    var _options_remotes = options.remotes, remotes = _options_remotes === void 0 ? {} : _options_remotes, _options_overrides = options.overrides, overrides = _options_overrides === void 0 ? {} : _options_overrides, version = options.version;\n    var remoteSnapshot;\n    var getPublicPath = function() {\n        if (\"publicPath\" in manifest.metaData) {\n            return manifest.metaData.publicPath;\n        } else {\n            return manifest.metaData.getPublicPath;\n        }\n    };\n    var overridesKeys = Object.keys(overrides);\n    var remotesInfo = {};\n    // If remotes are not provided, only the remotes in the manifest will be read\n    if (!Object.keys(remotes).length) {\n        var _manifest_remotes;\n        remotesInfo = ((_manifest_remotes = manifest.remotes) === null || _manifest_remotes === void 0 ? void 0 : _manifest_remotes.reduce(function(res, next) {\n            var matchedVersion;\n            var name = next.federationContainerName;\n            // overrides have higher priority\n            if (overridesKeys.includes(name)) {\n                matchedVersion = overrides[name];\n            } else {\n                if (\"version\" in next) {\n                    matchedVersion = next.version;\n                } else {\n                    matchedVersion = next.entry;\n                }\n            }\n            res[name] = {\n                matchedVersion: matchedVersion\n            };\n            return res;\n        }, {})) || {};\n    }\n    // If remotes (deploy scenario) are specified, they need to be traversed again\n    Object.keys(remotes).forEach(function(key) {\n        return remotesInfo[key] = {\n            // overrides will override dependencies\n            matchedVersion: overridesKeys.includes(key) ? overrides[key] : remotes[key]\n        };\n    });\n    var _manifest_metaData1 = manifest.metaData, _manifest_metaData_remoteEntry = _manifest_metaData1.remoteEntry, remoteEntryPath = _manifest_metaData_remoteEntry.path, remoteEntryName = _manifest_metaData_remoteEntry.name, remoteEntryType = _manifest_metaData_remoteEntry.type, remoteTypes = _manifest_metaData1.types, buildVersion = _manifest_metaData1.buildInfo.buildVersion, globalName = _manifest_metaData1.globalName;\n    var exposes = manifest.exposes;\n    var basicRemoteSnapshot = {\n        version: version ? version : \"\",\n        buildVersion: buildVersion,\n        globalName: globalName,\n        remoteEntry: simpleJoinRemoteEntry(remoteEntryPath, remoteEntryName),\n        remoteEntryType: remoteEntryType,\n        remoteTypes: simpleJoinRemoteEntry(remoteTypes.path, remoteTypes.name),\n        remotesInfo: remotesInfo,\n        shared: manifest === null || manifest === void 0 ? void 0 : manifest.shared.map(function(item) {\n            return {\n                assets: item.assets,\n                sharedName: item.name\n            };\n        }),\n        modules: exposes === null || exposes === void 0 ? void 0 : exposes.map(function(expose) {\n            return {\n                moduleName: expose.name,\n                modulePath: expose.path,\n                assets: expose.assets\n            };\n        })\n    };\n    if ((_manifest_metaData = manifest.metaData) === null || _manifest_metaData === void 0 ? void 0 : _manifest_metaData.prefetchEntry) {\n        var _manifest_metaData_prefetchEntry = manifest.metaData.prefetchEntry, path = _manifest_metaData_prefetchEntry.path, name = _manifest_metaData_prefetchEntry.name, type = _manifest_metaData_prefetchEntry.type;\n        basicRemoteSnapshot = _object_spread_props(_object_spread({}, basicRemoteSnapshot), {\n            prefetchEntry: simpleJoinRemoteEntry(path, name),\n            prefetchEntryType: type\n        });\n    }\n    if (\"publicPath\" in manifest.metaData) {\n        remoteSnapshot = _object_spread_props(_object_spread({}, basicRemoteSnapshot), {\n            publicPath: getPublicPath()\n        });\n    } else {\n        remoteSnapshot = _object_spread_props(_object_spread({}, basicRemoteSnapshot), {\n            getPublicPath: getPublicPath()\n        });\n    }\n    return remoteSnapshot;\n}\nfunction isManifestProvider(moduleInfo) {\n    if (\"remoteEntry\" in moduleInfo && moduleInfo.remoteEntry.includes(MANIFEST_EXT)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nfunction asyncGeneratorStep$1(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator$1(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep$1(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep$1(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _instanceof(left, right) {\n    if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n        return !!right[Symbol.hasInstance](left);\n    } else {\n        return left instanceof right;\n    }\n}\nfunction _ts_generator$1(thisArg, body) {\n    var f, y, t, g, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    };\n    return g = {\n        next: verb(0),\n        \"throw\": verb(1),\n        \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(_)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction safeWrapper(callback, disableWarn) {\n    return _safeWrapper.apply(this, arguments);\n}\nfunction _safeWrapper() {\n    _safeWrapper = _async_to_generator$1(function(callback, disableWarn) {\n        var res, e;\n        return _ts_generator$1(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    _state.trys.push([\n                        0,\n                        2,\n                        ,\n                        3\n                    ]);\n                    return [\n                        4,\n                        callback()\n                    ];\n                case 1:\n                    res = _state.sent();\n                    return [\n                        2,\n                        res\n                    ];\n                case 2:\n                    e = _state.sent();\n                    !disableWarn && warn(e);\n                    return [\n                        2\n                    ];\n                case 3:\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return _safeWrapper.apply(this, arguments);\n}\nfunction isStaticResourcesEqual(url1, url2) {\n    var REG_EXP = /^(https?:)?\\/\\//i;\n    // Transform url1 and url2 into relative paths\n    var relativeUrl1 = url1.replace(REG_EXP, \"\").replace(/\\/$/, \"\");\n    var relativeUrl2 = url2.replace(REG_EXP, \"\").replace(/\\/$/, \"\");\n    // Check if the relative paths are identical\n    return relativeUrl1 === relativeUrl2;\n}\nfunction createScript(url, cb, attrs, createScriptHook) {\n    // Retrieve the existing script element by its src attribute\n    var script = null;\n    var needAttach = true;\n    var scripts = document.getElementsByTagName(\"script\");\n    for(var i = 0; i < scripts.length; i++){\n        var s = scripts[i];\n        var scriptSrc = s.getAttribute(\"src\");\n        if (scriptSrc && isStaticResourcesEqual(scriptSrc, url)) {\n            script = s;\n            needAttach = false;\n            break;\n        }\n    }\n    if (!script) {\n        script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        script.src = url;\n        if (createScriptHook) {\n            var createScriptRes = createScriptHook(url);\n            if (_instanceof(createScriptRes, HTMLScriptElement)) {\n                script = createScriptRes;\n            }\n        }\n    }\n    if (attrs) {\n        Object.keys(attrs).forEach(function(name) {\n            if (script) {\n                if (name === \"async\" || name === \"defer\") {\n                    script[name] = attrs[name];\n                } else {\n                    script.setAttribute(name, attrs[name]);\n                }\n            }\n        });\n    }\n    var onScriptComplete = function(prev, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    event) {\n        // Prevent memory leaks in IE.\n        if (script) {\n            script.onerror = null;\n            script.onload = null;\n            safeWrapper(function() {\n                (script === null || script === void 0 ? void 0 : script.parentNode) && script.parentNode.removeChild(script);\n            });\n            if (prev) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var res = prev(event);\n                cb();\n                return res;\n            }\n        }\n        cb();\n    };\n    script.onerror = onScriptComplete.bind(null, script.onerror);\n    script.onload = onScriptComplete.bind(null, script.onload);\n    return {\n        script: script,\n        needAttach: needAttach\n    };\n}\nfunction loadScript(url, info) {\n    var attrs = info.attrs, createScriptHook = info.createScriptHook;\n    return new Promise(function(resolve, _reject) {\n        var _createScript = createScript(url, resolve, attrs, createScriptHook), script = _createScript.script, needAttach = _createScript.needAttach;\n        needAttach && document.getElementsByTagName(\"head\")[0].appendChild(script);\n    });\n}\n\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction _non_iterable_rest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _sliced_to_array(arr, i) {\n    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, g, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    };\n    return g = {\n        next: verb(0),\n        \"throw\": verb(1),\n        \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(_)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\nfunction importNodeModule(name) {\n    if (!name) {\n        throw new Error(\"import specifier is required\");\n    }\n    var importModule = new Function(\"name\", \"return import(name)\");\n    return importModule(name).then(function(res) {\n        return res.default;\n    }).catch(function(error) {\n        console.error(\"Error importing module \".concat(name, \":\"), error);\n        throw error;\n    });\n}\nfunction createScriptNode(url, cb, attrs, createScriptHook) {\n    if (createScriptHook) {\n        var hookResult = createScriptHook(url);\n        if (hookResult && typeof hookResult === \"object\" && \"url\" in hookResult) {\n            url = hookResult.url;\n        }\n    }\n    var urlObj;\n    try {\n        urlObj = new URL(url);\n    } catch (e) {\n        console.error(\"Error constructing URL:\", e);\n        cb(new Error(\"Invalid URL: \".concat(e)));\n        return;\n    }\n    var getFetch = function() {\n        var _ref = _async_to_generator(function() {\n            var fetchModule;\n            return _ts_generator(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!(typeof fetch === \"undefined\")) return [\n                            3,\n                            2\n                        ];\n                        return [\n                            4,\n                            importNodeModule(\"node-fetch\")\n                        ];\n                    case 1:\n                        fetchModule = _state.sent();\n                        //@ts-ignore\n                        return [\n                            2,\n                            (fetchModule === null || fetchModule === void 0 ? void 0 : fetchModule.default) || fetchModule\n                        ];\n                    case 2:\n                        return [\n                            2,\n                            fetch\n                        ];\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n        return function getFetch() {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    console.log(\"fetching\", urlObj.href);\n    getFetch().then(function(f) {\n        f(urlObj.href).then(function(res) {\n            return res.text();\n        }).then(function() {\n            var _ref = _async_to_generator(function(data) {\n                var _ref, path, vm, scriptContext, urlDirname, filename, script, exportedInterface, container;\n                return _ts_generator(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            return [\n                                4,\n                                Promise.all([\n                                    importNodeModule(\"path\"),\n                                    importNodeModule(\"vm\")\n                                ])\n                            ];\n                        case 1:\n                            _ref = _sliced_to_array.apply(void 0, [\n                                _state.sent(),\n                                2\n                            ]), path = _ref[0], vm = _ref[1];\n                            scriptContext = {\n                                exports: {},\n                                module: {\n                                    exports: {}\n                                }\n                            };\n                            urlDirname = urlObj.pathname.split(\"/\").slice(0, -1).join(\"/\");\n                            filename = path.basename(urlObj.pathname);\n                            try {\n                                script = new vm.Script(\"(function(exports, module, require, __dirname, __filename) {\".concat(data, \"\\n})\"), {\n                                    filename: filename\n                                });\n                                script.runInThisContext()(scriptContext.exports, scriptContext.module, eval(\"require\"), urlDirname, filename);\n                                exportedInterface = scriptContext.module.exports || scriptContext.exports;\n                                if (attrs && exportedInterface && attrs[\"globalName\"]) {\n                                    container = exportedInterface[attrs[\"globalName\"]];\n                                    cb(undefined, container);\n                                    return [\n                                        2\n                                    ];\n                                }\n                                cb(undefined, exportedInterface);\n                            } catch (e) {\n                                // console.error('Error running script:', e);\n                                cb(new Error(\"Script execution error: \".concat(e)));\n                            }\n                            return [\n                                2\n                            ];\n                    }\n                });\n            });\n            return function(data) {\n                return _ref.apply(this, arguments);\n            };\n        }()).catch(function(err) {\n            // console.error('Error fetching script:', err);\n            cb(err);\n        });\n    });\n}\nfunction loadScriptNode(url, info) {\n    return new Promise(function(resolve, reject) {\n        createScriptNode(url, function(error, scriptContext) {\n            if (error) {\n                reject(error);\n            } else {\n                var _info_attrs, _info_attrs1;\n                var remoteEntryKey = (info === null || info === void 0 ? void 0 : (_info_attrs = info.attrs) === null || _info_attrs === void 0 ? void 0 : _info_attrs[\"globalName\"]) || \"__FEDERATION_\".concat(info === null || info === void 0 ? void 0 : (_info_attrs1 = info.attrs) === null || _info_attrs1 === void 0 ? void 0 : _info_attrs1[\"name\"], \":custom__\");\n                var entryExports = globalThis[remoteEntryKey] = scriptContext;\n                resolve(entryExports);\n            }\n        }, info.attrs, info.createScriptHook);\n    });\n}\n\nexports.BROWSER_LOG_KEY = BROWSER_LOG_KEY;\nexports.BROWSER_LOG_VALUE = BROWSER_LOG_VALUE;\nexports.EncodedNameTransformMap = EncodedNameTransformMap;\nexports.FederationModuleManifest = FederationModuleManifest;\nexports.Logger = Logger;\nexports.MANIFEST_EXT = MANIFEST_EXT;\nexports.NameTransformMap = NameTransformMap;\nexports.NameTransformSymbol = NameTransformSymbol;\nexports.SEPARATOR = SEPARATOR;\nexports.assert = assert;\nexports.composeKeyWithSeparator = composeKeyWithSeparator;\nexports.createScript = createScript;\nexports.createScriptNode = createScriptNode;\nexports.decodeName = decodeName;\nexports.encodeName = encodeName;\nexports.error = error;\nexports.generateExposeFilename = generateExposeFilename;\nexports.generateShareFilename = generateShareFilename;\nexports.generateSnapshotFromManifest = generateSnapshotFromManifest;\nexports.getProcessEnv = getProcessEnv;\nexports.getResourceUrl = getResourceUrl;\nexports.isBrowserEnv = isBrowserEnv;\nexports.isDebugMode = isDebugMode;\nexports.isManifestProvider = isManifestProvider;\nexports.isStaticResourcesEqual = isStaticResourcesEqual;\nexports.loadScript = loadScript;\nexports.loadScriptNode = loadScriptNode;\nexports.logger = logger;\nexports.parseEntry = parseEntry;\nexports.safeWrapper = safeWrapper;\nexports.simpleJoinRemoteEntry = simpleJoinRemoteEntry;\nexports.warn = warn;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar ENCODE_NAME_PREFIX = \"ENCODE_NAME_PREFIX\";\nvar FEDERATION_SUPPORTED_TYPES = [\n    \"script\"\n];\n\nexports.ENCODE_NAME_PREFIX = ENCODE_NAME_PREFIX;\nexports.FEDERATION_SUPPORTED_TYPES = FEDERATION_SUPPORTED_TYPES;\n","'use strict';\n\nvar runtime = require('@module-federation/runtime');\nvar sdk = require('@module-federation/sdk');\nvar constant = require('./constant.cjs.js');\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  }\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar runtime__namespace = /*#__PURE__*/_interopNamespace(runtime);\n\nfunction attachShareScopeMap(webpackRequire) {\n    if (!webpackRequire.S || webpackRequire.federation.hasAttachShareScopeMap || !webpackRequire.federation.instance || !webpackRequire.federation.instance.shareScopeMap) {\n        return;\n    }\n    webpackRequire.S = webpackRequire.federation.instance.shareScopeMap;\n    webpackRequire.federation.hasAttachShareScopeMap = true;\n}\n\nfunction remotes(options) {\n    var chunkId = options.chunkId, promises = options.promises, chunkMapping = options.chunkMapping, idToExternalAndNameMapping = options.idToExternalAndNameMapping, webpackRequire = options.webpackRequire, idToRemoteMap = options.idToRemoteMap;\n    attachShareScopeMap(webpackRequire);\n    if (webpackRequire.o(chunkMapping, chunkId)) {\n        chunkMapping[chunkId].forEach(function(id) {\n            var getScope = webpackRequire.R;\n            if (!getScope) {\n                getScope = [];\n            }\n            var data = idToExternalAndNameMapping[id];\n            var remoteInfos = idToRemoteMap[id];\n            // @ts-ignore seems not work\n            if (getScope.indexOf(data) >= 0) {\n                return;\n            }\n            // @ts-ignore seems not work\n            getScope.push(data);\n            if (data.p) {\n                return promises.push(data.p);\n            }\n            var onError = function(error) {\n                if (!error) {\n                    error = new Error(\"Container missing\");\n                }\n                if (typeof error.message === \"string\") {\n                    error.message += '\\nwhile loading \"'.concat(data[1], '\" from ').concat(data[2]);\n                }\n                webpackRequire.m[id] = function() {\n                    throw error;\n                };\n                data.p = 0;\n            };\n            var handleFunction = function(fn, arg1, arg2, d, next, first) {\n                try {\n                    var promise = fn(arg1, arg2);\n                    if (promise && promise.then) {\n                        var p = promise.then(function(result) {\n                            return next(result, d);\n                        }, onError);\n                        if (first) {\n                            promises.push(data.p = p);\n                        } else {\n                            return p;\n                        }\n                    } else {\n                        return next(promise, d, first);\n                    }\n                } catch (error) {\n                    onError(error);\n                }\n            };\n            var onExternal = function(external, _, first) {\n                return external ? handleFunction(webpackRequire.I, data[0], 0, external, onInitialized, first) : onError();\n            };\n            // eslint-disable-next-line no-var\n            var onInitialized = function(_, external, first) {\n                return handleFunction(external.get, data[1], getScope, 0, onFactory, first);\n            };\n            // eslint-disable-next-line no-var\n            var onFactory = function(factory) {\n                data.p = 1;\n                webpackRequire.m[id] = function(module) {\n                    module.exports = factory();\n                };\n            };\n            var onRemoteLoaded = function() {\n                try {\n                    var remoteName = sdk.decodeName(remoteInfos[0].name, constant.ENCODE_NAME_PREFIX);\n                    var remoteModuleName = remoteName + data[1].slice(1);\n                    return webpackRequire.federation.instance.loadRemote(remoteModuleName, {\n                        loadFactory: false,\n                        from: \"build\"\n                    });\n                } catch (error) {\n                    onError(error);\n                }\n            };\n            var useRuntimeLoad = remoteInfos.length === 1 && [\n                \"script\"\n            ].includes(remoteInfos[0].externalType) && remoteInfos[0].name;\n            if (useRuntimeLoad) {\n                handleFunction(onRemoteLoaded, data[2], 0, 0, onFactory, 1);\n            } else {\n                handleFunction(webpackRequire, data[2], 0, 0, onExternal, 1);\n            }\n        });\n    }\n}\n\nfunction consumes(options) {\n    var chunkId = options.chunkId, promises = options.promises, chunkMapping = options.chunkMapping, installedModules = options.installedModules, moduleToHandlerMapping = options.moduleToHandlerMapping, webpackRequire = options.webpackRequire;\n    attachShareScopeMap(webpackRequire);\n    if (webpackRequire.o(chunkMapping, chunkId)) {\n        chunkMapping[chunkId].forEach(function(id) {\n            if (webpackRequire.o(installedModules, id)) {\n                return promises.push(installedModules[id]);\n            }\n            var onFactory = function(factory) {\n                installedModules[id] = 0;\n                webpackRequire.m[id] = function(module) {\n                    delete webpackRequire.c[id];\n                    module.exports = factory();\n                };\n            };\n            var onError = function(error) {\n                delete installedModules[id];\n                webpackRequire.m[id] = function(module) {\n                    delete webpackRequire.c[id];\n                    throw error;\n                };\n            };\n            try {\n                var federationInstance = webpackRequire.federation.instance;\n                if (!federationInstance) {\n                    throw new Error(\"Federation instance not found!\");\n                }\n                var _moduleToHandlerMapping_id = moduleToHandlerMapping[id], shareKey = _moduleToHandlerMapping_id.shareKey, getter = _moduleToHandlerMapping_id.getter, shareInfo = _moduleToHandlerMapping_id.shareInfo;\n                var promise = federationInstance.loadShare(shareKey, shareInfo).then(function(factory) {\n                    if (factory === false) {\n                        return getter();\n                    }\n                    return factory;\n                });\n                if (promise.then) {\n                    promises.push(installedModules[id] = promise.then(onFactory).catch(onError));\n                } else {\n                    // @ts-ignore maintain previous logic\n                    onFactory(promise);\n                }\n            } catch (e) {\n                onError(e);\n            }\n        });\n    }\n}\n\nfunction initializeSharing(param) {\n    var shareScopeName = param.shareScopeName, webpackRequire = param.webpackRequire, initPromises = param.initPromises, initTokens = param.initTokens, initScope = param.initScope;\n    if (!initScope) initScope = [];\n    // handling circular init calls\n    var initToken = initTokens[shareScopeName];\n    if (!initToken) initToken = initTokens[shareScopeName] = {};\n    if (initScope.indexOf(initToken) >= 0) return;\n    initScope.push(initToken);\n    var promise = initPromises[shareScopeName];\n    if (promise) return promise;\n    var warn = function(msg) {\n        return typeof console !== \"undefined\" && console.warn && console.warn(msg);\n    };\n    var initExternal = function(id) {\n        var handleError = function(err) {\n            return warn(\"Initialization of sharing external failed: \" + err);\n        };\n        try {\n            var module = webpackRequire(id);\n            if (!module) return;\n            var initFn = function(module) {\n                return module && module.init && // @ts-ignore compat legacy mf shared behavior\n                module.init(webpackRequire.S[shareScopeName], initScope);\n            };\n            if (module.then) return promises.push(module.then(initFn, handleError));\n            var initResult = initFn(module);\n            // @ts-ignore\n            if (initResult && typeof initResult !== \"boolean\" && initResult.then) // @ts-ignore\n            return promises.push(initResult[\"catch\"](handleError));\n        } catch (err) {\n            handleError(err);\n        }\n    };\n    var promises = webpackRequire.federation.instance.initializeSharing(shareScopeName);\n    attachShareScopeMap(webpackRequire);\n    var bundlerRuntimeRemotesOptions = webpackRequire.federation.bundlerRuntimeOptions.remotes;\n    if (bundlerRuntimeRemotesOptions) {\n        Object.keys(bundlerRuntimeRemotesOptions.idToRemoteMap).forEach(function(moduleId) {\n            var info = bundlerRuntimeRemotesOptions.idToRemoteMap[moduleId];\n            var externalModuleId = bundlerRuntimeRemotesOptions.idToExternalAndNameMapping[moduleId][2];\n            if (info.length > 1) {\n                initExternal(externalModuleId);\n            } else if (info.length === 1) {\n                var remoteInfo = info[0];\n                if (!constant.FEDERATION_SUPPORTED_TYPES.includes(remoteInfo.externalType)) {\n                    initExternal(externalModuleId);\n                }\n            }\n        });\n    }\n    if (!promises.length) {\n        return initPromises[shareScopeName] = true;\n    }\n    return initPromises[shareScopeName] = Promise.all(promises).then(function() {\n        return initPromises[shareScopeName] = true;\n    });\n}\n\nfunction handleInitialConsumes(options) {\n    var moduleId = options.moduleId, moduleToHandlerMapping = options.moduleToHandlerMapping, webpackRequire = options.webpackRequire;\n    var federationInstance = webpackRequire.federation.instance;\n    if (!federationInstance) {\n        throw new Error(\"Federation instance not found!\");\n    }\n    var _moduleToHandlerMapping_moduleId = moduleToHandlerMapping[moduleId], shareKey = _moduleToHandlerMapping_moduleId.shareKey, shareInfo = _moduleToHandlerMapping_moduleId.shareInfo;\n    return federationInstance.loadShareSync(shareKey, shareInfo);\n}\nfunction installInitialConsumes(options) {\n    var moduleToHandlerMapping = options.moduleToHandlerMapping, webpackRequire = options.webpackRequire, installedModules = options.installedModules, initialConsumes = options.initialConsumes;\n    initialConsumes.forEach(function(id) {\n        webpackRequire.m[id] = function(module) {\n            // Handle scenario when module is used synchronously\n            installedModules[id] = 0;\n            delete webpackRequire.c[id];\n            var factory = handleInitialConsumes({\n                moduleId: id,\n                moduleToHandlerMapping: moduleToHandlerMapping,\n                webpackRequire: webpackRequire\n            });\n            if (typeof factory !== \"function\") {\n                throw new Error(\"Shared module is not available for eager consumption: \".concat(id));\n            }\n            module.exports = factory();\n        };\n    });\n}\n\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction initContainerEntry(options) {\n    var webpackRequire = options.webpackRequire, shareScope = options.shareScope, initScope = options.initScope, shareScopeKey = options.shareScopeKey, remoteEntryInitOptions = options.remoteEntryInitOptions;\n    if (!webpackRequire.S) return;\n    if (!webpackRequire.federation || !webpackRequire.federation.instance || !webpackRequire.federation.initOptions) return;\n    var federationInstance = webpackRequire.federation.instance;\n    var name = shareScopeKey || \"default\";\n    federationInstance.initOptions(_object_spread({\n        name: webpackRequire.federation.initOptions.name,\n        remotes: []\n    }, remoteEntryInitOptions));\n    federationInstance.initShareScopeMap(name, shareScope);\n    webpackRequire.S[name] = shareScope;\n    if (webpackRequire.federation.attachShareScopeMap) {\n        webpackRequire.federation.attachShareScopeMap(webpackRequire);\n    }\n    // @ts-ignore\n    return webpackRequire.I(name, initScope);\n}\n\nvar federation = {\n    runtime: runtime__namespace,\n    instance: undefined,\n    initOptions: undefined,\n    bundlerRuntime: {\n        remotes: remotes,\n        consumes: consumes,\n        I: initializeSharing,\n        S: {},\n        installInitialConsumes: installInitialConsumes,\n        initContainerEntry: initContainerEntry\n    },\n    attachShareScopeMap: attachShareScopeMap,\n    bundlerRuntimeOptions: {}\n};\n\nmodule.exports = federation;\n","const _colors = {\n    \"purple\":\"component\",\n    \"green\":\"data\",\n    \"default\":\"default\",\n    \"grey\":\"default\"\n}\n\nNoodl.defineNode = function(def) {\n    const _def = {};\n\n    _def.name = def.name;\n    _def.displayNodeName = def.displayName;\n    _def.usePortAsLabel = def.useInputAsLabel;\n    _def.color = _colors[def.color || 'default'];\n    _def.category = def.category || 'Modules';\n    _def.getInspectInfo = def.getInspectInfo;\n    _def.docs = def.docs;\n    \n    _def.initialize = function() {\n        this.inputs = {};\n        var _outputs = this.outputs = {};\n        var _this = this;\n\n        // Function for quickly setting outputs\n        this.setOutputs = function(o) {\n            for(var key in o) {\n                _outputs[key] = o[key];\n                _this.flagOutputDirty(key);\n            }\n        }\n\n        // Sending warnings\n        this.clearWarnings = (function() {\n            if(this.context.editorConnection && this.nodeScope && this.nodeScope.componentOwner)\n                this.context.editorConnection.clearWarnings(this.nodeScope.componentOwner.name, this.id);\n        }).bind(this);\n\n        this.sendWarning = (function(name,message) {\n            if(this.context.editorConnection && this.nodeScope && this.nodeScope.componentOwner)\n                this.context.editorConnection.sendWarning(this.nodeScope.componentOwner.name, this.id, name, {\n                    message: message\n                });\n        }).bind(this);\n\n        if(typeof def.initialize === 'function')\n            def.initialize.apply(this);\n    }\n    _def.inputs = {};\n    _def.outputs = {};\n\n    for(var key in def.inputs) {\n        _def.inputs[key] = {\n            type:(typeof def.inputs[key] === 'object')?def.inputs[key].type:def.inputs[key],\n            displayName:(typeof def.inputs[key] === 'object')?def.inputs[key].displayName:undefined,\n            group:(typeof def.inputs[key] === 'object')?def.inputs[key].group:undefined,\n            default:(typeof def.inputs[key] === 'object')?def.inputs[key].default:undefined,\n            set:(function() { const _key = key; return function(value) {\n                this.inputs[_key] = value;\n                if(def.changed && typeof def.changed[_key] === 'function') {\n                    def.changed[_key].apply(this,[value]);\n                }\n            }})()\n        }\n    }\n\n    for(var key in def.signals) {\n        _def.inputs[key] = {\n            type:'signal',\n            displayName:(typeof def.signals[key] === 'object')?def.signals[key].displayName:undefined,\n            group:(typeof def.signals[key] === 'object')?def.signals[key].group:undefined,\n            valueChangedToTrue:(function() { const _key = key; return function() {\n                const _fn = (typeof def.signals[_key] === 'object')?def.signals[_key].signal:def.signals[_key]\n                if(typeof _fn === 'function') {\n                    this.scheduleAfterInputsHaveUpdated(() => {\n                        _fn.apply(this);\n                    }) \n                }\n            }})()\n        }\n    }\n\n    for(var key in def.outputs) {\n        if(def.outputs[key] === 'signal') {\n            _def.outputs[key] = {\n                type:'signal',\n            }\n        }\n        else {\n            _def.outputs[key] = {\n                type:(typeof def.outputs[key] === 'object')?def.outputs[key].type:def.outputs[key],\n                displayName:(typeof def.outputs[key] === 'object')?def.outputs[key].displayName:undefined,\n                group:(typeof def.outputs[key] === 'object')?def.outputs[key].group:undefined,\n                getter:(function() { const _key = key; return function() {\n                    return this.outputs[_key];\n                }})()\n            }\n        }\n    }\n\n    _def.methods = _def.prototypeExtensions = {};\n    for(var key in def.methods) {\n        _def.prototypeExtensions[key] = def.methods[key];\n    }\n    if(_def.methods.onNodeDeleted) { // Override the onNodeDeleted if required\n        _def.methods._onNodeDeleted = function() {\n            this.__proto__.__proto__._onNodeDeleted.call(this);\n            _def.methods.onNodeDeleted.value.call(this);\n        }\n    }\n\n    return {node:_def,setup:def.setup};\n}\n\nNoodl.defineCollectionNode = function(def) {\n    const _def = {\n        name:def.name,\n        category:def.category,\n        color:'data',\n        inputs:def.inputs,\n        outputs:Object.assign({\n            Items:'array',\n            'Fetch Started':'signal',\n            'Fetch Completed':'signal'\n        },def.outputs||{}),\n        signals:Object.assign({\n            Fetch:function() {\n                var _this = this;\n                this.sendSignalOnOutput('Fetch Started');\n                var a = def.fetch.call(this,function() {\n                    _this.sendSignalOnOutput('Fetch Completed');\n                });\n                this.setOutputs({\n                    Items:a\n                })\n            }\n        },def.signals||{})\n    }\n\n    return Noodl.defineNode(_def);\n}\n\nNoodl.defineModelNode = function(def) {\n    const _def = {\n        name:def.name,\n        category:def.category,\n        color:'data',\n        inputs:{\n            Id:'string'\n        },\n        outputs:{\n            Fetched:'signal'\n        },\n        changed:{\n            Id:function(value) {\n                if(this._object && this._changeListener)\n                    this._object.off('change',this._changeListener)\n                \n                this._object = Noodl.Object.get(value);\n                this._changeListener = (name,value) => {\n                    const _o = {}\n                    _o[name] = value;\n                    this.setOutputs(_o)\n                }\n                this._object.on('change',this._changeListener)\n\n                this.setOutputs(this._object.data);\n                this.sendSignalOnOutput('Fetched');\n            }\n        },\n        initialize:function() {\n\n        }\n    }\n\n    for(var key in def.properties) {\n        _def.inputs[key] = def.properties[key];\n        _def.outputs[key] = def.properties[key];\n        _def.changed[key] = (function() { const _key = key; return function(value) {\n            if(!this._object) return;\n            this._object.set(_key,value);\n        }})()\n    }\n \n    return Noodl.defineNode(_def);\n}\n\nNoodl.defineReactNode = function(def) {\n    var _def = Noodl.defineNode(def);\n\n    _def.node.getReactComponent = def.getReactComponent;\n    _def.node.inputProps = def.inputProps;\n    _def.node.inputCss = def.inputCss;\n    _def.node.outputProps = def.outputProps;\n    _def.node.setup = def.setup;\n    _def.node.frame = def.frame;\n\n    return _def.node;\n}\n\nmodule.exports = Noodl;","/* const dataNode = reactNode('Data', {\n    \n}, { allowChildren: true }) */\n\n//===================================================================\n//@ts-ignore\nimport { defineNode } from '@noodl/noodl-sdk'\n\nimport fetchNode from '@nodes/fetch'\n\nconst nodes = [fetchNode]\n\nwindow.Noodl.defineModule({ nodes: nodes.map(i => defineNode(i)) })","import { jsNode } from '@shared/node'\nimport { getPorts } from '@shared/port'\n\nexport default jsNode('fetch', 'data', {\n    'v0.1.0': {\n        //@ts-ignore\n        module: import('remote/data/fetch-v0.1.0'),\n        inputs: getPorts('input', ['fetch', 'dbClass', 'filters', 'sorts', 'querySize']),\n        outputs: getPorts('output', ['items', 'fetching', 'fetched'])\n    }\n})","import { NodePort } from \"@shared/port\"\nimport { GraphModelNode, NodeContext } from \"../../types\"\nimport typeOf from \"just-typeof\"\nimport { clearWarning, sendWarning } from \"./warnings\"\nimport { hasIcon } from '@shared/has-icon'\n\nfunction checkLiteralType(node: GraphModelNode, context: NodeContext, nodeInput: NodePort, value: any) {\n    const dn = nodeInput.displayName\n    const inputType: any = nodeInput.type\n    let typeOfValue: string = typeOf(value)\n    if (value && typeOfValue !== inputType) {\n        const message = `Input \"${dn}\" should be \"${inputType}\", got \"${typeOfValue}\"`\n        if (inputType === 'string') {\n            if (!['string', 'number'].includes(typeOfValue)) sendWarning(node, context, dn, message)\n        } else sendWarning(node, context, dn, message)\n    } else clearWarning(node, context, dn)\n}\n\nexport default function (node: GraphModelNode, context: NodeContext, nodeInput: NodePort, value: any) {\n    const typeOfValue: any = typeOf(value)\n    const dn = nodeInput.displayName\n    // convert types        \n    if (typeOfValue !== 'undefined') {\n        let complexValue: any\n        let isComplexType = false\n        if (nodeInput.type === 'array' && typeOfValue === 'string') {\n            isComplexType = true\n            // convert single object array to object                                                \n            try {\n                const evalValue = eval(value)\n                if (evalValue?.length && nodeInput.customs?.isObject) {\n                    // should have only one object\n                    if (evalValue?.length > 1)\n                        sendWarning(node, context, dn, `Input \"${dn}\" should have one object, got ${evalValue?.length}`)\n                    // should be an object\n                    else if (evalValue?.length === 1 && typeof evalValue[0] !== 'object')\n                        sendWarning(node, context, dn, `Input \"${dn}\" should be an \"object\", got \"${typeOf(evalValue[0])}\"`)\n                    else clearWarning(node, context, dn)\n                    complexValue = evalValue[0]\n                }\n                // convert array string to array\n                else complexValue = evalValue\n            } catch (error: any) { sendWarning(node, context, dn, `Input \"${dn}\" has error \"${error.message}\"`) }\n        } else if (typeOfValue === 'array') {\n            isComplexType = true\n            // convert array as object\n            if (nodeInput.customs?.isObject) {\n                // should have only one object\n                if (value?.length > 1) sendWarning(node, context, dn, `Input \"${dn}\" should have one object, got ${value?.length}`)\n                // should be an object\n                else if (value?.length === 1 && typeof value[0] !== 'object')\n                    sendWarning(node, context, dn, `Input \"${dn}\" should be an \"object\", got \"${typeOf(value[0])}\"`)\n                else clearWarning(node, context, dn)\n                complexValue = value[0]\n            } else complexValue = value\n        }\n        // convert proplist to array\n        if (nodeInput.type === 'proplist') {\n            isComplexType = true\n            complexValue = value.map((i: any) => i.label)\n        }\n        // convert unit to string        \n        if (value.unit) {\n            isComplexType = true\n            complexValue = value.value + value.unit\n        }\n        // icon check\n        if (nodeInput.name === 'iconName') {\n            isComplexType = true\n            complexValue = value\n            if (!hasIcon(value)) sendWarning(node, context, dn, `There is no \"${complexValue}\" icon at Rolder kit`)\n            else clearWarning(node, context, dn)\n        }\n        // return for complex type\n        if (isComplexType) return complexValue\n        // check and return for literal type\n        if (!isComplexType) {\n            checkLiteralType(node, context, nodeInput, complexValue)\n            return value\n        }\n    }\n}","import { NodePort } from '@shared/port'\nimport { GraphModelNode, NodeContext } from '../../types'\nimport { clearWarning, sendWarning } from \"./warnings\"\nimport getProps from './getProps'\nimport isEmpty from '@shared/is-empty'\n\nexport default function (node: GraphModelNode, context: NodeContext, allNodePorts: NodePort[], currentNodePorts: NodePort[]) {\n    const resultNodePorts: NodePort[] = []\n\n    // editor required\n    currentNodePorts.filter(i => i.customs?.required && ['editor', 'both'].includes(i.customs?.required)).forEach(nodePort => {\n        const n = nodePort.name\n        const dn = nodePort.displayName\n        if (isEmpty(node.parameters[n]) && isEmpty(nodePort.default)) sendWarning(node, context, dn, `Specify required input: \"${dn}\"`)\n        else clearWarning(node, context, dn)\n    })\n\n    // params as props\n    node.parameters = getProps(node, context, allNodePorts, node.parameters)\n\n    currentNodePorts.forEach((nodePort, idx) => {\n        //nodePort.index = 1000 + idx\n        switch (nodePort.name) {\n            // project defaults\n            /* case 'dateFormat': {\n                if (nodePort.default === 'projectDefault') {\n                    nodePort.default = window.Noodl.getProjectSettings().defaultDateFormat || 'YYYY-MM-DD'\n                    resultNodePorts.push(nodePort)\n                }\n            } break */\n            // customs\n            /* case 'dbClass': {\n                nodePort.type = {\n                    name: 'enum',\n                    enums: Object.keys(eval(window.Noodl.getProjectSettings().dbClasses)[0]).map(i => ({ value: i, label: i }))\n                }\n                resultNodePorts.push(nodePort)\n            } break */\n            default: {\n                // filter disabled dependencies\n                if (nodePort.customs?.dependsOn) {\n                    if (nodePort.customs.dependsOn(node.parameters)) resultNodePorts.push(nodePort)\n                } else resultNodePorts.push(nodePort)\n\n                /* const isDependent = nodePort.dependsOn\n                // first set it self, if it is not dependent\n                if (!isDependent) resultNodePorts.push(nodePort)\n                // then set it, if dependOn is meet condition                \n                if (isDependent) {\n                    // if we have several conditions\n                    if (Array.isArray(nodePort.dependsOn)) {\n                        let conditionIsTrueCount = 0\n                        nodePort.dependsOn.forEach(dependsOn => {\n                            if (checkDependsOn(dependsOn, allNodePorts, node.parameters)) conditionIsTrueCount++\n                        })\n                        if (conditionIsTrueCount === nodePort.dependsOn.length) resultNodePorts.push(nodePort)\n                    }\n                    // only one condition\n                    else if (checkDependsOn(nodePort.dependsOn, allNodePorts, node.parameters)) resultNodePorts.push(nodePort)\n                } */\n            }\n        }\n    })\n    return resultNodePorts\n}","import { NodePort } from \"@shared/port\"\nimport { clearWarning, sendWarning } from \"./warnings\"\nimport { GraphModelNode, NodeContext } from \"../../types\"\nimport convertAndCheckType from \"./convertAndCheckType\"\nimport isEmpty from \"@shared/is-empty\"\n\nconst baseProps = ['version', 'noodlNode', 'style', 'styles', 'className', 'children', 'customProps', 'propFunction']\n\nexport default function (node: GraphModelNode, context: NodeContext, inputs: NodePort[] | undefined, props: any) {\n    let resultProps: any = {}\n    // take props from inputs (delete orphants)\n    inputs?.forEach(i => { if (!isEmpty(props[i.name])) resultProps[i.name] = props[i.name] })\n\n    // set defaults\n    inputs?.forEach(i => {\n        if (isEmpty(resultProps[i.name]) && !isEmpty(i.default)) {\n            // unit format from default to convert later\n            if (typeof (i.type) === 'object' && i.type.name === 'number')\n                resultProps[i.name] = { value: i.default, unit: i.type.defaultUnit }\n            else resultProps[i.name] = i.default\n        }\n        // restore default unit on editor reset button\n        if (!isEmpty(i.default) && typeof (i.type) === 'object' && i.type.name === 'number' && resultProps[i.name] === i.default)\n            resultProps[i.name] = { value: i.default, unit: i.type.defaultUnit }\n    })\n\n    Object.keys(resultProps).forEach((propName: string) => {\n        // delete disabled dependencies\n        const input = inputs?.find(i => i.name === propName)\n        if (input && input.customs?.dependsOn && !input.customs.dependsOn(resultProps)) delete resultProps[propName]\n        // convert unit\n        //if (resultProps[propName]?.unit) resultProps[propName] = `${resultProps[propName].value}${resultProps[propName].unit}`\n    })\n\n    // restore base props\n    Object.keys(props).filter(propName => baseProps.includes(propName)).forEach((propName: string) => {\n        if (!isEmpty(props[propName])) resultProps[propName] = props[propName]\n    })\n\n    // connection required\n    inputs?.filter(i => i.customs?.required && ['connection', 'both'].includes(i.customs?.required))\n        .forEach(input => {\n            const n = input.name\n            const dn = input.displayName\n            if (isEmpty(resultProps[n]))\n                if (input.customs?.dependsOn) {\n                    if (input.customs.dependsOn(resultProps)) sendWarning(node, context, dn, `Empty input from connection: \"${dn}\"`)\n                } else sendWarning(node, context, dn, `Empty input from connection: \"${dn}\"`)\n            else clearWarning(node, context, dn)\n        })\n\n    // converts and types check\n    Object.keys(resultProps).forEach((propName: string) => {\n        const input = inputs?.find(i => i.name === propName)\n        if (input) resultProps[propName] = convertAndCheckType(node, context, input, resultProps[propName])\n    })\n\n    return resultProps\n}","import { GraphModelNode, NodeContext, NoodlNode } from \"../../types\"\n\nexport function sendWarning(node: GraphModelNode, context: NodeContext, displayName: string, message: string) {\n    context.editorConnection.sendWarning(node.component.name, node.id, displayName, { message, showGlobally: true })\n}\nexport function clearWarning(node: GraphModelNode, context: NodeContext, displayName: string) {\n    context.editorConnection.clearWarning(node.component.name, node.id, displayName)\n}\nexport function hasWarings(noodlNode: NoodlNode) {\n    const warnings: string[] = Array.from(noodlNode.context.editorConnection.activeWarnings?.currentWarnings?.keys())\n    return warnings?.some(i => i === noodlNode.id)\n}","import { NodePort } from \"@shared/port\"\nimport { GraphModelNode, JsVersions, NodeContext } from \"../../types\"\nimport getNodePorts from \"../funcs/getNodePorts\"\n\nexport default function (node: GraphModelNode, context: NodeContext, version: JsVersions) {\n    let resultNodePorts: NodePort[] = []\n    if (node.parameters?.version) {\n        const inputs = version[node.parameters.version]?.inputs || []\n        const outputs = version[node.parameters.version]?.outputs || []\n        const allPorts = [...inputs, ...outputs]\n        resultNodePorts = resultNodePorts.concat(getNodePorts(node, context, allPorts, inputs))\n        resultNodePorts = resultNodePorts.concat(getNodePorts(node, context, allPorts, outputs))\n    }\n    return resultNodePorts\n}","import isEmpty from \"@shared/is-empty\"\nimport { GraphModel, GraphModelNode, JsNodeDef, JsVersions, NodeColor, NodeContext } from \"../../types\"\nimport { clearWarning, hasWarings, sendWarning } from \"../funcs/warnings\"\nimport getJsNodePorts from \"./getJsNodePorts\"\nimport typeOf from \"just-typeof\"\n\ntype Params = {\n    color?: NodeColor\n    propsFunction?: boolean\n}\n\nexport const jsNode = (nodeName: string, category: string, versions: JsVersions, params?: Params) => {\n    return {\n        name: `rolder-kit.${nodeName}`,\n        displayName: nodeName,\n        category,\n        color: params?.color || 'green',\n        initialize: function () {\n            this.outputPropValues = {}\n            // defaults on load\n            this.scheduleAfterInputsHaveUpdated(() => {\n                const version = this._internal.version\n                const inputs = versions[version]?.inputs\n                inputs?.filter(i => !isEmpty(i.default)).forEach(nodePort => {\n                    this.setValue && this.setValue(nodePort.name, this._internal[nodePort.name])\n                })\n            })\n        },\n        methods: {\n            // on inputs data change\n            registerInputIfNeeded: function (inputName: any) {\n                if (this.hasInput(inputName)) return\n                this.registerInput(inputName, {\n                    set: function (value: any) {\n                        const version = this._internal.version\n                        const inputs = versions[version]?.inputs\n                        const nodePort = inputs?.find(i => i.name === inputName)\n\n                        if (nodePort?.type === 'signal') {\n                            // connection required\n                            inputs?.filter(i => i.customs?.required && ['connection', 'both'].includes(i.customs?.required))\n                                .forEach(nodePort => {\n                                    const n = nodePort.name\n                                    const dn = nodePort.displayName\n                                    if (isEmpty(this._internal[n]))\n                                        sendWarning(this.model, this.context, dn, `Empty input from connection: \"${dn}\"`)\n                                    else clearWarning(this.model, this.context, dn)\n                                })\n                            // signal\n                            if (!hasWarings(this) && value) {\n                                const module = versions[version]?.module\n                                const type: string = typeOf(module)\n                                if (type === 'promise') module.then((s: any) => {\n                                    if (s.default[inputName]) s.default[inputName](this, this._internal)\n                                })\n                                if (type === 'object' && module[inputName]) module[inputName](this, this._internal)\n                            }\n                        } else this.setValue(inputName, value)\n                    }\n                });\n            },\n            setValue(inputName: string, value: any) {\n                const version = this._internal.version\n                const inputs = versions[version]?.inputs\n                const nodePort = inputs?.find(i => i.name === inputName)\n                if (isEmpty(value)) {\n                    // default\n                    if (!isEmpty(nodePort?.default)) this._internal[inputName] = nodePort?.default\n                    else delete this._internal[inputName]\n                } else this._internal[inputName] = value\n            },\n            // on outputs data change\n            registerOutputIfNeeded: function (name: any) {\n                if (this.hasOutput(name)) return\n                this.registerOutput(name, { getter: () => this.outputPropValues?.[name] });\n            },\n            /* \n            setInputsValue: function (inputName: string, inputValue: any) {\n                const nodeInputs = versions[this._inputValues.version]?.inputs\n                if (nodeInputs) { // skip without inputs and triggers after first load\n                    const node = this as NoodlNode\n                    // convert value and ceck type\n                    const convertedValue = convertAndCheckType(node, nodeInputs, inputName, inputValue)\n                    // save to internal storage to restore hided inputs\n                    this._inputValues[inputName] = convertedValue\n                    // set value and restore dependetns if needed\n                    setValue(node, nodeInputs, inputName, convertedValue)\n                    // set defaults if needed for any empty value                    \n                    setDefaults(node, nodeInputs)\n                    // check required input including dependents\n                    checkRequired(node, nodeInputs)\n                }\n                const isSignal = nodeInputs?.some(i => i.type === 'signal' && i.name === inputName)\n                if (!this.warnings?.count && this.loaded && !isSignal) {\n                    const onInputChange = versions[this._inputValues.version]?.onInputChange\n                    if (onInputChange) onInputChange(this)\n                }\n            } */\n        },\n        setup: function (context: NodeContext, graphModel: GraphModel) {\n            if (!context.editorConnection || !context.editorConnection.isRunningLocally()) { return }\n\n            graphModel.on(`nodeAdded.rolder-kit.${nodeName}`, function (node: GraphModelNode) {\n                const versionPort = {\n                    name: 'version', displayName: 'Version*', group: 'Version', plug: 'input', required: true, index: 0,\n                    type: {\n                        name: 'enum', allowEditOnly: true, enums: Object.keys(versions).map(i =>\n                            ({ value: i, label: i + (versions[i]?.hashTag ? ' #' + versions[i]?.hashTag : '') })\n                        )\n                    }\n                }\n\n                // on node add\n                if (!node.parameters.version) sendWarning(node, context, 'Version', 'Choose version')\n                context.editorConnection.sendDynamicPorts(node.id, [versionPort, ...getJsNodePorts(node, context, versions)])\n\n                // on editor params update\n                node.on('parameterUpdated', function () {\n                    if (!node.parameters.version) {\n                        context.editorConnection.clearWarnings(node.component.name, node.id)\n                        sendWarning(node, context, 'Version', 'Choose version')\n                    } else clearWarning(node, context, 'Version')\n                    context.editorConnection.sendDynamicPorts(node.id, [versionPort, ...getJsNodePorts(node, context, versions)])\n                })\n            });\n        }\n    } as JsNodeDef\n}","import getEnum from \"../funcs/getEnum\";\n\nexport const enums = {\n    sizes: getEnum(['xs', 'sm', 'md', 'lg', 'xl'], true)\n}","import { sentenceCase } from \"change-case\";\n\nexport default function (values: readonly string[], noCase?: boolean) {\n    return values.map(v => ({\n        value: v,\n        label: noCase ? v : sentenceCase(v)\n    }))\n}","import clone from \"just-clone\";\nimport { NodePort } from \"../../types\";\nimport data from \"../ports/data\";\nimport style from \"../ports/style\";\nimport dimensions from \"../ports/dimensions\";\nimport advanced from \"../ports/advanced\";\nimport params from \"../ports/params\";\nimport states from \"../ports/states\";\nimport signals from \"../ports/signals\";\n\nexport const ports = [...advanced, ...data, ...style, ...dimensions, ...params, ...states, ...signals]\nexport type PortName = typeof ports[number]['name']\n\nexport function getPort<Type extends NodePort>(nodePort: Type) {\n    let defaultValue = nodePort.default\n    const md = nodePort.customs?.mantineDefault\n    if (md) {\n        const defaultProps = window.R.params.mantineTheme?.components[md.comp]?.defaultProps\n        if (defaultProps && typeof defaultProps !== 'function') defaultValue = defaultProps?.[md.prop]\n        else defaultValue = undefined\n    }\n\n    return { ...nodePort, default: defaultValue, tooltip: nodePort.name }\n}\n\nexport function getPorts(plug: 'input' | 'output', portNames: PortName[], requiredEditorPorts?: PortName[]) {\n    let resultPorts: NodePort[] = []\n    portNames.forEach(portName => {\n        const p = ports.find(i => i.name === portName)\n        if (p) resultPorts.push(clone({\n            ...p, plug, required: requiredEditorPorts?.includes(portName) ? 'editor' : undefined\n        }))\n    })\n    return resultPorts\n}","import getEnum from \"./getEnum\"\n\nexport type PortType = ExpandedType | '*' | 'string' | 'number' | 'boolean' | 'array' | 'signal' | 'proplist' | 'color'\nexport type ExpandedType = {\n    name: string\n    allowEditOnly?: boolean\n    allowConnectionsOnly?: boolean\n    enums?: readonly { value: string, label: string }[]\n    units?: string[]\n    defaultUnit?: Units\n}\ntype Units = '%' | 'rem' | 'px'\nexport const defaultUnits = ['%', 'rem', 'px']\n\nexport function getEnumType(enums: ExpandedType['enums'], only?: 'editor' | 'connection') {\n    let expandedType: ExpandedType = { name: 'enum', enums }\n    if (only) {\n        if (only === 'editor') expandedType.allowEditOnly = true\n        else expandedType.allowConnectionsOnly = true\n    }\n    return expandedType\n}\n\nexport function getCustomEnumType(values: string[], noCase?: boolean, only?: 'editor' | 'connection') {\n    let expandedType: ExpandedType = { name: 'enum', enums: getEnum(values, noCase) }\n    if (only) {\n        if (only === 'editor') expandedType.allowEditOnly = true\n        else expandedType.allowConnectionsOnly = true\n    }\n    return expandedType\n}\n\nexport function getUnitType(units: string[], defaultUnit: Units, only?: 'editor' | 'connection') {\n    let expandedType: ExpandedType = { name: 'number', units, defaultUnit }\n    if (only) {\n        if (only === 'editor') expandedType.allowEditOnly = true\n        else expandedType.allowConnectionsOnly = true\n    }\n    return expandedType\n}","import { NodePort } from \"../../port\";\n\nexport default [\n    {\n        name: 'customProps', displayName: 'Custom props', group: 'Advanced', plug: 'input', index: 1000,\n        type: 'array', customs: { isObject: true }\n    },\n    {\n        name: 'propsFunction', displayName: 'Props function', group: 'Advanced', plug: 'input', index: 1001,\n        type: 'array', customs: { isObject: true }\n    }\n] as const satisfies readonly NodePort[]","import { NodePort } from \"../../port\";\n\nexport default [\n    { name: 'items', displayName: 'Items', group: 'Data', type: 'array' },\n    { name: 'src', displayName: 'Source', group: 'Data', type: 'string' },\n] as const satisfies readonly NodePort[]","import { NodePort } from \"../../port\";\nimport { defaultUnits, getUnitType } from \"../funcs/getType\";\n\nexport default [\n    { name: 'width', displayName: 'Width', group: 'Dimensions', type: getUnitType(defaultUnits, '%'), default: 100 },\n    { name: 'height', displayName: 'Height', group: 'Dimensions', type: getUnitType(defaultUnits, 'px') },\n    { name: 'maw', displayName: 'Max width', group: 'Dimensions', type: getUnitType(defaultUnits, '%'), default: 100 },\n] as const satisfies readonly NodePort[]","import { NodePort } from \"../../port\";\n\nexport default [\n    { name: 'dbClass', displayName: 'DB class', group: 'Params', type: 'string', customs: { required: 'both' } },\n    { name: 'filters', displayName: 'Filters', group: 'Params', type: 'array', customs: { isObject: true } },\n    { name: 'sorts', displayName: 'Sorts', group: 'Params', type: 'array', customs: { isObject: true } },\n    { name: 'querySize', displayName: 'Size', group: 'Params', type: 'number', default: 10, customs: { required: 'connection' } },\n    { name: 'useScope', displayName: 'Use scope', group: 'Scope', type: 'boolean' },\n] as const satisfies readonly NodePort[]","import { NodePort } from \"../../port\";\n\nexport default [\n    { name: 'fetch', displayName: 'Fetch', group: 'Signals', type: 'signal' },\n    { name: 'fetched', displayName: 'Fetched', group: 'Signals', type: 'signal' }\n] as const satisfies readonly NodePort[]","import { NodePort } from \"../../port\";\n\nexport default [\n    { name: 'fetching', displayName: 'Fetching', group: 'States', type: 'string', default: false },    \n] as const satisfies readonly NodePort[]","import { enums } from \"../enums/enums\";\nimport { getEnumType } from \"../funcs/getType\";\nimport { NodePort } from \"../../types\";\n\nexport default [\n    { name: 'radius', displayName: 'Radius', group: 'Style', type: getEnumType(enums.sizes) }\n] as const satisfies readonly NodePort[]","export const iconNames = [\n    'IconUser', 'IconHome', 'IconChevronLeft', 'IconChevronRight', 'IconChevronDown', 'IconEdit', 'IconSearch',\n    'IconCalendarEvent', 'IconListDetails', 'IconIroning3', 'IconTrash', 'IconCheck', 'IconPlus', 'IconDeviceFloppy',\n    'IconBuildingCommunity', 'IconGhostFilled', 'IconPointFilled', 'IconPhoto', 'IconDatabaseOff', 'IconAdjustmentsHorizontal',\n    'IconLogout', 'IconChartAreaFilled', 'IconCoins', 'IconLock', 'IconFileSpreadsheet', 'IconCurrencyRubel',\n    'IconArrowRight', 'IconFolder', 'IconPencil', 'IconLogout2', 'IconRefresh', 'IconWand', 'IconBrush', 'IconFileTypeXls',\n    'IconInfoCircle', 'IconArchive', 'IconBriefcase2', 'IconX', 'IconDownload', 'IconChevronUp', 'IconThumbUp', 'IconThumbDown',\n    'IconCircleCheck', 'IconReportAnalytics', 'IconRepeat', 'IconSquareNumber1', 'IconUrgent', 'IconUsers', 'IconQrcode',\n    'IconMinus', 'IconSwitchVertical', 'IconHelp', 'IconFolderPlus', 'IconClipboard', 'IconCubePlus', 'IconLayersSubtract',\n    'IconKey', 'IconSend', 'IconArrowLeft', 'IconArrowBackUp', 'IconArrowUp', 'IconArrowsVertical', 'IconPrinter', 'IconRobot',\n    'IconSun', 'IconMoon', 'IconChartBar'\n]\n\nexport const hasIcon = (name: string) => {\n  if (iconNames.includes(name)) return true\n  else return false\n}","export default function (value: any): boolean {\n    if (typeof value === 'boolean') return false\n    return !Boolean(value)\n}","import React from 'react';\n\nclass ErrorBoundary extends React.Component {\n  constructor(props: any) {\n    super(props);\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error: any) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    // You can also log the error to an error reporting service\n    // logErrorToMyService(error, errorInfo);\n    console.error(error, errorInfo)\n  }\n\n  render() {\n    //@ts-ignore\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>-   ...</h1>;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary","import { BaseReactProps, CompVersions, GraphModel, GraphModelNode, NodeContext, ReactNodeDef } from \"../../types\"\nimport { clearWarning, hasWarings, sendWarning } from \"../funcs/warnings\"\nimport typeOf from \"just-typeof\"\nimport { Suspense, forwardRef, lazy, useImperativeHandle, useRef } from \"react\"\nimport { NodePort } from \"@shared/port\"\nimport getReactNodePorts from \"./getReactNodePorts\"\nimport getProps from \"../funcs/getProps\"\nimport React from \"react\"\nimport ErrorBoundary from \"./errorBoundary\"\n\ntype Params = {\n    allowChildren?: boolean\n}\n\nfunction getModule(module: any) {\n    const type: string = typeOf(module)\n    if (type === 'promise') return {\n        lazy: true,\n        module: lazy(() => module)\n    }\n    if (type === 'object') return {\n        lazy: false,\n        module\n    }\n}\n\nexport const reactNode = (nodeName: string, versions: CompVersions, params?: Params): ReactNodeDef => {\n    return {\n        name: `rolder-kit.${nodeName}`,\n        displayName: nodeName,\n        noodlNodeAsProp: true,\n        allowChildren: params?.allowChildren || false,\n        getReactComponent() {\n            return forwardRef(function (props: BaseReactProps, ref) {\n                const localRef = useRef<any>(null)\n                useImperativeHandle(ref, () => ({ signal(name: string) { localRef.current?.[name]() } }))\n\n                const version = props.version\n                const module = !hasWarings(props.noodlNode) ? versions[version]?.module : null\n                const p = !hasWarings(props.noodlNode)\n                    ? getProps(props.noodlNode.model, props.noodlNode.context, versions[version]?.inputs, props)\n                    : {}\n                const Comp = !hasWarings(props.noodlNode) ? getModule(module) : null\n\n                return Comp?.lazy\n                    ? <Suspense fallback={null}>\n                        <ErrorBoundary ><Comp.module {...p} ref={localRef} /></ErrorBoundary>\n                    </Suspense>\n                    : Comp ? <ErrorBoundary><Comp.module {...p} ref={localRef} /></ErrorBoundary> : null\n            })\n        },\n        methods: {\n            // on inputs data change\n            registerInputIfNeeded: function (inputName: any) {\n                if (this.hasInput(inputName)) return\n                this.registerInput(inputName, {\n                    set: function (value: any) {\n                        const version = this._inputValues.version\n                        const inputs = versions[version]?.inputs\n                        const nodePort = inputs?.find(i => i.name === inputName)\n                        if (nodePort?.type === 'signal') {\n                            if (value === true) this.innerReactComponentRef?.signal(inputName)\n                        } else {\n                            this.props[inputName] = value\n                            this.forceUpdate()\n                        }\n                    }\n                });\n            },\n            // on outputs data change\n            registerOutputIfNeeded: function (name: any) {\n                if (this.hasOutput(name)) return\n                this.registerOutput(name, { getter: () => this.outputPropValues?.[name] });\n            },\n        },\n        setup: function (context: NodeContext, graphModel: GraphModel) {\n            if (!context.editorConnection || !context.editorConnection.isRunningLocally()) { return }\n\n            graphModel.on(`nodeAdded.rolder-kit.${nodeName}`, function (node: GraphModelNode) {\n                const versionPort = {\n                    name: 'version', displayName: 'Version*', group: 'Version', plug: 'input', required: true, index: 0,\n                    type: {\n                        name: 'enum', allowEditOnly: true, enums: Object.keys(versions).map(i =>\n                            ({ value: i, label: i + (versions[i]?.hashTag ? ' #' + versions[i]?.hashTag : '') })\n                        )\n                    }\n                } as NodePort\n\n                // on node add\n                if (!node.parameters.version) sendWarning(node, context, 'Version', 'Choose version')\n                context.editorConnection.sendDynamicPorts(node.id, [versionPort, ...getReactNodePorts(node, context, versions)])\n                // on editor params update\n                node.on('parameterUpdated', function () {\n                    if (!node.parameters.version) {\n                        context.editorConnection.clearWarnings(node.component.name, node.id)\n                        sendWarning(node, context, 'Version', 'Choose version')\n                    } else clearWarning(node, context, 'Version')\n                    context.editorConnection.sendDynamicPorts(node.id, [versionPort, ...getReactNodePorts(node, context, versions)])\n                })\n            });\n        }\n    }\n}\n","import __module_federation_bundler_runtime__ from \"/home/decard/projects/rolder-kit/node_modules/.pnpm/@module-federation+webpack-bundler-runtime@0.0.8/node_modules/@module-federation/webpack-bundler-runtime/dist/index.cjs.js\"\nconst __module_federation_runtime_plugins__ = []\nconst __module_federation_remote_infos__ = {\"remote\":[{\"alias\":\"remote\",\"name\":\"remote\",\"entry\":\"https://mfe.rolder.app/remoteEntry.js\",\"externalType\":\"script\",\"shareScope\":\"default\"}]}\nconst __module_federation_container_name__ = \"data\"\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    if (__webpack_require__.initializeSharingData ||\n        __webpack_require__.initializeExposesData) {\n        const override = (obj, key, value) => {\n            if (!obj)\n                return;\n            if (obj[key])\n                obj[key] = value;\n        };\n        const merge = (obj, key, fn) => {\n            var _a, _b;\n            const value = fn();\n            if (Array.isArray(value)) {\n                (_a = obj[key]) !== null && _a !== void 0 ? _a : (obj[key] = []);\n                obj[key].push(...value);\n            }\n            else if (typeof value === \"object\" && value !== null) {\n                (_b = obj[key]) !== null && _b !== void 0 ? _b : (obj[key] = {});\n                Object.assign(obj[key], value);\n            }\n        };\n        const early = (obj, key, initial) => {\n            var _a;\n            (_a = obj[key]) !== null && _a !== void 0 ? _a : (obj[key] = initial());\n        };\n        const remotesLoadingChunkMapping = (_b = (_a = __webpack_require__.remotesLoadingData) === null || _a === void 0 ? void 0 : _a.chunkMapping) !== null && _b !== void 0 ? _b : {};\n        const remotesLoadingModuleIdToRemoteDataMapping = (_d = (_c = __webpack_require__.remotesLoadingData) === null || _c === void 0 ? void 0 : _c.moduleIdToRemoteDataMapping) !== null && _d !== void 0 ? _d : {};\n        const initializeSharingScopeToInitDataMapping = (_f = (_e = __webpack_require__.initializeSharingData) === null || _e === void 0 ? void 0 : _e.scopeToSharingDataMapping) !== null && _f !== void 0 ? _f : {};\n        const consumesLoadingChunkMapping = (_h = (_g = __webpack_require__.consumesLoadingData) === null || _g === void 0 ? void 0 : _g.chunkMapping) !== null && _h !== void 0 ? _h : {};\n        const consumesLoadingModuleToConsumeDataMapping = (_k = (_j = __webpack_require__.consumesLoadingData) === null || _j === void 0 ? void 0 : _j.moduleIdToConsumeDataMapping) !== null && _k !== void 0 ? _k : {};\n        const consumesLoadinginstalledModules = {};\n        const initializeSharingInitPromises = [];\n        const initializeSharingInitTokens = [];\n        const containerShareScope = (_l = __webpack_require__.initializeExposesData) === null || _l === void 0 ? void 0 : _l.containerShareScope;\n        early(__webpack_require__, \"federation\", () => __module_federation_bundler_runtime__);\n        early(__webpack_require__.federation, \"consumesLoadingModuleToHandlerMapping\", () => {\n            const consumesLoadingModuleToHandlerMapping = {};\n            for (let [moduleId, data] of Object.entries(consumesLoadingModuleToConsumeDataMapping)) {\n                consumesLoadingModuleToHandlerMapping[moduleId] = {\n                    getter: data.fallback,\n                    shareInfo: {\n                        shareConfig: {\n                            fixedDependencies: false,\n                            requiredVersion: data.requiredVersion,\n                            strictVersion: data.strictVersion,\n                            singleton: data.singleton,\n                            eager: data.eager\n                        },\n                        scope: [data.shareScope]\n                    },\n                    shareKey: data.shareKey\n                };\n            }\n            return consumesLoadingModuleToHandlerMapping;\n        });\n        early(__webpack_require__.federation, \"initOptions\", () => ({}));\n        early(__webpack_require__.federation.initOptions, \"name\", () => __module_federation_container_name__);\n        early(__webpack_require__.federation.initOptions, \"shared\", () => {\n            const shared = {};\n            for (let [scope, stages] of Object.entries(initializeSharingScopeToInitDataMapping)) {\n                for (let stage of stages) {\n                    if (typeof stage === \"object\" && stage !== null) {\n                        const { name, version, factory, eager } = stage;\n                        if (shared[name]) {\n                            shared[name].scope.push(scope);\n                        }\n                        else {\n                            shared[name] = { version, get: factory, scope: [scope] };\n                        }\n                    }\n                }\n            }\n            return shared;\n        });\n        merge(__webpack_require__.federation.initOptions, \"remotes\", () => Object.values(__module_federation_remote_infos__)\n            .flat()\n            .filter(remote => remote.externalType === \"script\"));\n        merge(__webpack_require__.federation.initOptions, \"plugins\", () => __module_federation_runtime_plugins__);\n        early(__webpack_require__.federation, \"bundlerRuntimeOptions\", () => ({}));\n        early(__webpack_require__.federation.bundlerRuntimeOptions, \"remotes\", () => ({}));\n        early(__webpack_require__.federation.bundlerRuntimeOptions.remotes, \"chunkMapping\", () => remotesLoadingChunkMapping);\n        early(__webpack_require__.federation.bundlerRuntimeOptions.remotes, \"idToExternalAndNameMapping\", () => {\n            const remotesLoadingIdToExternalAndNameMappingMapping = {};\n            for (let [moduleId, data] of Object.entries(remotesLoadingModuleIdToRemoteDataMapping)) {\n                remotesLoadingIdToExternalAndNameMappingMapping[moduleId] = [\n                    data.shareScope,\n                    data.name,\n                    data.externalModuleId,\n                    data.remoteName\n                ];\n            }\n            return remotesLoadingIdToExternalAndNameMappingMapping;\n        });\n        early(__webpack_require__.federation.bundlerRuntimeOptions.remotes, \"webpackRequire\", () => __webpack_require__);\n        merge(__webpack_require__.federation.bundlerRuntimeOptions.remotes, \"idToRemoteMap\", () => {\n            const idToRemoteMap = {};\n            for (let [id, remoteData] of Object.entries(remotesLoadingModuleIdToRemoteDataMapping)) {\n                const info = __module_federation_remote_infos__[remoteData.remoteName];\n                if (info)\n                    idToRemoteMap[id] = info;\n            }\n            return idToRemoteMap;\n        });\n        override(__webpack_require__, \"S\", __module_federation_bundler_runtime__.bundlerRuntime.S);\n        if (__module_federation_bundler_runtime__.attachShareScopeMap) {\n            __module_federation_bundler_runtime__.attachShareScopeMap(__webpack_require__);\n        }\n        override(__webpack_require__.f, \"remotes\", (chunkId, promises) => __module_federation_bundler_runtime__.bundlerRuntime.remotes({\n            chunkId,\n            promises,\n            chunkMapping: remotesLoadingChunkMapping,\n            idToExternalAndNameMapping: __webpack_require__.federation.bundlerRuntimeOptions.remotes\n                .idToExternalAndNameMapping,\n            idToRemoteMap: __webpack_require__.federation.bundlerRuntimeOptions.remotes\n                .idToRemoteMap,\n            webpackRequire: __webpack_require__\n        }));\n        override(__webpack_require__.f, \"consumes\", (chunkId, promises) => __module_federation_bundler_runtime__.bundlerRuntime.consumes({\n            chunkId,\n            promises,\n            chunkMapping: consumesLoadingChunkMapping,\n            moduleToHandlerMapping: __webpack_require__.federation.consumesLoadingModuleToHandlerMapping,\n            installedModules: consumesLoadinginstalledModules,\n            webpackRequire: __webpack_require__\n        }));\n        override(__webpack_require__, \"I\", (name, initScope) => __module_federation_bundler_runtime__.bundlerRuntime.I({\n            shareScopeName: name,\n            initScope,\n            initPromises: initializeSharingInitPromises,\n            initTokens: initializeSharingInitTokens,\n            webpackRequire: __webpack_require__\n        }));\n        override(__webpack_require__, \"initContainer\", (shareScope, initScope, remoteEntryInitOptions) => __module_federation_bundler_runtime__.bundlerRuntime.initContainerEntry({\n            shareScope,\n            initScope,\n            remoteEntryInitOptions,\n            shareScopeKey: containerShareScope,\n            webpackRequire: __webpack_require__\n        }));\n        override(__webpack_require__, \"getContainer\", (module, getScope) => {\n            var moduleMap = __webpack_require__.initializeExposesData.moduleMap;\n            __webpack_require__.R = getScope;\n            getScope = Object.prototype.hasOwnProperty.call(moduleMap, module)\n                ? moduleMap[module]()\n                : Promise.resolve().then(() => {\n                    throw new Error('Module \"' + module + '\" does not exist in container.');\n                });\n            __webpack_require__.R = undefined;\n            return getScope;\n        });\n        __module_federation_bundler_runtime__.instance =\n            __module_federation_bundler_runtime__.runtime.init(__module_federation_bundler_runtime__.initOptions);\n        if ((_m = __webpack_require__.consumesLoadingData) === null || _m === void 0 ? void 0 : _m.initialConsumes) {\n            __module_federation_bundler_runtime__.bundlerRuntime.installInitialConsumes({\n                webpackRequire: __webpack_require__,\n                installedModules: consumesLoadinginstalledModules,\n                initialConsumes: __webpack_require__.consumesLoadingData.initialConsumes,\n                moduleToHandlerMapping: __module_federation_bundler_runtime__.consumesLoadingModuleToHandlerMapping\n            });\n        }\n    }","// Regexps involved with splitting words in various case formats.\nconst SPLIT_LOWER_UPPER_RE = /([\\p{Ll}\\d])(\\p{Lu})/gu;\nconst SPLIT_UPPER_UPPER_RE = /(\\p{Lu})([\\p{Lu}][\\p{Ll}])/gu;\n// Used to iterate over the initial split result and separate numbers.\nconst SPLIT_SEPARATE_NUMBER_RE = /(\\d)\\p{Ll}|(\\p{L})\\d/u;\n// Regexp involved with stripping non-word characters from the result.\nconst DEFAULT_STRIP_REGEXP = /[^\\p{L}\\d]+/giu;\n// The replacement value for splits.\nconst SPLIT_REPLACE_VALUE = \"$1\\0$2\";\n// The default characters to keep after transforming case.\nconst DEFAULT_PREFIX_SUFFIX_CHARACTERS = \"\";\n/**\n * Split any cased input strings into an array of words.\n */\nexport function split(value) {\n    let result = value.trim();\n    result = result\n        .replace(SPLIT_LOWER_UPPER_RE, SPLIT_REPLACE_VALUE)\n        .replace(SPLIT_UPPER_UPPER_RE, SPLIT_REPLACE_VALUE);\n    result = result.replace(DEFAULT_STRIP_REGEXP, \"\\0\");\n    let start = 0;\n    let end = result.length;\n    // Trim the delimiter from around the output string.\n    while (result.charAt(start) === \"\\0\")\n        start++;\n    if (start === end)\n        return [];\n    while (result.charAt(end - 1) === \"\\0\")\n        end--;\n    return result.slice(start, end).split(/\\0/g);\n}\n/**\n * Split the input string into an array of words, separating numbers.\n */\nexport function splitSeparateNumbers(value) {\n    const words = split(value);\n    for (let i = 0; i < words.length; i++) {\n        const word = words[i];\n        const match = SPLIT_SEPARATE_NUMBER_RE.exec(word);\n        if (match) {\n            const offset = match.index + (match[1] ?? match[2]).length;\n            words.splice(i, 1, word.slice(0, offset), word.slice(offset));\n        }\n    }\n    return words;\n}\n/**\n * Convert a string to space separated lower case (`foo bar`).\n */\nexport function noCase(input, options) {\n    const [prefix, words, suffix] = splitPrefixSuffix(input, options);\n    return (prefix +\n        words.map(lowerFactory(options?.locale)).join(options?.delimiter ?? \" \") +\n        suffix);\n}\n/**\n * Convert a string to camel case (`fooBar`).\n */\nexport function camelCase(input, options) {\n    const [prefix, words, suffix] = splitPrefixSuffix(input, options);\n    const lower = lowerFactory(options?.locale);\n    const upper = upperFactory(options?.locale);\n    const transform = options?.mergeAmbiguousCharacters\n        ? capitalCaseTransformFactory(lower, upper)\n        : pascalCaseTransformFactory(lower, upper);\n    return (prefix +\n        words\n            .map((word, index) => {\n            if (index === 0)\n                return lower(word);\n            return transform(word, index);\n        })\n            .join(options?.delimiter ?? \"\") +\n        suffix);\n}\n/**\n * Convert a string to pascal case (`FooBar`).\n */\nexport function pascalCase(input, options) {\n    const [prefix, words, suffix] = splitPrefixSuffix(input, options);\n    const lower = lowerFactory(options?.locale);\n    const upper = upperFactory(options?.locale);\n    const transform = options?.mergeAmbiguousCharacters\n        ? capitalCaseTransformFactory(lower, upper)\n        : pascalCaseTransformFactory(lower, upper);\n    return prefix + words.map(transform).join(options?.delimiter ?? \"\") + suffix;\n}\n/**\n * Convert a string to pascal snake case (`Foo_Bar`).\n */\nexport function pascalSnakeCase(input, options) {\n    return capitalCase(input, { delimiter: \"_\", ...options });\n}\n/**\n * Convert a string to capital case (`Foo Bar`).\n */\nexport function capitalCase(input, options) {\n    const [prefix, words, suffix] = splitPrefixSuffix(input, options);\n    const lower = lowerFactory(options?.locale);\n    const upper = upperFactory(options?.locale);\n    return (prefix +\n        words\n            .map(capitalCaseTransformFactory(lower, upper))\n            .join(options?.delimiter ?? \" \") +\n        suffix);\n}\n/**\n * Convert a string to constant case (`FOO_BAR`).\n */\nexport function constantCase(input, options) {\n    const [prefix, words, suffix] = splitPrefixSuffix(input, options);\n    return (prefix +\n        words.map(upperFactory(options?.locale)).join(options?.delimiter ?? \"_\") +\n        suffix);\n}\n/**\n * Convert a string to dot case (`foo.bar`).\n */\nexport function dotCase(input, options) {\n    return noCase(input, { delimiter: \".\", ...options });\n}\n/**\n * Convert a string to kebab case (`foo-bar`).\n */\nexport function kebabCase(input, options) {\n    return noCase(input, { delimiter: \"-\", ...options });\n}\n/**\n * Convert a string to path case (`foo/bar`).\n */\nexport function pathCase(input, options) {\n    return noCase(input, { delimiter: \"/\", ...options });\n}\n/**\n * Convert a string to path case (`Foo bar`).\n */\nexport function sentenceCase(input, options) {\n    const [prefix, words, suffix] = splitPrefixSuffix(input, options);\n    const lower = lowerFactory(options?.locale);\n    const upper = upperFactory(options?.locale);\n    const transform = capitalCaseTransformFactory(lower, upper);\n    return (prefix +\n        words\n            .map((word, index) => {\n            if (index === 0)\n                return transform(word);\n            return lower(word);\n        })\n            .join(options?.delimiter ?? \" \") +\n        suffix);\n}\n/**\n * Convert a string to snake case (`foo_bar`).\n */\nexport function snakeCase(input, options) {\n    return noCase(input, { delimiter: \"_\", ...options });\n}\n/**\n * Convert a string to header case (`Foo-Bar`).\n */\nexport function trainCase(input, options) {\n    return capitalCase(input, { delimiter: \"-\", ...options });\n}\nfunction lowerFactory(locale) {\n    return locale === false\n        ? (input) => input.toLowerCase()\n        : (input) => input.toLocaleLowerCase(locale);\n}\nfunction upperFactory(locale) {\n    return locale === false\n        ? (input) => input.toUpperCase()\n        : (input) => input.toLocaleUpperCase(locale);\n}\nfunction capitalCaseTransformFactory(lower, upper) {\n    return (word) => `${upper(word[0])}${lower(word.slice(1))}`;\n}\nfunction pascalCaseTransformFactory(lower, upper) {\n    return (word, index) => {\n        const char0 = word[0];\n        const initial = index > 0 && char0 >= \"0\" && char0 <= \"9\" ? \"_\" + char0 : upper(char0);\n        return initial + lower(word.slice(1));\n    };\n}\nfunction splitPrefixSuffix(input, options = {}) {\n    const splitFn = options.split ?? (options.separateNumbers ? splitSeparateNumbers : split);\n    const prefixCharacters = options.prefixCharacters ?? DEFAULT_PREFIX_SUFFIX_CHARACTERS;\n    const suffixCharacters = options.suffixCharacters ?? DEFAULT_PREFIX_SUFFIX_CHARACTERS;\n    let prefixIndex = 0;\n    let suffixIndex = input.length;\n    while (prefixIndex < input.length) {\n        const char = input.charAt(prefixIndex);\n        if (!prefixCharacters.includes(char))\n            break;\n        prefixIndex++;\n    }\n    while (suffixIndex > prefixIndex) {\n        const index = suffixIndex - 1;\n        const char = input.charAt(index);\n        if (!suffixCharacters.includes(char))\n            break;\n        suffixIndex = index;\n    }\n    return [\n        input.slice(0, prefixIndex),\n        splitFn(input.slice(prefixIndex, suffixIndex)),\n        input.slice(suffixIndex),\n    ];\n}\n//# sourceMappingURL=index.js.map","var collectionClone = clone;\n\n/*\n  Deep clones all properties except functions\n\n  var arr = [1, 2, 3];\n  var subObj = {aa: 1};\n  var obj = {a: 3, b: 5, c: arr, d: subObj};\n  var objClone = clone(obj);\n  arr.push(4);\n  subObj.bb = 2;\n  obj; // {a: 3, b: 5, c: [1, 2, 3, 4], d: {aa: 1}}\n  objClone; // {a: 3, b: 5, c: [1, 2, 3], d: {aa: 1, bb: 2}}\n*/\n\nfunction clone(obj) {\n  let result = obj;\n  var type = {}.toString.call(obj).slice(8, -1);\n  if (type == 'Set') {\n    return new Set([...obj].map(value => clone(value)));\n  }\n  if (type == 'Map') {\n    return new Map([...obj].map(kv => [clone(kv[0]), clone(kv[1])]));\n  }\n  if (type == 'Date') {\n    return new Date(obj.getTime());\n  }\n  if (type == 'RegExp') {\n    return RegExp(obj.source, getRegExpFlags(obj));\n  }\n  if (type == 'Array' || type == 'Object') {\n    result = Array.isArray(obj) ? [] : {};\n    for (var key in obj) {\n      // include prototype properties\n      result[key] = clone(obj[key]);\n    }\n  }\n  // primitives and non-supported objects (e.g. functions) land here\n  return result;\n}\n\nfunction getRegExpFlags(regExp) {\n  if (typeof regExp.source.flags == 'string') {\n    return regExp.source.flags;\n  } else {\n    var flags = [];\n    regExp.global && flags.push('g');\n    regExp.ignoreCase && flags.push('i');\n    regExp.multiline && flags.push('m');\n    regExp.sticky && flags.push('y');\n    regExp.unicode && flags.push('u');\n    return flags.join('');\n  }\n}\n\nexport {collectionClone as default};\n","var objectTypeof = typeOf;\n\n/*\n  typeOf({}); // 'object'\n  typeOf([]); // 'array'\n  typeOf(function() {}); // 'function'\n  typeOf(async function() {}); // 'function'\n  typeOf(/a/); // 'regexp'\n  typeOf(new Date()); // 'date'\n  typeOf(null); // 'null'\n  typeOf(undefined); // 'undefined'\n  typeOf('a'); // 'string'\n  typeOf(1); // 'number'\n  typeOf(true); // 'boolean'\n*/\n\nfunction typeOf(obj) {\n  if (obj === null) {\n    return 'null';\n  }\n  if (obj !== Object(obj)) {\n    return typeof obj;\n  }\n  var result = {}.toString\n    .call(obj)\n    .slice(8, -1)\n    .toLowerCase();\n\n  // strip function adornments (e.g. \"AsyncFunction\")\n  return result.indexOf('function') > -1 ? 'function' : result;\n}\n\nexport {objectTypeof as default};\n"],"names":["Object","defineProperty","exports","value","share","sdk","matchRemoteWithNameAndExpose","remotes","id","remote","isNameMatched","startsWith","name","expose","replace","pkgNameOrAlias","isAliasMatched","alias","exposeWithAlias","matchRemote","nameOrAlias","registerPlugins","plugins","hookInstances","globalPlugins","getGlobalHostPlugins","length","forEach","plugin","find","item","push","hookInstance","applyPlugin","_extends$5","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","loadEsmEntry","entry","remoteEntryExports","Promise","resolve","reject","Function","e","loadEntryScript","globalName","createScriptHook","entryExports","getRemoteEntryExports","document","loadScriptNode","attrs","then","remoteEntryKey","assert","console","log","catch","loadScript","getRemoteEntry","remoteInfo","type","entryGlobalName","uniqueKey","composeKeyWithSeparator","globalLoading","getRemoteInfo","DEFAULT_REMOTE_TYPE","shareScope","DEFAULT_SCOPE","_extends$4","Module","getEntry","url","res","host","loaderHook","lifecycle","createScript","emit","HTMLScriptElement","safeToString","get","options","loadFactory","inited","localShareScopeMap","shareScopeMap","remoteShareScope","initScope","remoteEntryInitOptions","version","enumerable","initContainerOptions","hooks","beforeInitContainer","origin","init","initContainer","lib","moduleFactory","getFMId","constructor","undefined","SyncHook","on","fn","listeners","add","once","self","wrapper","args","remove","data","result","size","delete","removeAll","clear","Set","AsyncHook","ls","Array","from","prev","checkReturnData","originalData","returnedData","isObject","SyncWaterfallHook","error","tempData","onerror","warn","AsyncWaterfallHook","processError","prevData","PluginSystem","isPlainObject","pluginName","keys","pluginLife","removePlugin","inherit","hookName","lifecycleKeys","_extends$3","defaultPreloadArgs","preloadConfig","resourceCategory","depsRemote","prefetchInterface","formatPreloadArgs","preloadArgs","map","normalizePreloadExposes","exposes","preloadAssets","assets","cssAssets","jsAssetsWithoutEntry","entryAssets","inBrowser","asset","moduleInfo","module","moduleCache","fragment","createDocumentFragment","cssUrl","cssEl","createElement","setAttribute","appendChild","head","jsUrl","script","scriptEl","_extends$2","assignRemoteInfo","remoteSnapshot","remoteEntry","entryUrl","getResourceUrl","remoteEntryType","buildVersion","snapshotPlugin","afterResolve","isRemoteInfoWithEntry","isPureRemoteEntry","globalSnapshot","snapshotHandler","loadRemoteSnapshotInfo","preloadOptions","generatePreloadAssets","splitId","splitInfo","split","traverseModuleInfo","traverse","isRoot","memo","getModuleInfoHook","snapshotValue","getInfoWithoutType","effectiveRemoteSnapshot","isManifestProvider","remotesInfo","subRemoteInfo","remoteValue","matchedVersion","jsAssets","loadedSharedJsAssets","loadedSharedCssAssets","rootPreloadConfig","moduleInfoSnapshot","isArray","findPreloadConfig","remoteConfig","remoteEntryUrl","moduleAssetsInfo","modules","normalizedPreloadExposes","_moduleInfoSnapshot_modules","reduce","moduleAssetInfo","indexOf","moduleName","handleAssets","assetsRes","filter","assetsLength","index","assetsInfo","exposeFullPath","handlePreloadModule","getPreloaded","css","async","sync","js","setPreloaded","getModuleInfo","shared","_options_shared","shareInfo","sharedName","registeredShared","getRegisteredShare","resolveShare","needPreloadJsAssets","has","generatePreloadAssetsPlugin","_extends$1","SnapshotHandler","loadSnapshot","HostInstance","hostGlobalSnapshot","getGlobalRemoteInfo","globalRemoteSnapshot","globalSnapshotRes","hostSnapshot","getGlobalSnapshotInfoByModuleInfo","beforeLoadRemoteSnapshot","moduleSnapshot","getManifestJson","setGlobalSnapshotInfoByModuleInfo","remoteSnapshotRes","loadRemoteSnapshot","JSON","stringify","globalRemoteInfo","getGlobalSnapshot","manifestUrl","extraOptions","getManifest","manifestJson","manifestCache","fetch","Response","json","metaData","set","err","asyncLoadProcess","generateSnapshotFromManifest","manifestLoading","loadingHostSnapshot","Map","Global","__FEDERATION__","__MANIFEST_LOADING__","_extends","_object_without_properties_loose","excluded","sourceKeys","FederationHost","_setGlobalShareScopeMap","globalShareScopeMap","getGlobalShareScope","identifier","initOptions","userOptions","formatOptions","loadShare","pkgName","customShareInfo","_this_options_shared","scope","all","initializeSharing","strategy","shareInfoRes","beforeLoadShare","addUseIn","useIn","addUniqueItem","loading","loaded","factory","gShared","setShared","loadShareSync","Error","_getRemoteModuleAndOptions","idRes","beforeRequest","remoteSplitInfo","rawRemote","matchInfo","moduleOptions","remoteMatchInfo","loadRemote","moduleOrFactory","onLoad","exposeModule","exposeModuleFactory","moduleInstance","failOver","errorLoadRemote","preloadRemote","beforePreloadRemote","preloadOps","ops","shareScopeName","hostName","register","_activeVersion_shareConfig","eager","versions","activeVersion","activeVersionEager","Boolean","shareConfig","promises","initFn","mod","initRemoteModule","shareName","includes","initShareScopeMap","scopeName","initContainerShareScopeMap","globalOptions","formatShareOptions","formatShareConfigs","userOptionsRes","globalOptionsRes","beforeInit","userRemotes","findEqual","_item_alias","isBrowserEnv","URL","window","location","href","sharedKeys","sharedKey","sharedVal","optionsRes","scopes","sc","afterPreloadRemote","defaultOptions","getBuilderId","FederationInstance","instance","getGlobalFederationInstance","getGlobalFederationConstructor","setGlobalFederationInstance","setGlobalFederationConstructor","registerGlobalPlugins","FEDERATION_BUILD_IDENTIFIER","isDebugMode","LOG_CATEGORY","condition","msg","arr","findIndex","info","val","objectToString","toString","nativeGlobal","definePropertyGlobalVal","configurable","writable","includeOwnProperty","globalThis","__GLOBAL_LOADING_REMOTE_ENTRY__","setGlobalDefaultVal","_target___FEDERATION__","_target___FEDERATION__1","_target___FEDERATION__2","_target___FEDERATION__3","_target___FEDERATION__4","_target___FEDERATION__5","___GLOBAL_PLUGIN__","___INSTANCES__","_moduleInfo","___SHARE__","___MANIFEST_LOADING__","___PRELOADED_MAP__","__VMOK__","__GLOBAL_PLUGIN__","__INSTANCES__","__SHARE__","__PRELOADED_MAP__","resetFederationGlobalInfo","buildId","GMInstance","__DEBUG_CONSTRUCTOR__","FederationConstructor","__DEBUG_CONSTRUCTOR_VERSION__","hookRes","getTargetSnapshotInfoByModuleInfo","snapshot","moduleKeyWithoutVersion","getModuleInfoWithoutVersion","moduleDetailInfo","moduleKey","addGlobalSnapshot","moduleInfos","p","buildIdentifier","build","numericIdentifier","numericIdentifierLoose","nonNumericIdentifier","preReleaseIdentifierLoose","preReleaseLoose","preReleaseIdentifier","preRelease","xRangeIdentifier","xRangePlain","hyphenRange","mainVersionLoose","loosePlain","gtlt","comparatorTrim","loneTilde","tildeTrim","loneCaret","caretTrim","star","caret","mainVersion","fullPlain","tilde","xRange","comparator","gte0","parseRegex","RegExp","isXVersion","toLowerCase","pipe","fns","x","v","f","extractComparator","comparatorString","match","combineVersion","major","minor","patch","parseHyphen","range","_range","fromMajor","fromMinor","fromPatch","_fromPreRelease","_fromBuild","to","toMajor","toMinor","toPatch","toPreRelease","Number","trim","parseComparatorTrim","parseTildeTrim","parseCaretTrim","parseCarets","rangeVersion","_","join","parseTildes","parseXRanges","ret","isXMajor","isXMinor","isXPatch","parseStar","parseGTE0","compareAtom","rangeAtom","versionAtom","comparePreRelease","rangePreRelease","versionPreRelease","n","rangeElement","versionElement","compareVersion","eq","compare","operator","parseComparatorString","parseRange","satisfy","comparators","parsedComparator","parsedRange","extractedVersion","versionOperator","versionMajor","versionMinor","versionPatch","extractedComparator","rangeOperator","rangeMajor","rangeMinor","rangePatch","formatShare","shareArgs","deps","requiredVersion","singleton","strictVersion","versionLt","a","b","transformInvalidVersion","isNaN","splitArr","validVersion","findVersion","cb","callback","cur","findSingletonVersionOrderByVersion","findSingletonVersionOrderByLoaded","getFindShareFunction","maxOrSingletonVersion","findShareFunction","defaultResolver","versionKey","versionValue","entries","params","GlobalFederation","resolver","resolveShared","_define_property$2","_obj","_obj1","FederationModuleManifest","MANIFEST_EXT","BROWSER_LOG_KEY","BROWSER_LOG_VALUE","NameTransformSymbol","AT","HYPHEN","SLASH","NameTransformMap","EncodedNameTransformMap","SEPARATOR","process","env","FEDERATION_DEBUG","getProcessEnv","_array_like_to_array$2","_array_without_holes","_class_call_check","TypeError","_defineProperties","_create_class","_define_property$1","_iterable_to_array$1","Symbol","iterator","_non_iterable_spread","_to_consumable_array","_unsupported_iterable_to_array$2","slice","test","DEBUG_LOG","Logger","localStorage","getItem","enable","concat","_array_like_to_array$1","_array_with_holes$1","_iterable_to_array","_iterable_to_array_limit$1","next","done","_non_iterable_rest$1","_sliced_to_array$1","_unsupported_iterable_to_array$1","_to_array","parseEntry","logger","encodeName","decodeName","generateExposeFilename","generateShareFilename","getPublicPath","publicPath","_define_property","_object_spread","getOwnPropertySymbols","getOwnPropertyDescriptor","ownKeys","_object_spread_props","getOwnPropertyDescriptors","defineProperties","simpleJoinRemoteEntry","endsWith","overrides","federationContainerName","path","types","buildInfo","remoteTypes","modulePath","prefetchEntry","prefetchEntryType","asyncGeneratorStep$1","_async_to_generator$1","_instanceof","hasInstance","_ts_generator$1","label","sent","trys","pop","safeWrapper","_safeWrapper","isStaticResourcesEqual","getElementsByTagName","getAttribute","src","onload","parentNode","removeChild","bind","needAttach","_array_like_to_array","_array_with_holes","asyncGeneratorStep","_async_to_generator","_iterable_to_array_limit","_non_iterable_rest","_sliced_to_array","_unsupported_iterable_to_array","_ts_generator","importNodeModule","default","createScriptNode","urlObj","hookResult","getFetch","text","_ref","vm","scriptContext","urlDirname","filename","exportedInterface","container","_state","pathname","basename","Script","runInThisContext","eval","ENCODE_NAME_PREFIX","FEDERATION_SUPPORTED_TYPES","runtime","constant","attachShareScopeMap","webpackRequire","S","federation","hasAttachShareScopeMap","chunkId","chunkMapping","idToExternalAndNameMapping","idToRemoteMap","o","getScope","R","remoteInfos","onError","message","m","handleFunction","arg1","arg2","d","first","promise","onExternal","external","I","onInitialized","onFactory","onRemoteLoaded","remoteModuleName","remoteName","useRuntimeLoad","externalType","consumes","installedModules","moduleToHandlerMapping","c","federationInstance","_moduleToHandlerMapping_id","shareKey","getter","param","initPromises","initTokens","initToken","initExternal","handleError","initResult","bundlerRuntimeRemotesOptions","bundlerRuntimeOptions","moduleId","externalModuleId","handleInitialConsumes","_moduleToHandlerMapping_moduleId","installInitialConsumes","initialConsumes","obj","sym","initContainerEntry","shareScopeKey","_interopNamespace","__esModule","create","k","freeze","bundlerRuntime","_colors","Noodl","defineNode","def","_def","displayNodeName","displayName","usePortAsLabel","useInputAsLabel","color","category","getInspectInfo","docs","initialize","inputs","_outputs","outputs","_this","setOutputs","flagOutputDirty","clearWarnings","context","editorConnection","nodeScope","componentOwner","sendWarning","group","_key","changed","signals","valueChangedToTrue","_fn","signal","scheduleAfterInputsHaveUpdated","methods","prototypeExtensions","onNodeDeleted","_onNodeDeleted","__proto__","node","setup","defineCollectionNode","Items","Fetch","sendSignalOnOutput","defineModelNode","Id","Fetched","_object","_changeListener","off","_o","properties","defineReactNode","getReactComponent","inputProps","inputCss","outputProps","frame","nodes","defineModule","jsNode","getPorts","checkLiteralType","clearWarning","nodeInput","typeOfValue","dn","complexValue","isComplexType","evalValue","customs","unit","hasIcon","allNodePorts","currentNodePorts","resultNodePorts","required","nodePort","parameters","idx","dependsOn","baseProps","props","resultProps","defaultUnit","propName","input","component","showGlobally","hasWarings","noodlNode","warnings","activeWarnings","currentWarnings","some","allPorts","nodeName","outputPropValues","_internal","setValue","registerInputIfNeeded","inputName","hasInput","registerInput","model","s","registerOutputIfNeeded","hasOutput","registerOutput","graphModel","isRunningLocally","versionPort","plug","allowEditOnly","enums","hashTag","sendDynamicPorts","sizes","values","noCase","sentenceCase","ports","portNames","requiredEditorPorts","resultPorts","portName","defaultUnits","getEnumType","only","expandedType","allowConnectionsOnly","getUnitType","units","iconNames","ErrorBoundary","state","hasError","errorInfo","children","getModule","lazy","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","__module_federation_runtime_plugins__","__module_federation_remote_infos__","__module_federation_container_name__","__webpack_require__","initializeSharingData","initializeExposesData","override","merge","early","initial","remotesLoadingChunkMapping","remotesLoadingData","remotesLoadingModuleIdToRemoteDataMapping","moduleIdToRemoteDataMapping","initializeSharingScopeToInitDataMapping","scopeToSharingDataMapping","consumesLoadingChunkMapping","consumesLoadingData","consumesLoadingModuleToConsumeDataMapping","moduleIdToConsumeDataMapping","consumesLoadinginstalledModules","initializeSharingInitPromises","initializeSharingInitTokens","containerShareScope","consumesLoadingModuleToHandlerMapping","fallback","fixedDependencies","stages","stage","flat","remotesLoadingIdToExternalAndNameMappingMapping","remoteData","moduleMap","SPLIT_LOWER_UPPER_RE","SPLIT_UPPER_UPPER_RE","SPLIT_SEPARATE_NUMBER_RE","DEFAULT_STRIP_REGEXP","SPLIT_REPLACE_VALUE","DEFAULT_PREFIX_SUFFIX_CHARACTERS","start","end","charAt","splitSeparateNumbers","words","word","exec","offset","splice","prefix","suffix","splitPrefixSuffix","lowerFactory","locale","delimiter","capitalCase","lower","upper","upperFactory","capitalCaseTransformFactory","transform","toLocaleLowerCase","toUpperCase","toLocaleUpperCase","pascalCaseTransformFactory","char0","splitFn","separateNumbers","prefixCharacters","suffixCharacters","prefixIndex","suffixIndex","char","collectionClone","clone","kv","Date","getTime","getRegExpFlags","regExp","flags","global","ignoreCase","multiline","sticky","unicode","objectTypeof","typeOf"],"mappings":"yDAAA,aAEAA,OAAOC,cAAc,CAACC,EAAS,aAAc,CAAEC,MAAO,EAAK,GAE3D,IAAIC,EAAQ,EAAQ,OAChBC,EAAM,EAAQ,OAMlB,SAASC,EAA6BC,CAAO,CAAEC,CAAE,EAC7C,IAAK,IAAMC,KAAUF,EAAQ,CAEzB,IAAMG,EAAgBF,EAAGG,UAAU,CAACF,EAAOG,IAAI,EAC3CC,EAASL,EAAGM,OAAO,CAACL,EAAOG,IAAI,CAAE,IACrC,GAAIF,EAAe,CACf,GAAIG,EAAOF,UAAU,CAAC,KAAM,CACxB,IAAMI,EAAiBN,EAAOG,IAAI,CAElC,MAAO,CACHG,eAAAA,EACAF,OAHJA,EAAS,CAAC,CAAC,EAAEA,EAAO,CAAC,CAIjBJ,OAAAA,CACJ,CACJ,CAAO,GAAII,AAAW,KAAXA,EACP,MAAO,CACHE,eAAgBN,EAAOG,IAAI,CAC3BC,OAAQ,IACRJ,OAAAA,CACJ,CAER,CAEA,IAAMO,EAAiBP,EAAOQ,KAAK,EAAIT,EAAGG,UAAU,CAACF,EAAOQ,KAAK,EAC7DC,EAAkBT,EAAOQ,KAAK,EAAIT,EAAGM,OAAO,CAACL,EAAOQ,KAAK,CAAE,IAC/D,GAAIR,EAAOQ,KAAK,EAAID,EAAgB,CAChC,GAAIE,GAAmBA,EAAgBP,UAAU,CAAC,KAAM,CACpD,IAAMI,EAAiBN,EAAOQ,KAAK,CAEnC,MAAO,CACHF,eAAAA,EACAF,OAHJK,EAAkB,CAAC,CAAC,EAAEA,EAAgB,CAAC,CAInCT,OAAAA,CACJ,CACJ,CAAO,GAAIS,AAAoB,KAApBA,EACP,MAAO,CACHH,eAAgBN,EAAOQ,KAAK,CAC5BJ,OAAQ,IACRJ,OAAAA,CACJ,CAER,CACJ,CAEJ,CAEA,SAASU,EAAYZ,CAAO,CAAEa,CAAW,EACrC,IAAK,IAAMX,KAAUF,EAEjB,GADsBa,IAAgBX,EAAOG,IAAI,EAI1BH,EAAOQ,KAAK,EAAIG,IAAgBX,EAAOQ,KAAK,CAF/D,OAAOR,CAQnB,CAEA,SAASY,EAAgBC,CAAO,CAAEC,CAAa,EAC3C,IAAMC,EAAgBpB,EAAMqB,oBAAoB,EAE5CD,CAAAA,EAAcE,MAAM,CAAG,GACvBF,EAAcG,OAAO,CAAC,AAACC,IACfN,CAAAA,AAAW,MAAXA,EAAkB,KAAK,EAAIA,EAAQO,IAAI,CAAC,AAACC,GAAOA,EAAKlB,IAAI,GAAKgB,EAAOhB,IAAI,IACzEU,EAAQS,IAAI,CAACH,EAErB,GAEAN,GAAWA,EAAQI,MAAM,CAAG,GAC5BJ,EAAQK,OAAO,CAAC,AAACC,IACbL,EAAcI,OAAO,CAAC,AAACK,IACnBA,EAAaC,WAAW,CAACL,EAC7B,EACJ,EAER,CAEA,SAASM,IAYL,MAAOA,AAXPA,CAAAA,EAAalC,OAAOmC,MAAM,EAAI,SAASC,CAAM,EACzC,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUZ,MAAM,CAAEW,IAAI,CACrC,IAAIE,EAASD,SAAS,CAACD,EAAE,CACzB,IAAI,IAAIG,KAAOD,EACPvC,OAAOyC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,EAAQC,IAC7CJ,CAAAA,CAAM,CAACI,EAAI,CAAGD,CAAM,CAACC,EAAI,AAAD,CAGpC,CACA,OAAOJ,CACX,GACkBQ,KAAK,CAAC,IAAI,CAAEN,UAClC,CACA,eAAeO,EAAa,CAAEC,MAAAA,CAAK,CAAEC,mBAAAA,CAAkB,CAAE,EACrD,OAAO,IAAIC,QAAQ,CAACC,EAASC,KACzB,GAAI,CACKH,EAIDE,EAAQF,GAFR,AAAII,SAAS,UAAW,CAAC,QAAQ,EAAEL,EAAM,wDAAwD,CAAC,EAAEG,EAI5G,CAAE,MAAOG,EAAG,CACRF,EAAOE,EACX,CACJ,EACJ,CACA,eAAeC,EAAgB,CAAEzC,KAAA,CAAI,CAAE0C,WAAAA,CAAU,CAAER,MAAAA,CAAK,CAAES,iBAAAA,CAAgB,CAAE,EACxE,GAAM,CAAEC,aAAcT,CAAkB,CAAE,CAAG3C,EAAMqD,qBAAqB,CAAC,EAAMH,UAC/E,AAAIP,EACOA,EAEP,AAAoB,aAApB,OAAOW,SACArD,EAAIsD,cAAc,CAACb,EAAO,CAC7Bc,MAAO,CACHhD,KAAA,EACA0C,WAAAA,CACJ,EACAC,iBAAAA,CACJ,GAAGM,IAAI,CAAC,KACJ,GAAM,CAAEC,eAAAA,CAAc,CAAEN,aAAAA,CAAY,CAAE,CAAGpD,EAAMqD,qBAAqB,CAAC,EAAMH,GAQ3E,OAPAlD,EAAM2D,MAAM,CAACP,EAAc,CAAC;0BACd,EAAE,EAAK,IAAI,EAAEV,EAAM,WAAW,EAAEgB,EAAe;;;YAE7D,EAAEhB,EAAM;;WACT,EAAEgB,EAAe;MACtB,CAAC,EACKE,QAAQC,GAAG,CAACT,GACLA,CACX,GAAGU,KAAK,CAAC,AAACd,GACCA,GAGR/C,EAAI8D,UAAU,CAACrB,EAAO,CACzBc,MAAO,CAAC,EACRL,iBAAAA,CACJ,GAAGM,IAAI,CAAC,KACJ,GAAM,CAAEC,eAAAA,CAAc,CAAEN,aAAAA,CAAY,CAAE,CAAGpD,EAAMqD,qBAAqB,CAAC,EAAMH,GAO3E,OANAlD,EAAM2D,MAAM,CAACP,EAAc,CAAC;wBACZ,EAAE,EAAK,IAAI,EAAEV,EAAM,WAAW,EAAEgB,EAAe;;;UAE7D,EAAEhB,EAAM;;SACT,EAAEgB,EAAe;IACtB,CAAC,EACUN,CACX,GAAGU,KAAK,CAAC,AAACd,GACCA,EAEf,CACA,eAAegB,EAAe,CAAErB,mBAAAA,CAAkB,CAAEsB,WAAAA,CAAU,CAAEd,iBAAAA,CAAgB,CAAE,EAC9E,GAAM,CAAET,MAAAA,CAAK,CAAElC,KAAA,CAAI,CAAE0D,KAAAA,CAAI,CAAEC,gBAAAA,CAAe,CAAE,CAAGF,EACzCG,EAAYnE,EAAIoE,uBAAuB,CAAC,EAAM3B,UACpD,AAAIC,EACOA,GAEP,CAAC3C,EAAMsE,aAAa,CAACF,EAAU,GAC3BF,AAAS,QAATA,EACAlE,EAAMsE,aAAa,CAACF,EAAU,CAAG3B,EAAa,CAC1CC,MAAAA,EACAC,mBAAAA,CACJ,GAEA3C,EAAMsE,aAAa,CAACF,EAAU,CAAGnB,EAAgB,CAC7CzC,KAAA,EACA0C,WAAYiB,EACZzB,MAAAA,EACAS,iBAAAA,CACJ,IAGDnD,EAAMsE,aAAa,CAACF,EAAU,CACzC,CACA,SAASG,EAAclE,CAAM,EACzB,OAAOyB,EAAW,CAAC,EAAGzB,EAAQ,CAC1BqC,MAAO,UAAWrC,EAASA,EAAOqC,KAAK,CAAG,GAC1CwB,KAAM7D,EAAO6D,IAAI,EAAIlE,EAAMwE,mBAAmB,CAC9CL,gBAAiB9D,EAAO8D,eAAe,EAAI9D,EAAOG,IAAI,CACtDiE,WAAYpE,EAAOoE,UAAU,EAAIzE,EAAM0E,aAAa,AACxD,EACJ,CAEA,SAASC,IAYL,MAAOA,AAXPA,CAAAA,EAAa/E,OAAOmC,MAAM,EAAI,SAASC,CAAM,EACzC,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUZ,MAAM,CAAEW,IAAI,CACrC,IAAIE,EAASD,SAAS,CAACD,EAAE,CACzB,IAAI,IAAIG,KAAOD,EACPvC,OAAOyC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,EAAQC,IAC7CJ,CAAAA,CAAM,CAACI,EAAI,CAAGD,CAAM,CAACC,EAAI,AAAD,CAGpC,CACA,OAAOJ,CACX,GACkBQ,KAAK,CAAC,IAAI,CAAEN,UAClC,CACA,IAAI0C,EAAS,MACT,MAAMC,UAAW,CACb,GAAI,IAAI,CAAClC,kBAAkB,CACvB,OAAO,IAAI,CAACA,kBAAkB,CAGlC,IAAMA,EAAqB,MAAMqB,EAAe,CAC5CC,WAAY,IAAI,CAACA,UAAU,CAC3BtB,mBAAoB,IAAI,CAACA,kBAAkB,CAC3CQ,iBAAkB,AAAC2B,IACf,IAAMC,EAAM,IAAI,CAACC,IAAI,CAACC,UAAU,CAACC,SAAS,CAACC,YAAY,CAACC,IAAI,CAAC,CACzDN,IAAAA,CACJ,GACA,GAAwB,aAApB,OAAOxB,UAIPyB,aAAeM,kBAFf,OAAON,CAMf,CACJ,GAGA,OAFA/E,EAAM2D,MAAM,CAAChB,EAAoB,CAAC;CAAmC,EAAE3C,EAAMsF,YAAY,CAAC,IAAI,CAACrB,UAAU,EAAE,CAAC,EAC5G,IAAI,CAACtB,kBAAkB,CAAGA,EACnB,IAAI,CAACA,kBAAkB,AAClC,CAEA,MAAM4C,IAAI9E,CAAM,CAAE+E,CAAO,CAAE,CACvB,GAAM,CAAEC,YAAAA,EAAc,EAAI,CAAE,CAAGD,GAAW,CACtCC,YAAa,EACjB,EAEM9C,EAAqB,MAAM,IAAI,CAACkC,QAAQ,GAC9C,GAAI,CAAC,IAAI,CAACa,MAAM,CAAE,CACd,IAAMC,EAAqB,IAAI,CAACX,IAAI,CAACY,aAAa,CAC5CC,EAAmB,IAAI,CAAC5B,UAAU,CAACQ,UAAU,EAAI,SACnD,EAACkB,CAAkB,CAACE,EAAiB,EACrCF,CAAAA,CAAkB,CAACE,EAAiB,CAAG,CAAC,GAE5C,IAAMpB,EAAakB,CAAkB,CAACE,EAAiB,CACjDC,EAAY,EAAE,CACdC,EAAyB,CAC3BC,QAAS,IAAI,CAAC/B,UAAU,CAAC+B,OAAO,EAAI,EACxC,EAEApG,OAAOC,cAAc,CAACkG,EAAwB,SAAU,CACpDhG,MAAO,IAAI,CAACiF,IAAI,CAACQ,OAAO,CAACpF,EAAE,EAAI,IAAI,CAAC4E,IAAI,CAACxE,IAAI,CAE7CyF,WAAY,EAChB,GACA,IAAMC,EAAuB,MAAM,IAAI,CAAClB,IAAI,CAACmB,KAAK,CAACjB,SAAS,CAACkB,mBAAmB,CAAChB,IAAI,CAAC,CAClFX,WAAAA,EAEAsB,uBAAAA,EACAD,UAAAA,EACA7B,WAAY,IAAI,CAACA,UAAU,CAC3BoC,OAAQ,IAAI,CAACrB,IAAI,AACrB,GACArC,EAAmB2D,IAAI,CAACJ,EAAqBzB,UAAU,CAAEyB,EAAqBJ,SAAS,CAAEI,EAAqBH,sBAAsB,EACpI,MAAM,IAAI,CAACf,IAAI,CAACmB,KAAK,CAACjB,SAAS,CAACqB,aAAa,CAACnB,IAAI,CAACT,EAAW,CAAC,EAAGuB,EAAsB,CACpFvD,mBAAAA,CACJ,GACJ,CACA,IAAI,CAAC6D,GAAG,CAAG7D,EACX,IAAI,CAAC+C,MAAM,CAAG,GAEd,IAAMe,EAAgB,MAAM9D,EAAmB4C,GAAG,CAAC9E,SAEnD,CADAT,EAAM2D,MAAM,CAAC8C,EAAe,CAAC,EAAEzG,EAAM0G,OAAO,CAAC,IAAI,CAACzC,UAAU,EAAE,qBAAqB,EAAExD,EAAO,CAAC,CAAC,EACzFgF,GAGiB,MAAMgB,IAFjBA,CAIf,CACAE,YAAY,CAAE1C,WAAAA,CAAU,CAAEe,KAAAA,CAAI,CAAE,CAAC,CAC7B,IAAI,CAACU,MAAM,CAAG,GACd,IAAI,CAACc,GAAG,CAAGI,KAAAA,EACX,IAAI,CAAC3C,UAAU,CAAGA,EAClB,IAAI,CAACe,IAAI,CAAGA,CAChB,CACJ,CAEA,OAAM6B,EACFC,GAAGC,CAAE,CAAE,CACe,YAAd,OAAOA,GACP,IAAI,CAACC,SAAS,CAACC,GAAG,CAACF,EAE3B,CACAG,KAAKH,CAAE,CAAE,CAEL,IAAMI,EAAO,IAAI,CACjB,IAAI,CAACL,EAAE,CAAC,SAASM,EAAQ,GAAGC,CAAI,EAG5B,OAFAF,EAAKG,MAAM,CAACF,GAELL,EAAGvE,KAAK,CAAC,KAAM6E,EAC1B,EACJ,CACAjC,KAAK,GAAGmC,CAAI,CAAE,CACV,IAAIC,EAOJ,OANI,IAAI,CAACR,SAAS,CAACS,IAAI,CAAG,GAEtB,IAAI,CAACT,SAAS,CAACzF,OAAO,CAAC,AAACwF,IACpBS,EAAST,KAAMQ,EACnB,GAEGC,CACX,CACAF,OAAOP,CAAE,CAAE,CACP,IAAI,CAACC,SAAS,CAACU,MAAM,CAACX,EAC1B,CACAY,WAAY,CACR,IAAI,CAACX,SAAS,CAACY,KAAK,EACxB,CACAjB,YAAYzC,CAAI,CAAC,CACb,IAAI,CAACA,IAAI,CAAG,GACZ,IAAI,CAAC8C,SAAS,CAAG,IAAIa,IACjB3D,GACA,KAAI,CAACA,IAAI,CAAGA,CAAG,CAEvB,CACJ,CAEA,MAAM4D,UAAkBjB,EACpBzB,KAAK,GAAGmC,CAAI,CAAE,KACNC,EACJ,IAAMO,EAAKC,MAAMC,IAAI,CAAC,IAAI,CAACjB,SAAS,EACpC,GAAIe,EAAGzG,MAAM,CAAG,EAAG,CACf,IAAIW,EAAI,EACFM,EAAO,AAAC2F,GACV,AAAa,KAATA,IAEOjG,EAAI8F,EAAGzG,MAAM,CACbsB,QAAQC,OAAO,CAACkF,CAAE,CAAC9F,IAAI,CAACO,KAAK,CAAC,KAAM+E,IAAO9D,IAAI,CAAClB,GAEhD2F,GAGfV,EAASjF,GACb,CACA,OAAOK,QAAQC,OAAO,CAAC2E,EAC3B,CACJ,CAGA,SAASW,EAAgBC,CAAY,CAAEC,CAAY,EAC/C,GAAI,CAACrI,EAAMsI,QAAQ,CAACD,GAChB,MAAO,GAEX,GAAID,IAAiBC,EAEjB,KAAI,IAAMjG,KAAOgG,EACb,GAAI,CAAEhG,CAAAA,KAAOiG,CAAW,EACpB,MAAO,EAEf,CAEJ,MAAO,EACX,CACA,MAAME,UAA0B1B,EAC5BzB,KAAKmC,CAAI,CAAE,CAIP,IAAK,IAAMR,KAHP,CAAC/G,EAAMsI,QAAQ,CAACf,IAChBvH,EAAMwI,KAAK,CAAC,CAAC,kBAAkB,EAAE,IAAI,CAACtE,IAAI,CAAC,2BAA2B,CAAC,EAE1D,IAAI,CAAC8C,SAAS,EAC3B,GAAI,CACA,IAAMyB,EAAW1B,EAAGQ,GACpB,GAAIY,EAAgBZ,EAAMkB,GACtBlB,EAAOkB,MACJ,CACH,IAAI,CAACC,OAAO,CAAC,CAAC,iDAAiD,EAAE,IAAI,CAACxE,IAAI,CAAC,OAAO,CAAC,EACnF,KACJ,CACJ,CAAE,MAAOlB,EAAG,CACRhD,EAAM2I,IAAI,CAAC3F,GACX,IAAI,CAAC0F,OAAO,CAAC1F,EACjB,CAEJ,OAAOuE,CACX,CACAZ,YAAYzC,CAAI,CAAC,CACb,KAAK,GACL,IAAI,CAACwE,OAAO,CAAG1I,EAAMwI,KAAK,CAC1B,IAAI,CAACtE,IAAI,CAAGA,CAChB,CACJ,CAEA,MAAM0E,UAA2B/B,EAC7BzB,KAAKmC,CAAI,CAAE,CACH,CAACvH,EAAMsI,QAAQ,CAACf,IAChBvH,EAAMwI,KAAK,CAAC,CAAC,2BAA2B,EAAE,IAAI,CAACtE,IAAI,CAAC,yBAAyB,CAAC,EAElF,IAAM6D,EAAKC,MAAMC,IAAI,CAAC,IAAI,CAACjB,SAAS,EACpC,GAAIe,EAAGzG,MAAM,CAAG,EAAG,CACf,IAAIW,EAAI,EACF4G,EAAe,AAAC7F,IAClBhD,EAAM2I,IAAI,CAAC3F,GACX,IAAI,CAAC0F,OAAO,CAAC1F,GACNuE,GAELhF,EAAO,AAACuG,IACV,GAAIX,EAAgBZ,EAAMuB,GAEtB,IADAvB,EAAOuB,EACH7G,EAAI8F,EAAGzG,MAAM,CACb,GAAI,CACA,OAAOsB,QAAQC,OAAO,CAACkF,CAAE,CAAC9F,IAAI,CAACsF,IAAO9D,IAAI,CAAClB,EAAMsG,EACrD,CAAE,MAAO7F,EAAG,CACR,OAAO6F,EAAa7F,EACxB,OAGJ,IAAI,CAAC0F,OAAO,CAAC,CAAC,8CAA8C,EAAE,IAAI,CAACxE,IAAI,CAAC,OAAO,CAAC,EAEpF,OAAOqD,CACX,EACA,OAAO3E,QAAQC,OAAO,CAACN,EAAKgF,GAChC,CACA,OAAO3E,QAAQC,OAAO,CAAC0E,EAC3B,CACAZ,YAAYzC,CAAI,CAAC,CACb,KAAK,GACL,IAAI,CAACwE,OAAO,CAAG1I,EAAMwI,KAAK,CAC1B,IAAI,CAACtE,IAAI,CAAGA,CAChB,CACJ,CAEA,MAAM6E,EACFlH,YAAYL,CAAM,CAAE,CAChBxB,EAAM2D,MAAM,CAAC3D,EAAMgJ,aAAa,CAACxH,GAAS,oCAE1C,IAAMyH,EAAazH,EAAOhB,IAAI,CAC9BR,EAAM2D,MAAM,CAACsF,EAAY,0CACrB,CAAC,IAAI,CAAChI,eAAe,CAACgI,EAAW,GACjC,IAAI,CAAChI,eAAe,CAACgI,EAAW,CAAGzH,EACnC5B,OAAOsJ,IAAI,CAAC,IAAI,CAAChE,SAAS,EAAE3D,OAAO,CAAC,AAACa,IACjC,IAAM+G,EAAa3H,CAAM,CAACY,EAAI,CAC1B+G,GACA,IAAI,CAACjE,SAAS,CAAC9C,EAAI,CAAC0E,EAAE,CAACqC,EAE/B,GAER,CACAC,aAAaH,CAAU,CAAE,CACrBjJ,EAAM2D,MAAM,CAACsF,EAAY,uBACzB,IAAMzH,EAAS,IAAI,CAACP,eAAe,CAACgI,EAAW,CAC/CjJ,EAAM2D,MAAM,CAACnC,EAAQ,CAAC,YAAY,EAAEyH,EAAW,oBAAoB,CAAC,EACpErJ,OAAOsJ,IAAI,CAAC1H,GAAQD,OAAO,CAAC,AAACa,IACb,SAARA,GACA,IAAI,CAAC8C,SAAS,CAAC9C,EAAI,CAACkF,MAAM,CAAC9F,CAAM,CAACY,EAAI,CAE9C,EACJ,CAEAiH,QAAQ,CAAEnE,UAAAA,CAAS,CAAEjE,gBAAAA,CAAe,CAAE,CAAE,CACpCrB,OAAOsJ,IAAI,CAAChE,GAAW3D,OAAO,CAAC,AAAC+H,IAC5BtJ,EAAM2D,MAAM,CAAC,CAAC,IAAI,CAACuB,SAAS,CAACoE,EAAS,CAAE,CAAC,UAAU,EAAEA,EAAS,yCAAyC,CAAC,EACxG,IAAI,CAACpE,SAAS,CAACoE,EAAS,CAAGpE,CAAS,CAACoE,EAAS,AAClD,GACA1J,OAAOsJ,IAAI,CAACjI,GAAiBM,OAAO,CAAC,AAAC0H,IAClCjJ,EAAM2D,MAAM,CAAC,CAAC,IAAI,CAAC1C,eAAe,CAACgI,EAAW,CAAE,CAAC,YAAY,EAAEA,EAAW,yCAAyC,CAAC,EACpH,IAAI,CAACpH,WAAW,CAACZ,CAAe,CAACgI,EAAW,CAChD,EACJ,CACAtC,YAAYzB,CAAS,CAAC,CAClB,IAAI,CAACjE,eAAe,CAAG,CAAC,EACxB,IAAI,CAACiE,SAAS,CAAGA,EACjB,IAAI,CAACqE,aAAa,CAAG3J,OAAOsJ,IAAI,CAAChE,EACrC,CACJ,CAEA,SAASsE,IAYL,MAAOA,AAXPA,CAAAA,EAAa5J,OAAOmC,MAAM,EAAI,SAASC,CAAM,EACzC,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUZ,MAAM,CAAEW,IAAI,CACrC,IAAIE,EAASD,SAAS,CAACD,EAAE,CACzB,IAAI,IAAIG,KAAOD,EACPvC,OAAOyC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,EAAQC,IAC7CJ,CAAAA,CAAM,CAACI,EAAI,CAAGD,CAAM,CAACC,EAAI,AAAD,CAGpC,CACA,OAAOJ,CACX,GACkBQ,KAAK,CAAC,IAAI,CAAEN,UAClC,CACA,SAASuH,EAAmBC,CAAa,EACrC,OAAOF,EAAW,CACdG,iBAAkB,OAClB3J,MAAO,GACP4J,WAAY,GACZC,kBAAmB,EACvB,EAAGH,EACP,CACA,SAASI,EAAkB3J,CAAO,CAAE4J,CAAW,EAC3C,OAAOA,EAAYC,GAAG,CAAC,AAAC3C,IACpB,IAAMpD,EAAalD,EAAYZ,EAASkH,EAAKrG,WAAW,EAKxD,OAJAhB,EAAM2D,MAAM,CAACM,EAAY,CAAC,kBAAkB,EAAEoD,EAAKrG,WAAW,CAAC,0BAA0B,EAAE,CAACiD,GAAcjE,EAAMsF,YAAY,CAAC,CACzHrB,WAAAA,EACA9D,QAAAA,CACJ,GAAG,CAAC,EACG,CACHE,OAAQ4D,EACRyF,cAAeD,EAAmBpC,EACtC,CACJ,EACJ,CACA,SAAS4C,EAAwBC,CAAO,SACpC,AAAKA,EAGEA,EAAQF,GAAG,CAAC,AAACvJ,GAChB,AAAIA,AAAW,MAAXA,EACOA,EAEPA,EAAOF,UAAU,CAAC,MACXE,EAAOC,OAAO,CAAC,KAAM,IAEzBD,GATA,EAAE,AAWjB,CACA,SAAS0J,EAAclG,CAAU,CAAEe,CAAI,CAAEoF,CAAM,EAC3C,GAAM,CAAEC,UAAAA,CAAS,CAAEC,qBAAAA,CAAoB,CAAEC,YAAAA,CAAW,CAAE,CAAGH,EACzD,GAAIpF,EAAKQ,OAAO,CAACgF,SAAS,CAAE,CACxBD,EAAYhJ,OAAO,CAAC,AAACkJ,IACjB,GAAM,CAAEC,WAAAA,CAAU,CAAE,CAAGD,EACjBE,EAAS3F,EAAK4F,WAAW,CAACrF,GAAG,CAACtB,EAAWzD,IAAI,EAC/CmK,EACA3G,EAAe,CACXC,WAAYyG,EACZ/H,mBAAoBgI,EAAOhI,kBAAkB,CAC7CQ,iBAAkB,AAAC2B,IACf,IAAMC,EAAMC,EAAKC,UAAU,CAACC,SAAS,CAACC,YAAY,CAACC,IAAI,CAAC,CACpDN,IAAAA,CACJ,GACA,GAAIC,aAAeM,kBACf,OAAON,CAGf,CACJ,GAEAf,EAAe,CACXC,WAAYyG,EACZ/H,mBAAoBiE,KAAAA,EACpBzD,iBAAkB,AAAC2B,IACf,IAAMC,EAAMC,EAAKC,UAAU,CAACC,SAAS,CAACC,YAAY,CAACC,IAAI,CAAC,CACpDN,IAAAA,CACJ,GACA,GAAIC,aAAeM,kBACf,OAAON,CAGf,CACJ,EAER,GACA,IAAM8F,EAAWvH,SAASwH,sBAAsB,GAChDT,EAAU9I,OAAO,CAAC,AAACwJ,IACf,IAAMC,EAAQ1H,SAAS2H,aAAa,CAAC,QACrCD,EAAME,YAAY,CAAC,MAAO,WAC1BF,EAAME,YAAY,CAAC,OAAQH,GAC3BC,EAAME,YAAY,CAAC,KAAM,SACzBL,EAASM,WAAW,CAACH,EACzB,GACA1H,SAAS8H,IAAI,CAACD,WAAW,CAACN,GAC1BP,EAAqB/I,OAAO,CAAC,AAAC8J,IAC1B,GAAM,CAAEC,OAAQC,CAAQ,CAAE,CAAGtL,EAAIkF,YAAY,CAACkG,EAAO,KAErD,EAAG,CAAC,EAAG,AAACvG,IACJ,IAAMC,EAAMC,EAAKC,UAAU,CAACC,SAAS,CAACC,YAAY,CAACC,IAAI,CAAC,CACpDN,IAAAA,CACJ,GACA,GAAIC,aAAeM,kBACf,OAAON,CAGf,GACAzB,SAAS8H,IAAI,CAACD,WAAW,CAACI,EAC9B,EACJ,CACJ,CAEA,SAASC,IAYL,MAAOA,AAXPA,CAAAA,EAAa5L,OAAOmC,MAAM,EAAI,SAASC,CAAM,EACzC,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUZ,MAAM,CAAEW,IAAI,CACrC,IAAIE,EAASD,SAAS,CAACD,EAAE,CACzB,IAAI,IAAIG,KAAOD,EACPvC,OAAOyC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,EAAQC,IAC7CJ,CAAAA,CAAM,CAACI,EAAI,CAAGD,CAAM,CAACC,EAAI,AAAD,CAGpC,CACA,OAAOJ,CACX,GACkBQ,KAAK,CAAC,IAAI,CAAEN,UAClC,CACA,SAASuJ,EAAiBxH,CAAU,CAAEyH,CAAc,EAC5C,EAAE,iBAAiBA,CAAa,GAAM,CAACA,EAAeC,WAAW,AAAD,GAChE3L,EAAMwI,KAAK,CAAC,CAAC,6BAA6B,EAAEhI,KAAK,uBAAuB,CAAC,EAE7E,GAAM,CAAEmL,YAAAA,CAAW,CAAE,CAAGD,EAClBE,EAAW3L,EAAI4L,cAAc,CAACH,EAAgBC,EACpD1H,CAAAA,EAAWC,IAAI,CAAGwH,EAAeI,eAAe,CAChD7H,EAAWE,eAAe,CAAGuH,EAAexI,UAAU,CACtDe,EAAWvB,KAAK,CAAGkJ,EACnB3H,EAAW+B,OAAO,CAAG0F,EAAe1F,OAAO,CAC3C/B,EAAW8H,YAAY,CAAGL,EAAeK,YAAY,AACzD,CACA,SAASC,IACL,MAAO,CACHxL,KAAM,kBACN,MAAMyL,aAAc5E,CAAI,EACpB,GAAM,CAAEhH,OAAAA,CAAM,CAAEM,eAAAA,CAAc,CAAEF,OAAAA,CAAM,CAAE4F,OAAAA,CAAM,CAAEpC,WAAAA,CAAU,CAAE,CAAGoD,EAC/D,GAAI,CAACrH,EAAMkM,qBAAqB,CAAC7L,IAAW,CAACL,EAAMmM,iBAAiB,CAAC9L,GAAS,CAC1E,GAAM,CAAEqL,eAAAA,CAAc,CAAEU,eAAAA,CAAc,CAAE,CAAG,MAAM/F,EAAOgG,eAAe,CAACC,sBAAsB,CAACjM,GAC/FoL,EAAiBxH,EAAYyH,GAE7B,IAAMa,EAAiB,CACnBlM,OAAAA,EACAqJ,cAAe,CACX1I,YAAaL,EACbuJ,QAAS,CACLzJ,EACH,CACDkJ,iBAAkB,OAClB3J,MAAO,GACP4J,WAAY,EAChB,CACJ,EACMQ,EAAS,MAAM/D,EAAOF,KAAK,CAACjB,SAAS,CAACsH,qBAAqB,CAACpH,IAAI,CAAC,CACnEiB,OAAAA,EACAkG,eAAAA,EACAtI,WAAAA,EACA5D,OAAAA,EACAqL,eAAAA,EACAU,eAAAA,CACJ,GAIA,OAHIhC,GACAD,EAAclG,EAAYoC,EAAQ+D,GAE/BoB,EAAW,CAAC,EAAGnE,EAAM,CACxBqE,eAAAA,CACJ,EACJ,CACA,OAAOrE,CACX,CACJ,CACJ,CAIA,SAASoF,EAAQrM,CAAE,EACf,IAAMsM,EAAYtM,EAAGuM,KAAK,CAAC,YAC3B,AAAID,AAAqB,IAArBA,EAAUpL,MAAM,CACT,CACHd,KAAMkM,CAAS,CAAC,EAAE,CAClB1G,QAASY,KAAAA,CACb,EACO8F,AAAqB,IAArBA,EAAUpL,MAAM,CAChB,CACHd,KAAMkM,CAAS,CAAC,EAAE,CAClB1G,QAAS0G,CAAS,CAAC,EAAE,AACzB,EAEO,CACHlM,KAAMkM,CAAS,CAAC,EAAE,CAClB1G,QAAS0G,CAAS,CAAC,EAAE,AACzB,CAER,CAEA,SAASE,EAAmBR,CAAc,CAAEnI,CAAU,CAAE4I,CAAQ,CAAEC,CAAM,CAAEC,EAAO,CAAC,CAAC,CAAErB,CAAc,CAAEsB,CAAiB,EAClH,IAAM5M,EAAKJ,EAAM0G,OAAO,CAACzC,GACnB,CAAElE,MAAOkN,CAAa,CAAE,CAAGjN,EAAMkN,kBAAkB,CAACd,EAAgBhM,EAAI4M,GACxEG,EAA0BzB,GAAkBuB,EAClD,GAAIE,GAA2B,CAAClN,EAAImN,kBAAkB,CAACD,KACnDN,EAASM,EAAyBlJ,EAAY6I,GAC1CK,EAAwBE,WAAW,EAEnC,IAAK,IAAMjL,KADQxC,OAAOsJ,IAAI,CAACiE,EAAwBE,WAAW,EACrC,CACzB,GAAIN,CAAI,CAAC3K,EAAI,CACT,QAEJ2K,CAAAA,CAAI,CAAC3K,EAAI,CAAG,GACZ,IAAMkL,EAAgBb,EAAQrK,GACxBmL,EAAcJ,EAAwBE,WAAW,CAACjL,EAAI,CAC5DwK,EAAmBR,EAAgB,CAC/B5L,KAAM8M,EAAc9M,IAAI,CACxBwF,QAASuH,EAAYC,cAAc,AACvC,EAAGX,EAAU,GAAOE,EAAMnG,KAAAA,EAAWoG,EACzC,CAGZ,CAEA,SAASR,EAAsBnG,CAAM,CAAEkG,CAAc,CAAElM,CAAM,CAAE+L,CAAc,CAAEV,CAAc,EACzF,IAAMrB,EAAY,EAAE,CACdoD,EAAW,EAAE,CACblD,EAAc,EAAE,CAChBmD,EAAuB,IAAI7F,IAC3B8F,EAAwB,IAAI9F,IAC5B,CAAErC,QAAAA,CAAO,CAAE,CAAGa,EACd,CAAEqD,cAAekE,CAAiB,CAAE,CAAGrB,EACvC,CAAE3C,WAAAA,CAAU,CAAE,CAAGgE,EAEvBhB,EAAmBR,EAAgB/L,EAAQ,CAACwN,EAAoB5J,EAAY6I,SACpEpD,EACJ,GAAIoD,EACApD,EAAgBkE,OAEhB,GAAI5F,MAAM8F,OAAO,CAAClE,GAAa,CAE3B,IAAMmE,EAAoBnE,EAAWnI,IAAI,CAAC,AAACuM,GACvC,AAAIA,EAAahN,WAAW,GAAKiD,EAAWzD,IAAI,EAAIwN,EAAahN,WAAW,GAAKiD,EAAWpD,KAAK,EAG1F,IAEX,GAAI,CAACkN,EACD,OAEJrE,EAAgBD,EAAmBsE,EACvC,MAAO,GAAInE,AAAe,KAAfA,EAGP,OAFAF,EAAgBkE,EAKxB,IAAMK,EAAiBhO,EAAI4L,cAAc,CAACgC,EAAoB,gBAAiBA,EAAqBA,EAAmBlC,WAAW,CAAG,IACjIsC,GACA1D,EAAY5I,IAAI,CAAC,CACbnB,KAAMyD,EAAWzD,IAAI,CACrBkK,WAAY,CACRlK,KAAMyD,EAAWzD,IAAI,CACrBkC,MAAOuL,EACP/J,KAAM,oBAAqB2J,EAAqBA,EAAmB/B,eAAe,CAAG,SACrF3H,gBAAiB,eAAgB0J,EAAqBA,EAAmB3K,UAAU,CAAGe,EAAWzD,IAAI,CACrGiE,WAAY,GACZuB,QAAS,YAAa6H,EAAqBA,EAAmB7H,OAAO,CAAGY,KAAAA,CAC5E,EACA9B,IAAKmJ,CACT,GAEJ,IAAIC,EAAmB,YAAaL,EAAqBA,EAAmBM,OAAO,CAAG,EAAE,CAClFC,EAA2BnE,EAAwBP,EAAcQ,OAAO,EAC9E,GAAIkE,EAAyB9M,MAAM,EAAI,YAAauM,EAAoB,CACpE,IAAIQ,EACJH,EAAmBL,AAAsB,MAAtBA,EAA6B,KAAK,EAAK,AAA6D,MAA7DQ,CAAAA,EAA8BR,EAAmBM,OAAM,EAAa,KAAK,EAAIE,EAA4BC,MAAM,CAAC,CAAClE,EAAQmE,KAC1KH,CAAAA,AAA4B,MAA5BA,EAAmC,KAAK,EAAIA,EAAyBI,OAAO,CAACD,EAAgBE,UAAU,KAAO,IAC/GrE,EAAOzI,IAAI,CAAC4M,GAETnE,GACR,EAAE,CACT,CACA,SAASsE,EAAatE,CAAM,EACxB,IAAMuE,EAAYvE,EAAOJ,GAAG,CAAC,AAACS,GAAQxK,EAAI4L,cAAc,CAACgC,EAAoBpD,WAC7E,AAAIf,EAAckF,MAAM,CACbD,EAAUC,MAAM,CAAClF,EAAckF,MAAM,EAEzCD,CACX,CACA,GAAIT,EAAkB,CAClB,IAAMW,EAAeX,EAAiB5M,MAAM,CAC5C,IAAI,IAAIwN,EAAQ,EAAGA,EAAQD,EAAcC,IAAQ,CAC7C,IAAMC,EAAab,CAAgB,CAACY,EAAM,CACpCE,EAAiB,CAAC,EAAE/K,EAAWzD,IAAI,CAAC,CAAC,EAAEuO,EAAWN,UAAU,CAAC,CAAC,CACpEpI,EAAOF,KAAK,CAACjB,SAAS,CAAC+J,mBAAmB,CAAC7J,IAAI,CAAC,CAC5ChF,GAAI2O,AAA0B,MAA1BA,EAAWN,UAAU,CAAWxK,EAAWzD,IAAI,CAAGwO,EACtDxO,KAAMyD,EAAWzD,IAAI,CACrBkL,eAAgBmC,EAChBnE,cAAAA,CACJ,IACkB1J,EAAMkP,YAAY,CAACF,KAIjCtF,AAAmC,QAAnCA,EAAcC,gBAAgB,EAC9BU,EAAU1I,IAAI,IAAI+M,EAAaK,EAAW3E,MAAM,CAAC+E,GAAG,CAACC,KAAK,GAC1D/E,EAAU1I,IAAI,IAAI+M,EAAaK,EAAW3E,MAAM,CAAC+E,GAAG,CAACE,IAAI,GACzD5B,EAAS9L,IAAI,IAAI+M,EAAaK,EAAW3E,MAAM,CAACkF,EAAE,CAACF,KAAK,KAGjD1F,EAAcC,gBAAgB,CAAG,OACxCU,EAAU1I,IAAI,IAAI+M,EAAaK,EAAW3E,MAAM,CAAC+E,GAAG,CAACE,IAAI,IACzD5B,EAAS9L,IAAI,IAAI+M,EAAaK,EAAW3E,MAAM,CAACkF,EAAE,CAACD,IAAI,GAE3DrP,EAAMuP,YAAY,CAACP,GACvB,CACJ,CACJ,EAAG,GArFU,CAAC,EAqFCtD,EAAgB,CAAC1J,EAAQI,KACpC,IAAM2C,EAAMsB,EAAOpB,UAAU,CAACC,SAAS,CAACsK,aAAa,CAACpK,IAAI,CAAC,CACvDpD,OAAAA,EACAI,IAAAA,CACJ,GACA,GAAI2C,GAAO,CAAEA,CAAAA,aAAenC,OAAM,EAC9B,OAAOmC,CAGf,GACI2G,EAAe+D,MAAM,EACrB/D,EAAe+D,MAAM,CAAClO,OAAO,CAAC,AAACkO,IAC3B,IAAIC,EACJ,IAAMC,EAAa,AAAqC,MAArCD,CAAAA,EAAkBlK,EAAQiK,MAAK,EAAa,KAAK,EAAIC,CAAe,CAACD,EAAOG,UAAU,CAAC,CAE1G,GAAI,CAACD,EACD,OAEJ,IAAME,EAAmB7P,EAAM8P,kBAAkB,CAACzJ,EAAOT,aAAa,CAAE6J,EAAOG,UAAU,CAAED,EAAWtJ,EAAOF,KAAK,CAACjB,SAAS,CAAC6K,YAAY,EAErIF,GAAoB,AAAgC,YAAhC,OAAOA,EAAiBrJ,GAAG,GAC/CiJ,EAAOrF,MAAM,CAACkF,EAAE,CAACD,IAAI,CAAC9N,OAAO,CAAC,AAACkJ,IAC3BiD,EAAqBzG,GAAG,CAACwD,EAC7B,GACAgF,EAAOrF,MAAM,CAAC+E,GAAG,CAACE,IAAI,CAAC9N,OAAO,CAAC,AAACkJ,IAC5BkD,EAAsB1G,GAAG,CAACwD,EAC9B,GAER,GAEJ,IAAMuF,EAAsBvC,EAASmB,MAAM,CAAC,AAACnE,GAAQ,CAACiD,EAAqBuC,GAAG,CAACxF,IAE/E,MAAO,CACHJ,UAFyBA,EAAUuE,MAAM,CAAC,AAACnE,GAAQ,CAACkD,EAAsBsC,GAAG,CAACxF,IAG9EH,qBAAsB0F,EACtBzF,YAAAA,CACJ,CACJ,CACA,IAAM2F,EAA8B,WAChC,MAAO,CACH1P,KAAM,iCACN,MAAMgM,sBAAuBnF,CAAI,EAC7B,GAAM,CAAEhB,OAAAA,CAAM,CAAEkG,eAAAA,CAAc,CAAEtI,WAAAA,CAAU,CAAE5D,OAAAA,CAAM,CAAE+L,eAAAA,CAAc,CAAEV,eAAAA,CAAc,CAAE,CAAGrE,SACvF,AAAIrH,EAAMkM,qBAAqB,CAAC7L,IAAWL,EAAMmM,iBAAiB,CAAC9L,GACxD,CACHgK,UAAW,EAAE,CACbC,qBAAsB,EAAE,CACxBC,YAAa,CACT,CACI/J,KAAMH,EAAOG,IAAI,CACjBsE,IAAKzE,EAAOqC,KAAK,CACjBgI,WAAY,CACRlK,KAAMyD,EAAWzD,IAAI,CACrBkC,MAAOrC,EAAOqC,KAAK,CACnBwB,KAAM,SACNC,gBAAiB,GACjBM,WAAY,EAChB,CACJ,EACH,AACL,GAEJgH,EAAiBxH,EAAYyH,GACdc,EAAsBnG,EAAQkG,EAAgBtI,EAAYmI,EAAgBV,GAE7F,CACJ,CACJ,EAEA,SAASyE,IAYL,MAAOA,AAXPA,CAAAA,EAAavQ,OAAOmC,MAAM,EAAI,SAASC,CAAM,EACzC,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUZ,MAAM,CAAEW,IAAI,CACrC,IAAIE,EAASD,SAAS,CAACD,EAAE,CACzB,IAAI,IAAIG,KAAOD,EACPvC,OAAOyC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,EAAQC,IAC7CJ,CAAAA,CAAM,CAACI,EAAI,CAAGD,CAAM,CAACC,EAAI,AAAD,CAGpC,CACA,OAAOJ,CACX,GACkBQ,KAAK,CAAC,IAAI,CAAEN,UAClC,CACA,MAAMkO,EACF,MAAMC,aAAa3F,CAAU,CAAE,CAC3B,GAAM,CAAElF,QAAAA,CAAO,CAAE,CAAG,IAAI,CAAC8K,YAAY,CAC/B,CAAEC,mBAAAA,CAAkB,CAAE7E,eAAAA,CAAc,CAAEU,eAAAA,CAAc,CAAE,CAAG,IAAI,CAACoE,mBAAmB,CAAC9F,GAClF,CAAEgB,eAAgB+E,CAAoB,CAAErE,eAAgBsE,CAAiB,CAAE,CAAG,MAAM,IAAI,CAACvK,KAAK,CAACjB,SAAS,CAACmL,YAAY,CAACjL,IAAI,CAAC,CAC7HI,QAAAA,EACAkF,WAAAA,EACA6F,mBAAAA,EACA7E,eAAAA,EACAU,eAAAA,CACJ,GACA,MAAO,CACHV,eAAgB+E,EAChBrE,eAAgBsE,CACpB,CACJ,CAEA,MAAMpE,uBAAuB5B,CAAU,CAAE,CACrC,GAAM,CAAElF,QAAAA,CAAO,CAAE,CAAG,IAAI,CAAC8K,YAAY,CAC/BK,EAAe3Q,EAAM4Q,iCAAiC,CAAC,CACzDpQ,KAAM,IAAI,CAAC8P,YAAY,CAAC9K,OAAO,CAAChF,IAAI,CACpCwF,QAAS,IAAI,CAACsK,YAAY,CAAC9K,OAAO,CAACQ,OAAO,AAC9C,EAAG,CACCgH,kBAAmB,CAAChL,EAAQI,KACxB,IAAM2C,EAAM,IAAI,CAACuL,YAAY,CAACrL,UAAU,CAACC,SAAS,CAACsK,aAAa,CAACpK,IAAI,CAAC,CAClEpD,OAAAA,EACAI,IAAAA,CACJ,GACA,GAAI2C,GAAO,CAAEA,CAAAA,aAAenC,OAAM,EAC9B,OAAOmC,CAGf,CACJ,EACA,OAAM,IAAI,CAACoB,KAAK,CAACjB,SAAS,CAAC2L,wBAAwB,CAACzL,IAAI,CAAC,CACrDI,QAAAA,EACAkF,WAAAA,CACJ,GAGIiG,GAAgB,gBAAiBA,GAAgB,CAAC3Q,EAAMkN,kBAAkB,CAACyD,EAAatD,WAAW,CAAE3C,EAAWlK,IAAI,CAAE,CAACwB,EAAQI,KAC/H,IAAM2C,EAAM,IAAI,CAACuL,YAAY,CAACrL,UAAU,CAACC,SAAS,CAACsK,aAAa,CAACpK,IAAI,CAAC,CAClEpD,OAAAA,EACAI,IAAAA,CACJ,GACA,GAAI2C,GAAO,CAAEA,CAAAA,aAAenC,OAAM,EAC9B,OAAOmC,CAGf,GAAGhF,KAAK,EACA,aAAa2K,GAAc,UAAWA,CAAS,GAC/CiG,CAAAA,EAAatD,WAAW,CAAG8C,EAAW,CAAC,EAAGQ,AAAgB,MAAhBA,EAAuB,KAAK,EAAIA,EAAatD,WAAW,CAAE,CAChG,CAAC3C,EAAWlK,IAAI,CAAC,CAAE,CACfgN,eAAgB,YAAa9C,EAAaA,EAAW1E,OAAO,CAAG0E,EAAWhI,KAAK,AACnF,CACJ,EAAC,EAGT,GAAM,CAAE6N,mBAAAA,CAAkB,CAAE7E,eAAAA,CAAc,CAAEU,eAAAA,CAAc,CAAE,CAAG,IAAI,CAACoE,mBAAmB,CAAC9F,GAClF,CAAEgB,eAAgB+E,CAAoB,CAAErE,eAAgBsE,CAAiB,CAAE,CAAG,MAAM,IAAI,CAACvK,KAAK,CAACjB,SAAS,CAACmL,YAAY,CAACjL,IAAI,CAAC,CAC7HI,QAAAA,EACAkF,WAAAA,EACA6F,mBAAAA,EACA7E,eAAAA,EACAU,eAAAA,CACJ,GAEA,GAAIqE,EAAsB,CACtB,GAAIxQ,EAAImN,kBAAkB,CAACqD,GAAuB,CAC9C,IAAMK,EAAiB,MAAM,IAAI,CAACC,eAAe,CAACN,EAAqB9E,WAAW,CAAEjB,EAAY,CAAC,GAE3FgG,EAAoB1Q,EAAMgR,iCAAiC,CAACb,EAAW,CAAC,EAAGzF,GAAaoG,GAC9F,MAAO,CACHpF,eAAgBoF,EAChB1E,eAAgBsE,CACpB,CACJ,CAAO,CACH,GAAM,CAAEhF,eAAgBuF,CAAiB,CAAE,CAAG,MAAM,IAAI,CAAC9K,KAAK,CAACjB,SAAS,CAACgM,kBAAkB,CAAC9L,IAAI,CAAC,CAC7FI,QAAS,IAAI,CAAC8K,YAAY,CAAC9K,OAAO,CAClCkF,WAAAA,EACAgB,eAAgB+E,EAChBxI,KAAM,QACV,GACA,MAAO,CACHyD,eAAgBuF,EAChB7E,eAAgBsE,CACpB,CACJ,C,CAEA,GAAI1Q,EAAMkM,qBAAqB,CAACxB,GAAa,CAEzC,IAAMoG,EAAiB,MAAM,IAAI,CAACC,eAAe,CAACrG,EAAWhI,KAAK,CAAEgI,EAAY,CAAC,GAE3EgG,EAAoB1Q,EAAMgR,iCAAiC,CAACtG,EAAYoG,GACxE,CAAEpF,eAAgBuF,CAAiB,CAAE,CAAG,MAAM,IAAI,CAAC9K,KAAK,CAACjB,SAAS,CAACgM,kBAAkB,CAAC9L,IAAI,CAAC,CAC7FI,QAAS,IAAI,CAAC8K,YAAY,CAAC9K,OAAO,CAClCkF,WAAAA,EACAgB,eAAgBoF,EAChB7I,KAAM,QACV,GACA,MAAO,CACHyD,eAAgBuF,EAChB7E,eAAgBsE,CACpB,CACJ,CACI1Q,EAAMwI,KAAK,CAAC,CAAC;oDACuB,EAAEkC,EAAWlK,IAAI,CAAC,aAAa,EAAEkK,EAAW1E,OAAO,CAAC;;;;yBAE/E,EAAE0E,EAAWlK,IAAI,CAAC,WAAW,EAAEkK,EAAW1E,OAAO,CAAC;;uCACpC,EAAEmL,KAAKC,SAAS,CAACV,GAAmB;QACnE,CAAC,CAGL,CACAF,oBAAoB9F,CAAU,CAAE,CAC5B,IAAM6F,EAAqBvQ,EAAM4Q,iCAAiC,CAAC,CAC/DpQ,KAAM,IAAI,CAAC8P,YAAY,CAAC9K,OAAO,CAAChF,IAAI,CACpCwF,QAAS,IAAI,CAACsK,YAAY,CAAC9K,OAAO,CAACQ,OAAO,AAC9C,EAAG,CACCgH,kBAAmB,CAAChL,EAAQI,KACxB,IAAM2C,EAAM,IAAI,CAACuL,YAAY,CAACrL,UAAU,CAACC,SAAS,CAACsK,aAAa,CAACpK,IAAI,CAAC,CAClEpD,OAAAA,EACAI,IAAAA,CACJ,GACA,GAAI2C,GAAO,CAAEA,CAAAA,aAAenC,OAAM,EAC9B,OAAOmC,CAGf,CACJ,GAEMsM,EAAmBd,GAAsB,gBAAiBA,GAAsBA,EAAmBlD,WAAW,EAAIrN,EAAMkN,kBAAkB,CAACqD,EAAmBlD,WAAW,CAAE3C,EAAWlK,IAAI,CAAE,CAACwB,EAAQI,KACvM,IAAM2C,EAAM,IAAI,CAACuL,YAAY,CAACrL,UAAU,CAACC,SAAS,CAACsK,aAAa,CAACpK,IAAI,CAAC,CAClEpD,OAAAA,EACAI,IAAAA,CACJ,GACA,GAAI2C,GAAO,CAAEA,CAAAA,aAAenC,OAAM,EAC9B,OAAOmC,CAGf,GAAGhF,KAAK,QACR,AAAIsR,GAAoBA,EAAiB7D,cAAc,CAC5C,CACH+C,mBAAAA,EACAnE,eAAgBpM,EAAMsR,iBAAiB,GACvC5F,eAAgB1L,EAAM4Q,iCAAiC,CAAC,CACpDpQ,KAAMkK,EAAWlK,IAAI,CACrBwF,QAASqL,EAAiB7D,cAAc,AAC5C,EAAG,CACCR,kBAAmB,CAAChL,EAAQI,KACxB,IAAM2C,EAAM,IAAI,CAACuL,YAAY,CAACrL,UAAU,CAACC,SAAS,CAACsK,aAAa,CAACpK,IAAI,CAAC,CAClEpD,OAAAA,EACAI,IAAAA,CACJ,GACA,GAAI2C,GAAO,CAAEA,CAAAA,aAAenC,OAAM,EAC9B,OAAOmC,CAGf,CACJ,EACJ,EAEG,CACHwL,mBAAoB3J,KAAAA,EACpBwF,eAAgBpM,EAAMsR,iBAAiB,GACvC5F,eAAgB1L,EAAM4Q,iCAAiC,CAAC,CACpDpQ,KAAMkK,EAAWlK,IAAI,CACrBwF,QAAS,YAAa0E,EAAaA,EAAW1E,OAAO,CAAGY,KAAAA,CAC5D,EAAG,CACCoG,kBAAmB,CAAChL,EAAQI,KACxB,IAAM2C,EAAM,IAAI,CAACuL,YAAY,CAACrL,UAAU,CAACC,SAAS,CAACsK,aAAa,CAACpK,IAAI,CAAC,CAClEpD,OAAAA,EACAI,IAAAA,CACJ,GACA,GAAI2C,GAAO,CAAEA,CAAAA,aAAenC,OAAM,EAC9B,OAAOmC,CAGf,CACJ,EACJ,CACJ,CACA,MAAMgM,gBAAgBQ,CAAW,CAAE7G,CAAU,CAAE8G,CAAY,CAAE,CACzD,IAAMC,EAAc,UAChB,IAAIC,EAAe,IAAI,CAACC,aAAa,CAACpM,GAAG,CAACgM,GAC1C,GAAIG,EACA,OAAOA,EAEX,GAAI,CACA,IAAI3M,EAAM,MAAM,IAAI,CAACE,UAAU,CAACC,SAAS,CAAC0M,KAAK,CAACxM,IAAI,CAACmM,EAAa,CAAC,GAOnE,MANI,EAACxM,GAAO,CAAEA,CAAAA,aAAe8M,QAAO,IAChC9M,CAAAA,EAAM,MAAM6M,MAAML,EAAa,CAAC,EAAC,EAErCG,EAAe,MAAM3M,EAAI+M,IAAI,GAC7B9R,EAAM2D,MAAM,CAAC+N,EAAaK,QAAQ,EAAIL,EAAaxH,OAAO,EAAIwH,EAAajC,MAAM,CAAE,CAAC,EAAE8B,EAAY,6BAA6B,CAAC,EAChI,IAAI,CAACI,aAAa,CAACK,GAAG,CAACT,EAAaG,GAC7BA,CACX,CAAE,MAAOO,EAAK,CACVjS,EAAMwI,KAAK,CAAC,CAAC,+BAA+B,EAAEkC,EAAWlK,IAAI,CAAC,sBAAsB,EAAE+Q,EAAY;;;;CAErG,EAAEU,EAAI,CAAC,CACR,CACJ,EACMC,EAAmB,UACrB,IAAMR,EAAe,MAAMD,IACrB/F,EAAiBzL,EAAIkS,4BAA4B,CAACT,EAAc,CAClE1L,QAASuL,CACb,GACM,CAAE7F,eAAgBuF,CAAiB,CAAE,CAAG,MAAM,IAAI,CAAC9K,KAAK,CAACjB,SAAS,CAACgM,kBAAkB,CAAC9L,IAAI,CAAC,CAC7FI,QAAS,IAAI,CAAC8K,YAAY,CAAC9K,OAAO,CAClCkF,WAAAA,EACAgH,aAAAA,EACAhG,eAAAA,EACA6F,YAAAA,EACAtJ,KAAM,UACV,GACA,OAAOgJ,CACX,EAIA,MAHI,CAAC,IAAI,CAACmB,eAAe,CAACb,EAAY,EAClC,KAAI,CAACa,eAAe,CAACb,EAAY,CAAGW,IAAmBzO,IAAI,CAAC,AAACsB,GAAMA,EAAG,EAEnE,IAAI,CAACqN,eAAe,CAACb,EAAY,AAC5C,CACA5K,YAAY2J,CAAY,CAAC,CACrB,IAAI,CAAC+B,mBAAmB,CAAG,KAC3B,IAAI,CAACV,aAAa,CAAG,IAAIW,IACzB,IAAI,CAACnM,KAAK,CAAG,IAAI4C,EAAa,CAC1B8H,yBAA0B,IAAI/I,EAAU,4BACxCuI,aAAc,IAAIzH,EAAmB,sBACrCsI,mBAAoB,IAAItI,EAAmB,qBAC/C,GACA,IAAI,CAACwJ,eAAe,CAAGpS,EAAMuS,MAAM,CAACC,cAAc,CAACC,oBAAoB,CACvE,IAAI,CAACnC,YAAY,CAAGA,EACpB,IAAI,CAACrL,UAAU,CAAGqL,EAAarL,UAAU,AAC7C,CACJ,CAEA,SAASyN,IAYL,MAAOA,AAXPA,CAAAA,EAAW9S,OAAOmC,MAAM,EAAI,SAASC,CAAM,EACvC,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUZ,MAAM,CAAEW,IAAI,CACrC,IAAIE,EAASD,SAAS,CAACD,EAAE,CACzB,IAAI,IAAIG,KAAOD,EACPvC,OAAOyC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,EAAQC,IAC7CJ,CAAAA,CAAM,CAACI,EAAI,CAAGD,CAAM,CAACC,EAAI,AAAD,CAGpC,CACA,OAAOJ,CACX,GACgBQ,KAAK,CAAC,IAAI,CAAEN,UAChC,CACA,SAASyQ,EAAiCxQ,CAAM,CAAEyQ,CAAQ,EACtD,GAAIzQ,AAAU,MAAVA,EAAgB,MAAO,CAAC,EAC5B,IAEIC,EAAKH,EAFLD,EAAS,CAAC,EACV6Q,EAAajT,OAAOsJ,IAAI,CAAC/G,GAE7B,IAAIF,EAAI,EAAGA,EAAI4Q,EAAWvR,MAAM,CAAEW,IAC9BG,EAAMyQ,CAAU,CAAC5Q,EAAE,EACf2Q,CAAAA,EAASpE,OAAO,CAACpM,IAAQ,IAC7BJ,CAAAA,CAAM,CAACI,EAAI,CAAGD,CAAM,CAACC,EAAI,AAAD,EAE5B,OAAOJ,CACX,CACA,MAAM8Q,EACFC,yBAA0B,CACtB,IAAMC,EAAsBhT,EAAMiT,mBAAmB,GAC/CC,EAAa,IAAI,CAAC1N,OAAO,CAACpF,EAAE,EAAI,IAAI,CAACoF,OAAO,CAAChF,IAAI,CACnD0S,GAAc,CAACF,CAAmB,CAACE,EAAW,EAC9CF,CAAAA,CAAmB,CAACE,EAAW,CAAG,IAAI,CAACtN,aAAa,AAAD,CAE3D,CACAuN,YAAYC,CAAW,CAAE,CACrB,IAAI,CAACnS,eAAe,CAACmS,EAAYlS,OAAO,EACxC,IAAMsE,EAAU,IAAI,CAAC6N,aAAa,CAAC,IAAI,CAAC7N,OAAO,CAAE4N,GAEjD,OADA,IAAI,CAAC5N,OAAO,CAAGA,EACRA,CACX,CACA,MAAM8N,UAAUC,CAAO,CAAEC,CAAe,CAAE,CACtC,IAAIC,EAKJ,IAAM9D,EAAY/P,OAAOmC,MAAM,CAAC,CAAC,EAAI,AAA+C,MAA/C0R,CAAAA,EAAuB,IAAI,CAACjO,OAAO,CAACiK,MAAK,EAAa,KAAK,EAAIgE,CAAoB,CAACF,EAAQ,CAAEC,GAC/H7D,CAAAA,AAAa,MAAbA,EAAoB,KAAK,EAAIA,EAAU+D,KAAK,AAAD,GAC3C,MAAM9Q,QAAQ+Q,GAAG,CAAChE,EAAU+D,KAAK,CAAC1J,GAAG,CAAC,MAAOvF,IACzC,MAAM7B,QAAQ+Q,GAAG,CAAC,IAAI,CAACC,iBAAiB,CAACnP,EAAYkL,EAAUkE,QAAQ,EAE3E,IAQJ,GAAM,CAAElE,UAAWmE,CAAY,CAAE,CANZ,MAAM,IAAI,CAAC3N,KAAK,CAACjB,SAAS,CAAC6O,eAAe,CAAC3O,IAAI,CAAC,CACjEmO,QAAAA,EACA5D,UAAAA,EACAF,OAAQ,IAAI,CAACjK,OAAO,CAACiK,MAAM,CAC3BpJ,OAAQ,IAAI,AAChB,GAGArG,EAAM2D,MAAM,CAACmQ,EAAc,CAAC,YAAY,EAAEP,EAAQ,cAAc,EAAE,IAAI,CAAC/N,OAAO,CAAChF,IAAI,CAAC,yBAAyB,EAAE+S,EAAQ,oCAAoC,CAAC,EAE5J,IAAM1D,EAAmB7P,EAAM8P,kBAAkB,CAAC,IAAI,CAAClK,aAAa,CAAE2N,EAASO,EAAc,IAAI,CAAC3N,KAAK,CAACjB,SAAS,CAAC6K,YAAY,EACxHiE,EAAW,AAACvE,IACV,CAACA,EAAOwE,KAAK,EACbxE,CAAAA,EAAOwE,KAAK,CAAG,EAAE,AAAD,EAEpBjU,EAAMkU,aAAa,CAACzE,EAAOwE,KAAK,CAAE,IAAI,CAACzO,OAAO,CAAChF,IAAI,CACvD,EACA,GAAIqP,GAAoBA,EAAiBrJ,GAAG,CAExC,OADAwN,EAASnE,GACFA,EAAiBrJ,GAAG,CACxB,GAAIqJ,GAAoBA,EAAiBsE,OAAO,EAAI,CAACtE,EAAiBuE,MAAM,CAAE,CACjF,IAAMC,EAAU,MAAMxE,EAAiBsE,OAAO,CAM9C,OALAtE,EAAiBuE,MAAM,CAAG,GACtB,CAACvE,EAAiBrJ,GAAG,EACrBqJ,CAAAA,EAAiBrJ,GAAG,CAAG6N,CAAM,EAEjCL,EAASnE,GACFwE,CACX,CAAO,GAAIxE,EAAkB,CAazB,IAAMsE,EAAUjC,AAZS,WACrB,IAAMmC,EAAU,MAAMxE,EAAiBtK,GAAG,EAC1CuO,CAAAA,EAAatN,GAAG,CAAG6N,EACnBP,EAAaM,MAAM,CAAG,GACtBJ,EAASF,GACT,IAAMQ,EAAUtU,EAAM8P,kBAAkB,CAAC,IAAI,CAAClK,aAAa,CAAE2N,EAASO,EAAc,IAAI,CAAC3N,KAAK,CAACjB,SAAS,CAAC6K,YAAY,EAKrH,OAJIuE,IACAA,EAAQ9N,GAAG,CAAG6N,EACdC,EAAQF,MAAM,CAAG,IAEdC,CACX,KAUA,OARA,IAAI,CAACE,SAAS,CAAC,CACXhB,QAAAA,EACAa,OAAQ,GACR3E,OAAQI,EACR5H,KAAM,IAAI,CAACzC,OAAO,CAAChF,IAAI,CACvBgG,IAAK,KACL2N,QAAAA,CACJ,GACOA,CACX,KAAO,CACH,GAAIX,EACA,MAAO,GAcX,IAAMW,EAAUjC,AAZS,WACrB,IAAMmC,EAAU,MAAMP,EAAavO,GAAG,EACtCuO,CAAAA,EAAatN,GAAG,CAAG6N,EACnBP,EAAaM,MAAM,CAAG,GACtBJ,EAASF,GACT,IAAMQ,EAAUtU,EAAM8P,kBAAkB,CAAC,IAAI,CAAClK,aAAa,CAAE2N,EAASO,EAAc,IAAI,CAAC3N,KAAK,CAACjB,SAAS,CAAC6K,YAAY,EAKrH,OAJIuE,IACAA,EAAQ9N,GAAG,CAAG6N,EACdC,EAAQF,MAAM,CAAG,IAEdC,CACX,KAUA,OARA,IAAI,CAACE,SAAS,CAAC,CACXhB,QAAAA,EACAa,OAAQ,GACR3E,OAAQqE,EACR7L,KAAM,IAAI,CAACzC,OAAO,CAAChF,IAAI,CACvBgG,IAAK,KACL2N,QAAAA,CACJ,GACOA,CACX,CACJ,CAKAK,cAAcjB,CAAO,CAAEC,CAAe,CAAE,CACpC,IAAIC,EACJ,IAAM9D,EAAY/P,OAAOmC,MAAM,CAAC,CAAC,EAAI,AAA+C,MAA/C0R,CAAAA,EAAuB,IAAI,CAACjO,OAAO,CAACiK,MAAK,EAAa,KAAK,EAAIgE,CAAoB,CAACF,EAAQ,CAAEC,GAC/H7D,CAAAA,AAAa,MAAbA,EAAoB,KAAK,EAAIA,EAAU+D,KAAK,AAAD,GAC3C/D,EAAU+D,KAAK,CAACnS,OAAO,CAAC,AAACkD,IACrB,IAAI,CAACmP,iBAAiB,CAACnP,EAAYkL,EAAUkE,QAAQ,CACzD,GAEJ,IAAMhE,EAAmB7P,EAAM8P,kBAAkB,CAAC,IAAI,CAAClK,aAAa,CAAE2N,EAAS5D,EAAW,IAAI,CAACxJ,KAAK,CAACjB,SAAS,CAAC6K,YAAY,EACrHiE,EAAW,AAACvE,IACV,CAACA,EAAOwE,KAAK,EACbxE,CAAAA,EAAOwE,KAAK,CAAG,EAAE,AAAD,EAEpBjU,EAAMkU,aAAa,CAACzE,EAAOwE,KAAK,CAAE,IAAI,CAACzO,OAAO,CAAChF,IAAI,CACvD,EACA,GAAIqP,EAAkB,CAClB,GAAI,AAAgC,YAAhC,OAAOA,EAAiBrJ,GAAG,CAQ3B,OAPAwN,EAASnE,GACL,CAACA,EAAiBuE,MAAM,GACxBvE,EAAiBuE,MAAM,CAAG,GACtBvE,EAAiB5H,IAAI,GAAK,IAAI,CAACzC,OAAO,CAAChF,IAAI,EAC3CmP,CAAAA,EAAUyE,MAAM,CAAG,EAAG,GAGvBvE,EAAiBrJ,GAAG,CAE/B,GAAI,AAAgC,YAAhC,OAAOqJ,EAAiBtK,GAAG,CAAiB,CAC5C,IAAMoF,EAASkF,EAAiBtK,GAAG,GACnC,GAAI,CAAEoF,CAAAA,aAAkB/H,OAAM,EAS1B,OARAoR,EAASnE,GACT,IAAI,CAAC0E,SAAS,CAAC,CACXhB,QAAAA,EACAa,OAAQ,GACRnM,KAAM,IAAI,CAACzC,OAAO,CAAChF,IAAI,CACvBgG,IAAKmE,EACL8E,OAAQI,CACZ,GACOlF,CAEf,CACJ,CACA,GAAIgF,EAAUnJ,GAAG,CAIb,MAHI,CAACmJ,EAAUyE,MAAM,EACjBzE,CAAAA,EAAUyE,MAAM,CAAG,EAAG,EAEnBzE,EAAUnJ,GAAG,CAExB,GAAImJ,EAAUpK,GAAG,CAAE,CACf,IAAMoF,EAASgF,EAAUpK,GAAG,GAC5B,GAAIoF,aAAkB/H,QAClB,MAAM,AAAI6R,MAAM,CAAC;sDACqB,EAAElB,EAAQ,MAAM,EAAEA,EAAQ,uBAAuB,EAAE,IAAI,CAAC/N,OAAO,CAAChF,IAAI,CAAC;;;eAE5G,EAAE+S,EAAQ;;eACV,EAAEA,EAAQ;;MACnB,CAAC,EAUK,OARA5D,EAAUnJ,GAAG,CAAGmE,EAChB,IAAI,CAAC4J,SAAS,CAAC,CACXhB,QAAAA,EACAa,OAAQ,GACRnM,KAAM,IAAI,CAACzC,OAAO,CAAChF,IAAI,CACvBgG,IAAKmJ,EAAUnJ,GAAG,CAClBiJ,OAAQE,CACZ,GACOA,EAAUnJ,GAAG,AACxB,CACA,MAAM,AAAIiO,MAAM,CAAC;sDAC6B,EAAElB,EAAQ,MAAM,EAAEA,EAAQ,uBAAuB,EAAE,IAAI,CAAC/N,OAAO,CAAChF,IAAI,CAAC;;;eAE5G,EAAE+S,EAAQ;;eACV,EAAEA,EAAQ;;MACnB,CAAC,CACH,CACA,MAAMmB,2BAA2BtU,CAAE,CAAE,CAMjC,GAAM,CAAEA,GAAIuU,CAAK,CAAE,CALI,MAAM,IAAI,CAACxO,KAAK,CAACjB,SAAS,CAAC0P,aAAa,CAACxP,IAAI,CAAC,CACjEhF,GAAAA,EACAoF,QAAS,IAAI,CAACA,OAAO,CACrBa,OAAQ,IAAI,AAChB,GAEMwO,EAAkB3U,EAA6B,IAAI,CAACsF,OAAO,CAACrF,OAAO,CAAEwU,GAC3E3U,EAAM2D,MAAM,CAACkR,EAAiB,CAAC;yBACd,EAAEF,EAAM,IAAI,EAAE,IAAI,CAACnP,OAAO,CAAChF,IAAI,CAAC;;WAC9C,EAAEmU,EAAM,gDAAgD,EAAE,IAAI,CAACnP,OAAO,CAAChF,IAAI,EAAI,WAAW;;WAC1F,EAAEmU,EAAM,wCAAwC,EAAE,IAAI,CAACnP,OAAO,CAAChF,IAAI,CAAC;WACpE,EAAEmU,EAAM;WACR,EAAEA,EAAM;qHACkG,EAAEA,EAAM;MACvH,CAAC,EACC,GAAM,CAAEtU,OAAQyU,CAAS,CAAE,CAAGD,EACxB5Q,EAAaM,EAAcuQ,GAC3BC,EAAY,MAAM,IAAI,CAAC5O,KAAK,CAACjB,SAAS,CAAC+G,YAAY,CAAC7G,IAAI,CAACsN,EAAS,CACpEtS,GAAIuU,CACR,EAAGE,EAAiB,CAChBrP,QAAS,IAAI,CAACA,OAAO,CACrBa,OAAQ,IAAI,CACZpC,WAAAA,CACJ,IACM,CAAE5D,OAAAA,CAAM,CAAEI,OAAAA,CAAM,CAAE,CAAGsU,EAC3B/U,EAAM2D,MAAM,CAACtD,GAAUI,EAAQ,CAAC,sHAAsH,EAAEkU,EAAM,CAAC,CAAC,EAChK,IAAIhK,EAAS,IAAI,CAACC,WAAW,CAACrF,GAAG,CAAClF,EAAOG,IAAI,EACvCwU,EAAgB,CAClBhQ,KAAM,IAAI,CACVf,WAAAA,CACJ,EAKA,MAJI,CAAC0G,IACDA,EAAS,IAAI/F,EAAOoQ,GACpB,IAAI,CAACpK,WAAW,CAACoH,GAAG,CAAC3R,EAAOG,IAAI,CAAEmK,IAE/B,CACHA,OAAAA,EACAqK,cAAAA,EACAC,gBAAiBF,CACrB,CACJ,CAGA,MAAMG,WAAW9U,CAAE,CAAEoF,CAAO,CAAE,CAC1B,GAAI,CACA,GAAM,CAAEC,YAAAA,EAAc,EAAI,CAAE,CAAGD,GAAW,CACtCC,YAAa,EACjB,EAQM,CAAEkF,OAAAA,CAAM,CAAEqK,cAAAA,CAAa,CAAEC,gBAAAA,CAAe,CAAE,CAAG,MAAM,IAAI,CAACP,0BAA0B,CAACtU,GACnF,CAAEO,eAAAA,CAAc,CAAEN,OAAAA,CAAM,CAAEI,OAAAA,CAAM,CAAEL,GAAIuU,CAAK,CAAE,CAAGM,EAChDE,EAAkB,MAAMxK,EAAOpF,GAAG,CAAC9E,EAAQ+E,GAYjD,OAXA,MAAM,IAAI,CAACW,KAAK,CAACjB,SAAS,CAACkQ,MAAM,CAAChQ,IAAI,CAAC,CACnChF,GAAIuU,EACJhU,eAAAA,EACAF,OAAAA,EACA4U,aAAc5P,EAAc0P,EAAkBvO,KAAAA,EAC9C0O,oBAAqB7P,EAAcmB,KAAAA,EAAYuO,EAC/C9U,OAAAA,EACAmF,QAASwP,EACTO,eAAgB5K,EAChBtE,OAAQ,IAAI,AAChB,GACO8O,CACX,CAAE,MAAO3M,EAAO,CACZ,GAAM,CAAEP,KAAAA,EAAO,SAAS,CAAE,CAAGzC,GAAW,CACpCyC,KAAM,SACV,EACMuN,EAAW,MAAM,IAAI,CAACrP,KAAK,CAACjB,SAAS,CAACuQ,eAAe,CAACrQ,IAAI,CAAC,CAC7DhF,GAAAA,EACAoI,MAAAA,EACAP,KAAAA,EACA5B,OAAQ,IAAI,AAChB,GACA,GAAI,CAACmP,EACD,MAAMhN,EAEV,OAAOgN,CACX,CACJ,CAEA,MAAME,cAAcnJ,CAAc,CAAE,CAChC,MAAM,IAAI,CAACpG,KAAK,CAACjB,SAAS,CAACyQ,mBAAmB,CAACvQ,IAAI,CAAC,CAChDmH,eAAAA,EACA/G,QAAS,IAAI,CAACA,OAAO,CACrBa,OAAQ,IAAI,AAChB,GACA,IAAMuP,EAAa9L,EAAkB,IAAI,CAACtE,OAAO,CAACrF,OAAO,CAAEoM,EAC3D,OAAM3J,QAAQ+Q,GAAG,CAACiC,EAAW5L,GAAG,CAAC,MAAO6L,IACpC,GAAM,CAAExV,OAAAA,CAAM,CAAE,CAAGwV,EACb5R,EAAaM,EAAclE,GAC3B,CAAE+L,eAAAA,CAAc,CAAEV,eAAAA,CAAc,CAAE,CAAG,MAAM,IAAI,CAACW,eAAe,CAACC,sBAAsB,CAACjM,GACvF+J,EAAS,MAAM,IAAI,CAACjE,KAAK,CAACjB,SAAS,CAACsH,qBAAqB,CAACpH,IAAI,CAAC,CACjEiB,OAAQ,IAAI,CACZkG,eAAgBsJ,EAChBxV,OAAAA,EACA4D,WAAAA,EACAmI,eAAAA,EACAV,eAAAA,CACJ,GACKtB,GAGLD,EAAclG,EAAY,IAAI,CAAEmG,EACpC,GACJ,CAMAwJ,kBAAkBkC,EAAiB9V,EAAM0E,aAAa,CAAEmP,CAAQ,CAAE,CAC9D,IAAMpP,EAAa,IAAI,CAACmB,aAAa,CAC/BmQ,EAAW,IAAI,CAACvQ,OAAO,CAAChF,IAAI,AAE9B,EAACiE,CAAU,CAACqR,EAAe,EAC3BrR,CAAAA,CAAU,CAACqR,EAAe,CAAG,CAAC,GAGlC,IAAMpC,EAAQjP,CAAU,CAACqR,EAAe,CAClCE,EAAW,CAAC,EAAMvG,KACpB,IAAIwG,EACJ,GAAM,CAAEjQ,QAAAA,CAAO,CAAEkQ,MAAAA,CAAK,CAAE,CAAGzG,CAC3BiE,CAAAA,CAAK,CAAC,EAAK,CAAGA,CAAK,CAAC,EAAK,EAAI,CAAC,EAC9B,IAAMyC,EAAWzC,CAAK,CAAC,EAAK,CACtB0C,EAAgBD,CAAQ,CAACnQ,EAAQ,CACjCqQ,EAAqBC,CAAAA,CAAQF,CAAAA,GAAkBA,CAAAA,EAAcF,KAAK,EAAM,CAA2D,MAA3DD,CAAAA,EAA6BG,EAAcG,WAAU,EAAa,KAAK,EAAIN,EAA2BC,KAAI,EAAC,EACrL,EAACE,GAAiB,CAACA,EAAchC,MAAM,EAAKkC,CAAAA,AAAQ,CAACJ,GAAW,CAACG,EAAqBH,EAAQH,EAAWK,EAAcnO,IAAG,IAC1HkO,CAAAA,CAAQ,CAACnQ,EAAQ,CAAGyJ,CAAK,CAEjC,EACM+G,EAAW,EAAE,CACbC,EAAS,AAACC,GAAMA,GAAOA,EAAIpQ,IAAI,EAAIoQ,EAAIpQ,IAAI,CAAC7B,CAAU,CAACqR,EAAe,EACtEa,EAAmB,MAAOvU,IAC5B,GAAM,CAAEuI,OAAAA,CAAM,CAAE,CAAG,MAAM,IAAI,CAAC+J,0BAA0B,CAACtS,GACzD,GAAIuI,EAAO9F,QAAQ,CAAE,CACjB,IAAMnC,EAAQ,MAAMiI,EAAO9F,QAAQ,EAC/B,EAAC8F,EAAOjF,MAAM,GACd+Q,EAAO/T,GACPiI,EAAOjF,MAAM,CAAG,GAExB,CACJ,EAcA,OAbA9F,OAAOsJ,IAAI,CAAC,IAAI,CAAC1D,OAAO,CAACiK,MAAM,EAAElO,OAAO,CAAC,AAACqV,IACtC,IAAMnH,EAAS,IAAI,CAACjK,OAAO,CAACiK,MAAM,CAACmH,EAAU,CACzCnH,EAAOiE,KAAK,CAACmD,QAAQ,CAACf,IACtBE,EAASY,EAAWnH,EAE5B,GACiB,kBAAboE,GACA,IAAI,CAACrO,OAAO,CAACrF,OAAO,CAACoB,OAAO,CAAC,AAAClB,IACtBA,EAAOoE,UAAU,GAAKqR,GACtBU,EAAS7U,IAAI,CAACgV,EAAiBtW,EAAOG,IAAI,EAElD,GAEGgW,CACX,CACAM,kBAAkBC,CAAS,CAAEtS,CAAU,CAAE,CACrC,IAAI,CAACmB,aAAa,CAACmR,EAAU,CAAGtS,EAChC,IAAI,CAAC0B,KAAK,CAACjB,SAAS,CAAC8R,0BAA0B,CAAC5R,IAAI,CAAC,CACjDX,WAAAA,EACAe,QAAS,IAAI,CAACA,OAAO,CACrBa,OAAQ,IAAI,AAChB,EACJ,CACAgN,cAAc4D,CAAa,CAAE7D,CAAW,CAAE,CACtC,IAAM8D,EAAqBlX,EAAMmX,kBAAkB,CAAC/D,EAAY3D,MAAM,EAAI,CAAC,EAAG2D,EAAY5S,IAAI,EACxFiP,EAASiD,EAAS,CAAC,EAAGuE,EAAcxH,MAAM,CAAEyH,GAC5C,CAAE9D,YAAagE,CAAc,CAAE5R,QAAS6R,CAAgB,CAAE,CAAG,IAAI,CAAClR,KAAK,CAACjB,SAAS,CAACoS,UAAU,CAAClS,IAAI,CAAC,CACpGiB,OAAQ,IAAI,CACZ+M,YAAAA,EACA5N,QAASyR,EACTtH,UAAWF,CACf,GAEMtP,EAAUoX,AADIH,CAAAA,EAAejX,OAAO,EAAI,EAAE,AAAD,EACnBmO,MAAM,CAAC,CAACvJ,EAAK1E,KACrC,GAAI,CAAC0E,EAAItD,IAAI,CAAC,AAACC,GAAOA,EAAKlB,IAAI,GAAKH,EAAOG,IAAI,EAAG,CAC9C,GAAIH,EAAOQ,KAAK,CAAE,CAGd,IAAM2W,EAAYzS,EAAItD,IAAI,CAAC,AAACC,IACxB,IAAI+V,EACJ,OAAOpX,EAAOQ,KAAK,EAAKa,CAAAA,EAAKlB,IAAI,CAACD,UAAU,CAACF,EAAOQ,KAAK,GAAO,CAA6B,MAA7B4W,CAAAA,EAAc/V,EAAKb,KAAI,EAAa,KAAK,EAAI4W,EAAYlX,UAAU,CAACF,EAAOQ,KAAK,EAAC,CACrJ,GACAb,EAAM2D,MAAM,CAAC,CAAC6T,EAAW,CAAC,UAAU,EAAEnX,EAAOQ,KAAK,CAAC,WAAW,EAAER,EAAOG,IAAI,CAAC,oCAAoC,EAAEgX,GAAaA,EAAUhX,IAAI,CAAC,cAAc,CAAC,CACjK,CAEI,UAAWH,GACPL,EAAM0X,YAAY,IAClBrX,CAAAA,EAAOqC,KAAK,CAAG,IAAIiV,IAAItX,EAAOqC,KAAK,CAAEkV,OAAOC,QAAQ,CAACxR,MAAM,EAAEyR,IAAI,AAAD,EAGpE,CAACzX,EAAOoE,UAAU,EAClBpE,CAAAA,EAAOoE,UAAU,CAAGzE,EAAM0E,aAAa,AAAD,EAEtC,CAACrE,EAAO6D,IAAI,EACZ7D,CAAAA,EAAO6D,IAAI,CAAGlE,EAAMwE,mBAAmB,AAAD,EAE1CO,EAAIpD,IAAI,CAACtB,EACb,CACA,OAAO0E,CACX,EAAGsS,EAAiBlX,OAAO,EAG3B4X,AADmBnY,OAAOsJ,IAAI,CAACgO,GACpB3V,OAAO,CAAC,AAACyW,IAChB,IAAMC,EAAYf,CAAkB,CAACc,EAAU,AAE3C,EADqBhY,EAAM8P,kBAAkB,CAAC,IAAI,CAAClK,aAAa,CAAEoS,EAAWC,EAAW,IAAI,CAAC9R,KAAK,CAACjB,SAAS,CAAC6K,YAAY,GACpGkI,GAAaA,EAAUzR,GAAG,EAC/C,IAAI,CAAC+N,SAAS,CAAC,CACXhB,QAASyE,EACTxR,IAAKyR,EAAUzR,GAAG,CAClBjB,IAAK0S,EAAU1S,GAAG,CAClB6O,OAAQ,GACR3E,OAAQwI,EACRhQ,KAAMmL,EAAY5S,IAAI,AAC1B,EAER,GACA,IAAMU,EAAU,IACTmW,EAAiBnW,OAAO,CAC9B,AACGkW,CAAAA,EAAelW,OAAO,EACtBkW,EAAelW,OAAO,CAACK,OAAO,CAAC,AAACC,IACxB,CAACN,EAAQ2V,QAAQ,CAACrV,IAClBN,EAAQS,IAAI,CAACH,EAErB,GAEJ,IAAM0W,EAAaxF,EAAS,CAAC,EAAGuE,EAAe7D,EAAa,CACxDlS,QAAAA,EACAf,QAAAA,EACAsP,OAAAA,CACJ,GAKA,OAJA,IAAI,CAACtJ,KAAK,CAACjB,SAAS,CAACoB,IAAI,CAAClB,IAAI,CAAC,CAC3BiB,OAAQ,IAAI,CACZb,QAAS0S,CACb,GACOA,CACX,CACAjX,gBAAgBC,CAAO,CAAE,CACrBD,EAAgBC,EAAS,CACrB,IAAI,CAACiF,KAAK,CACV,IAAI,CAACkG,eAAe,CAAClG,KAAK,CAC1B,IAAI,CAAClB,UAAU,CAClB,CACL,CACAsP,UAAU,CAAEhB,QAAAA,CAAO,CAAE9D,OAAAA,CAAM,CAAExH,KAAAA,CAAI,CAAEzB,IAAAA,CAAG,CAAE2N,QAAAA,CAAO,CAAEC,OAAAA,CAAM,CAAE7O,IAAAA,CAAG,CAAE,CAAE,CAC5D,GAAM,CAAES,QAAAA,CAAO,CAAE0N,MAAAA,EAAQ,SAAS,CAAE,CAAGjE,EAAQE,EAAYgD,EAAiClD,EAAQ,CAChG,UACA,QACH,EAID0I,AAHenQ,CAAAA,MAAM8F,OAAO,CAAC4F,GAASA,EAAQ,CAC1CA,EACH,A,EACMnS,OAAO,CAAC,AAAC6W,IACR,CAAC,IAAI,CAACxS,aAAa,CAACwS,EAAG,EACvB,KAAI,CAACxS,aAAa,CAACwS,EAAG,CAAG,CAAC,GAE1B,CAAC,IAAI,CAACxS,aAAa,CAACwS,EAAG,CAAC7E,EAAQ,EAChC,KAAI,CAAC3N,aAAa,CAACwS,EAAG,CAAC7E,EAAQ,CAAG,CAAC,IAEnC,IAAI,CAAC3N,aAAa,CAACwS,EAAG,CAAC7E,EAAQ,CAACvN,EAAQ,GAG5C,IAAI,CAACJ,aAAa,CAACwS,EAAG,CAAC7E,EAAQ,CAACvN,EAAQ,CAAG0M,EAAS,CAChD1M,QAAAA,EACA0N,MAAO,CACH,UACH,AACL,EAAG/D,EAAW,CACVnJ,IAAAA,EACA4N,OAAAA,EACAD,QAAAA,CACJ,GACI5O,GACA,KAAI,CAACK,aAAa,CAACwS,EAAG,CAAC7E,EAAQ,CAACvN,EAAQ,CAACT,GAAG,CAAGA,CAAE,EAEzD,EACJ,CACAoB,YAAYyM,CAAW,CAAC,CACpB,IAAI,CAACjN,KAAK,CAAG,IAAI4C,EAAa,CAC1BuO,WAAY,IAAI/O,EAAkB,cAClCjC,KAAM,IAAIO,EACV+N,cAAe,IAAIhM,EAAmB,iBACtCqD,aAAc,IAAIrD,EAAmB,gBAErCxC,oBAAqB,IAAIwC,EAAmB,uBAE5CoO,2BAA4B,IAAIpO,EAAmB,iBAEnDrC,cAAe,IAAIqC,EAAmB,iBACtCwM,OAAQ,IAAItN,EAAU,UACtBmH,oBAAqB,IAAIpI,EAAS,uBAClC4O,gBAAiB,IAAI3N,EAAU,mBAC/BiM,gBAAiB,IAAInL,EAAmB,mBAExC0K,UAAW,IAAIxL,EACfiI,aAAc,IAAIxH,EAAkB,gBACpCoN,oBAAqB,IAAI7N,EACzB0E,sBAAuB,IAAI1E,EAAU,yBAErCuQ,mBAAoB,IAAIvQ,CAC5B,GACA,IAAI,CAAC9B,OAAO,CAAG,QACf,IAAI,CAAC4E,WAAW,CAAG,IAAI0H,IACvB,IAAI,CAACrN,UAAU,CAAG,IAAI8D,EAAa,CAE/ByG,cAAe,IAAI3I,EACnB1B,aAAc,IAAI0B,EAElB+K,MAAO,IAAI9J,EAAU,QACzB,GAGA,IAAMwQ,EAAiB,CACnBlY,GAAIJ,EAAMuY,YAAY,GACtB/X,KAAM4S,EAAY5S,IAAI,CACtBU,QAAS,CACL8K,IACAkE,IACH,CACD/P,QAAS,EAAE,CACXsP,OAAQ,CAAC,EACTjF,UAAWxK,EAAM0X,YAAY,EACjC,CACA,KAAI,CAAClX,IAAI,CAAG4S,EAAY5S,IAAI,CAC5B,IAAI,CAACgF,OAAO,CAAG8S,EACf,IAAI,CAAC1S,aAAa,CAAG,CAAC,EACtB,IAAI,CAACmN,uBAAuB,GAC5B,IAAI,CAAC1G,eAAe,CAAG,IAAI+D,EAAgB,IAAI,EAC/C,IAAI,CAACnP,eAAe,CAAC,IACdqX,EAAepX,OAAO,IACtBkS,EAAYlS,OAAO,EAAI,EAAE,CAC/B,EACD,IAAI,CAACsE,OAAO,CAAG,IAAI,CAAC6N,aAAa,CAACiF,EAAgBlF,EACtD,CACJ,CAEA,IAAIoF,EAAqB,KACzB,SAASlS,EAAKd,CAAO,EAEjB,IAAMiT,EAAWzY,EAAM0Y,2BAA2B,CAAClT,EAAQhF,IAAI,CAAEgF,EAAQQ,OAAO,SAChF,AAAKyS,GAQDA,EAAStF,WAAW,CAAC3N,GACjB,CAACgT,GACDA,CAAAA,EAAqBC,CAAO,EAEzBA,IATPD,EAAqB,GADSxY,CAAAA,EAAM2Y,8BAA8B,IAAM7F,CAAa,EACtCtN,GAC/CxF,EAAM4Y,2BAA2B,CAACJ,GAC3BA,EASf,CACA,SAAStD,GAAW,GAAG7N,CAAI,EAGvB,OAFArH,EAAM2D,MAAM,CAAC6U,EAAoB,0BAE1BA,EAAmBtD,UAAU,CAAC1S,KAAK,CAACgW,EAAoBnR,EACnE,CACA,SAASiM,GAAU,GAAGjM,CAAI,EAGtB,OAFArH,EAAM2D,MAAM,CAAC6U,EAAoB,0BAE1BA,EAAmBlF,SAAS,CAAC9Q,KAAK,CAACgW,EAAoBnR,EAClE,CACA,SAASmN,GAAc,GAAGnN,CAAI,EAG1B,OAFArH,EAAM2D,MAAM,CAAC6U,EAAoB,0BAE1BA,EAAmBhE,aAAa,CAAChS,KAAK,CAACgW,EAAoBnR,EACtE,CACA,SAASqO,GAAc,GAAGrO,CAAI,EAG1B,OAFArH,EAAM2D,MAAM,CAAC6U,EAAoB,0BAE1BA,EAAmB9C,aAAa,CAAClT,KAAK,CAACgW,EAAoBnR,EACtE,CAEArH,EAAM6Y,8BAA8B,CAAC/F,GAErChT,EAAQgZ,qBAAqB,CAAG9Y,EAAM8Y,qBAAqB,CAC3DlZ,OAAOC,cAAc,CAACC,EAAS,aAAc,CAC3CmG,WAAY,GACZV,IAAK,WAAc,OAAOtF,EAAI8D,UAAU,AAAE,CAC5C,GACAjE,EAAQgT,cAAc,CAAGA,EACzBhT,EAAQwG,IAAI,CAAGA,EACfxG,EAAQoV,UAAU,CAAGA,GACrBpV,EAAQwT,SAAS,CAAGA,GACpBxT,EAAQ0U,aAAa,CAAGA,GACxB1U,EAAQ4V,aAAa,CAAGA,E,oBC1rDxB,aAEA,SAAS6C,IAEL,MAAO,AAAuC,aAAvC,OAAOQ,4BAA8CA,4BAA8B,EAC9F,CACA,SAASC,IACL,OAAO1C,KACX,CACA,SAASoB,IACL,MAAO,AAAkB,aAAlB,OAAOE,MAClB,CAEA,IAAMqB,EAAe,yBAErB,SAAStV,EAAOuV,CAAS,CAAEC,CAAG,EACtB,CAACD,GACD1Q,EAAM2Q,EAEd,CACA,SAAS3Q,EAAM2Q,CAAG,EACd,MAAM,AAAI1E,MAAM,CAAC,EAAEwE,EAAa,EAAE,EAAEE,EAAI,CAAC,CAC7C,CACA,SAASxQ,EAAKwQ,CAAG,EACbvV,QAAQ+E,IAAI,CAAC,CAAC,EAAEsQ,EAAa,EAAE,EAAEE,EAAI,CAAC,CAC1C,CAEA,SAASjF,EAAckF,CAAG,CAAE1X,CAAI,EAI5B,OAH6C,KAAzC0X,EAAIC,SAAS,CAAC,AAAC7Y,GAAOA,IAASkB,IAC/B0X,EAAIzX,IAAI,CAACD,GAEN0X,CACX,CACA,SAAS1S,EAAQzC,CAAU,QACvB,AAAI,YAAaA,GAAcA,EAAW+B,OAAO,CACtC,CAAC,EAAE/B,EAAWzD,IAAI,CAAC,CAAC,EAAEyD,EAAW+B,OAAO,CAAC,CAAC,CAC1C,UAAW/B,GAAcA,EAAWvB,KAAK,CACzC,CAAC,EAAEuB,EAAWzD,IAAI,CAAC,CAAC,EAAEyD,EAAWvB,KAAK,CAAC,CAAC,CAExC,CAAC,EAAEuB,EAAWzD,IAAI,CAAC,CAAC,AAEnC,CACA,SAAS0L,EAAsB7L,CAAM,EACjC,OAAO,AAAwB,SAAjBA,EAAOqC,KAAK,AAC9B,CACA,SAASyJ,EAAkB9L,CAAM,EAC7B,MAAO,CAACA,EAAOqC,KAAK,CAACmU,QAAQ,CAAC,UAAYxW,EAAOqC,KAAK,CAACmU,QAAQ,CAAC,MACpE,CAEA,SAASvR,EAAagU,CAAI,EACtB,GAAI,CACA,OAAOnI,KAAKC,SAAS,CAACkI,EAAM,KAAM,EACtC,CAAE,MAAOtW,EAAG,CACR,MAAO,EACX,CACJ,CACA,SAASsF,EAASiR,CAAG,EACjB,OAAOA,GAAO,AAAe,UAAf,OAAOA,CACzB,CACA,IAAMC,EAAiB5Z,OAAOyC,SAAS,CAACoX,QAAQ,CAEhD,SAASzQ,EAAcuQ,CAAG,EACtB,MAAOC,AAA6B,oBAA7BA,EAAejX,IAAI,CAACgX,EAC/B,CAEA,SAASpJ,IAYL,MAAOA,AAXPA,CAAAA,EAAavQ,OAAOmC,MAAM,EAAI,SAASC,CAAM,EACzC,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUZ,MAAM,CAAEW,IAAI,CACrC,IAAIE,EAASD,SAAS,CAACD,EAAE,CACzB,IAAI,IAAIG,KAAOD,EACPvC,OAAOyC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,EAAQC,IAC7CJ,CAAAA,CAAM,CAACI,EAAI,CAAGD,CAAM,CAACC,EAAI,AAAD,CAGpC,CACA,OAAOJ,CACX,GACkBQ,KAAK,CAAC,IAAI,CAAEN,UAClC,CACA,SAASyQ,EAAiCxQ,CAAM,CAAEyQ,CAAQ,EACtD,GAAIzQ,AAAU,MAAVA,EAAgB,MAAO,CAAC,EAC5B,IAEIC,EAAKH,EAFLD,EAAS,CAAC,EACV6Q,EAAajT,OAAOsJ,IAAI,CAAC/G,GAE7B,IAAIF,EAAI,EAAGA,EAAI4Q,EAAWvR,MAAM,CAAEW,IAC9BG,EAAMyQ,CAAU,CAAC5Q,EAAE,EACf2Q,CAAAA,EAASpE,OAAO,CAACpM,IAAQ,IAC7BJ,CAAAA,CAAM,CAACI,EAAI,CAAGD,CAAM,CAACC,EAAI,AAAD,EAE5B,OAAOJ,CACX,CAEA,IAAM0X,EAAe,AAAI3W,SAAS,iBAC5BwP,EAASmH,EACf,SAASC,EAAwB3X,CAAM,CAAEI,CAAG,CAAEmX,CAAG,EAC7C3Z,OAAOC,cAAc,CAACmC,EAAQI,EAAK,CAC/BrC,MAAOwZ,EACPK,aAAc,GACdC,SAAU,EACd,EACJ,CACA,SAASC,EAAmB9X,CAAM,CAAEI,CAAG,EACnC,OAAOxC,OAAO0C,cAAc,CAACC,IAAI,CAACP,EAAQI,EAC9C,CAII,CAAC0X,EAAmBC,WAAY,oCAChCJ,EAAwBI,WAAY,kCAAmC,CAAC,GAE5E,IAAMzV,EAAgByV,WAAWC,+BAA+B,CAChE,SAASC,EAAoBjY,CAAM,MAC3BkY,EAAwBC,EAAyBC,EAAyBC,EAAyBC,EAAyBC,EAe5HC,EAEAC,EAEAC,EAEAC,EAEAC,EAEAC,EAxBAf,EAAmB9X,EAAQ,aAAe,CAAC8X,EAAmB9X,EAAQ,mBACtE2X,EAAwB3X,EAAQ,iBAAkBA,EAAO8Y,QAAQ,EAEjE,CAAChB,EAAmB9X,EAAQ,oBAC5B2X,EAAwB3X,EAAQ,iBAAkB,CAC9C+Y,kBAAmB,EAAE,CACrBC,cAAe,EAAE,CACjBtQ,WAAY,CAAC,EACbuQ,UAAW,CAAC,EACZxI,qBAAsB,CAAC,EACvByI,kBAAmB,IAAI5I,GAC3B,GACAqH,EAAwB3X,EAAQ,WAAYA,EAAOwQ,cAAc,GAGpE,AAA4F,MAA5FgI,CAAAA,EAAsB,AAAAN,CAAAA,EAAyBlY,EAAOwQ,cAAa,EAAGuI,iBAAgB,GAAkCb,CAAAA,EAAuBa,iBAAiB,CAAG,EAAE,AAAD,EAEpK,AAAqF,MAArFN,CAAAA,EAAkB,AAAAN,CAAAA,EAA0BnY,EAAOwQ,cAAa,EAAGwI,aAAY,GAA8Bb,CAAAA,EAAwBa,aAAa,CAAG,EAAE,AAAD,EAEtJ,AAA+E,MAA/EN,CAAAA,EAAe,AAAAN,CAAAA,EAA0BpY,EAAOwQ,cAAa,EAAG9H,UAAS,GAA2B0P,CAAAA,EAAwB1P,UAAU,CAAG,CAAC,GAE1I,AAA6E,MAA7EiQ,CAAAA,EAAc,AAAAN,CAAAA,EAA0BrY,EAAOwQ,cAAa,EAAGyI,SAAQ,GAA0BZ,CAAAA,EAAwBY,SAAS,CAAG,CAAC,GAEtI,AAAmG,MAAnGL,CAAAA,EAAyB,AAAAN,CAAAA,EAA0BtY,EAAOwQ,cAAa,EAAGC,oBAAmB,GAAqC6H,CAAAA,EAAwB7H,oBAAoB,CAAG,CAAC,GAElL,AAA6F,MAA7FoI,CAAAA,EAAsB,AAAAN,CAAAA,EAA0BvY,EAAOwQ,cAAa,EAAG0I,iBAAgB,GAAkCX,CAAAA,EAAwBW,iBAAiB,CAAG,IAAI5I,GAAI,CAClL,CAGA,SAAS6I,IACLpB,WAAWvH,cAAc,CAACuI,iBAAiB,CAAG,EAAE,CAChDhB,WAAWvH,cAAc,CAACwI,aAAa,CAAG,EAAE,CAC5CjB,WAAWvH,cAAc,CAAC9H,UAAU,CAAG,CAAC,EACxCqP,WAAWvH,cAAc,CAACyI,SAAS,CAAG,CAAC,EACvClB,WAAWvH,cAAc,CAACC,oBAAoB,CAAG,CAAC,CACtD,CACA,SAASiG,EAA4BlY,CAAI,CAAEwF,CAAO,EAC9C,IAAMoV,EAAU7C,IAChB,OAAOwB,WAAWvH,cAAc,CAACwI,aAAa,CAACvZ,IAAI,CAAC,AAAC4Z,GACjD,EAAID,GAAWC,EAAW7V,OAAO,CAACpF,EAAE,GAAKmY,KAGrC8C,EAAW7V,OAAO,CAAChF,IAAI,GAAKA,GAAQ,CAAC6a,EAAW7V,OAAO,CAACQ,OAAO,EAAI,CAACA,GAGpEqV,EAAW7V,OAAO,CAAChF,IAAI,GAAKA,KAAQwF,GAAWqV,EAAW7V,OAAO,CAACQ,OAAO,GAAKA,GAG3E,GAEf,CACA,SAAS4S,EAA4BJ,CAAkB,EACnDuB,WAAWvH,cAAc,CAACwI,aAAa,CAACrZ,IAAI,CAAC6W,EACjD,CACA,SAASG,IACL,OAAOoB,WAAWvH,cAAc,CAAC8I,qBAAqB,AAC1D,CACA,SAASzC,EAA+B0C,CAAqB,EACrDvC,MACAe,WAAWvH,cAAc,CAAC8I,qBAAqB,CAAGC,EAClDxB,WAAWvH,cAAc,CAACgJ,6BAA6B,CAAG,QAElE,CAEA,SAAStO,EAAmBlL,CAAM,CAAEI,CAAG,CAAE4K,CAAiB,EACtD,IAAIjI,EAAM,CACNhF,MAAOiC,CAAM,CAACI,EAAI,CAClBA,IAAKA,CACT,EAKA,OAJI4K,GAEAjI,CAAAA,EAAM0W,AADUzO,EAAkBhL,EAAQI,IACzB2C,CAAE,EAEhBA,CACX,CA/CAkV,EAAoBF,YACpBE,EAAoBP,GA+CpB,IAAMpI,EAAoB,IAAIoI,EAAalH,cAAc,CAAC9H,UAAU,CAC9DgR,EAAoC,CAAChR,EAAYiR,EAAU3O,KAG7D,IAAMwC,EAAgBtC,EAAmByO,EADvBjV,EAAQgE,GACoCsC,GAAmBjN,KAAK,CAKtF,GAHIyP,GAAiB,CAACA,EAAcxJ,OAAO,EAAI,YAAa0E,GAAcA,EAAW,OAAU,EAC3F8E,CAAAA,EAAcxJ,OAAO,CAAG0E,EAAW,OAAU,AAAD,EAE5C8E,EACA,OAAOA,EAGX,GAAI,YAAa9E,GAAcA,EAAW,OAAU,CAAE,CAClD,GAAM,CAAE1E,QAAAA,CAAO,CAAE,CAAG0E,EAGdkR,EAA0BlV,EAHgBiM,EAAiCjI,EAAY,CACzF,UACH,GAEKmR,EAA8B3O,EAAmBwM,EAAalH,cAAc,CAAC9H,UAAU,CAAEkR,EAAyB5O,GAAmBjN,KAAK,CAChJ,GAAK,AAAA8b,CAAAA,AAA+B,MAA/BA,EAAsC,KAAK,EAAIA,EAA4B7V,OAAM,IAAOA,EACzF,OAAO6V,CAEf,CAEJ,EACMjL,EAAoC,CAAClG,EAAY8G,IAAekK,EAAkChR,EAAYgP,EAAalH,cAAc,CAAC9H,UAAU,CAAE8G,AAAgB,MAAhBA,EAAuB,KAAK,EAAIA,EAAaxE,iBAAiB,EACpNgE,EAAoC,CAAC/M,EAAY6X,KACnD,IAAMC,EAAYrV,EAAQzC,GAE1B,OADAyV,EAAalH,cAAc,CAAC9H,UAAU,CAACqR,EAAU,CAAGD,EAC7CpC,EAAalH,cAAc,CAAC9H,UAAU,AACjD,EACMsR,EAAoB,AAACC,IACvBvC,EAAalH,cAAc,CAAC9H,UAAU,CAAGyF,EAAW,CAAC,EAAGuJ,EAAalH,cAAc,CAAC9H,UAAU,CAAEuR,GACzF,KAEH,IAAK,IAAM7Z,KADExC,OAAOsJ,IAAI,CAAC+S,GAErB,OAAOvC,EAAalH,cAAc,CAAC9H,UAAU,CAACtI,EAAI,AAE1D,GAEEiB,EAAwB,CAAC7C,EAAM0C,KACjC,IAAMQ,EAAiBR,GAAc,CAAC,aAAa,EAAE1C,EAAK,SAAS,CAAC,CAC9D4C,EAAe2W,UAAU,CAACrW,EAAe,CAC/C,MAAO,CACHA,eAAAA,EACAN,aAAAA,CACJ,CACJ,EAKM0V,EAAwB,AAAC5X,IAC3B,GAAM,CAAE6Z,kBAAAA,CAAiB,CAAE,CAAGrB,EAAalH,cAAc,CACzDtR,EAAQK,OAAO,CAAC,AAACC,IACTuZ,AAA6D,KAA7DA,EAAkB1B,SAAS,CAAC,AAAC6C,GAAIA,EAAE1b,IAAI,GAAKgB,EAAOhB,IAAI,EACvDua,EAAkBpZ,IAAI,CAACH,GAEvBmH,EAAK,CAAC,WAAW,EAAEnH,EAAOhB,IAAI,CAAC,qBAAqB,CAAC,CAE7D,EACJ,EACMa,EAAuB,IAAIqY,EAAalH,cAAc,CAACuI,iBAAiB,CACxE7L,EAAe,AAAC9O,GAAK2Z,WAAWvH,cAAc,CAAC0I,iBAAiB,CAAC3V,GAAG,CAACnF,GACrEmP,GAAe,AAACnP,GAAK2Z,WAAWvH,cAAc,CAAC0I,iBAAiB,CAAClJ,GAAG,CAAC5R,EAAI,IAEzEsE,GAAgB,UAChBF,GAAsB,SAGtB2X,GAAkB,gBAClBC,GAAQ,CAAC,OAAO,EAAED,GAAgB,MAAM,EAAEA,GAAgB,IAAI,CAAC,CAC/DE,GAAoB,cACpBC,GAAyB,SACzBC,GAAuB,6BACvBC,GAA4B,CAAC,GAAG,EAAEF,GAAuB,CAAC,EAAEC,GAAqB,CAAC,CAAC,CACnFE,GAAkB,CAAC,MAAM,EAAED,GAA0B,MAAM,EAAEA,GAA0B,IAAI,CAAC,CAC5FE,GAAuB,CAAC,GAAG,EAAEL,GAAkB,CAAC,EAAEE,GAAqB,CAAC,CAAC,CACzEI,GAAa,CAAC,KAAK,EAAED,GAAqB,MAAM,EAAEA,GAAqB,IAAI,CAAC,CAC5EE,GAAmB,CAAC,EAAEP,GAAkB,QAAQ,CAAC,CACjDQ,GAAc,CAAC,SAAS,EAAED,GAAiB,QAAQ,EAAEA,GAAiB,QAAQ,EAAEA,GAAiB,IAAI,EAAED,GAAW,EAAE,EAAEP,GAAM,KAAK,CAAC,CAClIU,GAAc,CAAC,MAAM,EAAED,GAAY,WAAW,EAAEA,GAAY,MAAM,CAAC,CACnEE,GAAmB,CAAC,CAAC,EAAET,GAAuB,KAAK,EAAEA,GAAuB,KAAK,EAAEA,GAAuB,CAAC,CAAC,CAC5GU,GAAa,CAAC,QAAQ,EAAED,GAAiB,EAAEN,GAAgB,CAAC,EAAEL,GAAM,CAAC,CAAC,CACtEa,GAAO,eACPC,GAAiB,CAAC,MAAM,EAAED,GAAK,KAAK,EAAED,GAAW,CAAC,EAAEH,GAAY,CAAC,CAAC,CAClEM,GAAY,UACZC,GAAY,CAAC,MAAM,EAAED,GAAU,IAAI,CAAC,CACpCE,GAAY,UACZC,GAAY,CAAC,MAAM,EAAED,GAAU,IAAI,CAAC,CACpCE,GAAO,kBACPC,GAAQ,CAAC,CAAC,EAAEH,GAAU,EAAER,GAAY,CAAC,CAAC,CACtCY,GAAc,CAAC,CAAC,EAAEpB,GAAkB,KAAK,EAAEA,GAAkB,KAAK,EAAEA,GAAkB,CAAC,CAAC,CACxFqB,GAAY,CAAC,EAAE,EAAED,GAAY,EAAEd,GAAW,CAAC,EAAEP,GAAM,CAAC,CAAC,CACrDuB,GAAQ,CAAC,CAAC,EAAER,GAAU,EAAEN,GAAY,CAAC,CAAC,CACtCe,GAAS,CAAC,CAAC,EAAEX,GAAK,IAAI,EAAEJ,GAAY,CAAC,CAAC,CACtCgB,GAAa,CAAC,CAAC,EAAEZ,GAAK,KAAK,EAAES,GAAU,KAAK,CAAC,CAE7CI,GAAO,wBAEb,SAASC,GAAW5b,CAAM,EACtB,OAAO,IAAI6b,OAAO7b,EACtB,CACA,SAAS8b,GAAWjY,CAAO,EACvB,MAAO,CAACA,GAAWA,AAA0B,MAA1BA,EAAQkY,WAAW,IAAclY,AAAY,MAAZA,CACxD,CACA,SAASmY,GAAK,GAAGC,CAAG,EAChB,OAAO,AAACC,GAAID,EAAI9P,MAAM,CAAC,CAACgQ,EAAGC,IAAIA,EAAED,GAAID,EACzC,CACA,SAASG,GAAkBC,CAAgB,EACvC,OAAOA,EAAiBC,KAAK,CAACX,GAAWF,IAC7C,CACA,SAASc,GAAeC,CAAK,CAAEC,CAAK,CAAEC,CAAK,CAAEnC,CAAU,EACnD,IAAMc,EAAc,CAAC,EAAEmB,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEC,EAAM,CAAC,QAChD,AAAInC,EACO,CAAC,EAAEc,EAAY,CAAC,EAAEd,EAAW,CAAC,CAElCc,CACX,CAEA,SAASsB,GAAYC,CAAK,EACtB,OAAOA,EAAMte,OAAO,CAACqd,GAAWjB,IAAc,CAACmC,EAAQhX,EAAMiX,EAAWC,EAAWC,EAAWC,EAAiBC,EAAYC,EAAIC,EAASC,EAASC,EAASC,KAElJ1X,EADAgW,GAAWiB,GACJ,GACAjB,GAAWkB,GACX,CAAC,EAAE,EAAED,EAAU,IAAI,CAAC,CACpBjB,GAAWmB,GACX,CAAC,EAAE,EAAEF,EAAU,CAAC,EAAEC,EAAU,EAAE,CAAC,CAE/B,CAAC,EAAE,EAAElX,EAAK,CAAC,CAGlBsX,EADAtB,GAAWuB,GACN,GACEvB,GAAWwB,GACb,CAAC,CAAC,EAAEG,OAAOJ,GAAW,EAAE,MAAM,CAAC,CAC7BvB,GAAWyB,GACb,CAAC,CAAC,EAAEF,EAAQ,CAAC,EAAEI,OAAOH,GAAW,EAAE,IAAI,CAAC,CACtCE,EACF,CAAC,EAAE,EAAEH,EAAQ,CAAC,EAAEC,EAAQ,CAAC,EAAEC,EAAQ,CAAC,EAAEC,EAAa,CAAC,CAEpD,CAAC,EAAE,EAAEJ,EAAG,CAAC,CAEX,CAAC,EAAEtX,EAAK,CAAC,EAAEsX,EAAG,CAAC,CAACM,IAAI,IAEnC,CACA,SAASC,GAAoBd,CAAK,EAC9B,OAAOA,EAAMte,OAAO,CAACqd,GAAWb,IAAiB,SACrD,CACA,SAAS6C,GAAef,CAAK,EACzB,OAAOA,EAAMte,OAAO,CAACqd,GAAWX,IAAY,MAChD,CACA,SAAS4C,GAAehB,CAAK,EACzB,OAAOA,EAAMte,OAAO,CAACqd,GAAWT,IAAY,MAChD,CACA,SAAS2C,GAAYjB,CAAK,EACtB,OAAOA,EAAMa,IAAI,GAAGlT,KAAK,CAAC,OAAO3C,GAAG,CAAC,AAACkW,GAAeA,EAAaxf,OAAO,CAACqd,GAAWP,IAAQ,CAAC2C,EAAGvB,EAAOC,EAAOC,EAAOnC,KAC9G,GAAIsB,GAAWW,GACX,MAAO,GACJ,GAAIX,GAAWY,GAClB,MAAO,CAAC,EAAE,EAAED,EAAM,MAAM,EAAEgB,OAAOhB,GAAS,EAAE,MAAM,CAAC,CAChD,GAAIX,GAAWa,SAClB,AAAIF,AAAU,MAAVA,EACO,CAAC,EAAE,EAAEA,EAAM,CAAC,EAAEC,EAAM,IAAI,EAAED,EAAM,CAAC,EAAEgB,OAAOf,GAAS,EAAE,IAAI,CAAC,CAE1D,CAAC,EAAE,EAAED,EAAM,CAAC,EAAEC,EAAM,IAAI,EAAEe,OAAOhB,GAAS,EAAE,MAAM,CAAC,KAY3D,CAVA,GAAIjC,QACP,AAAIiC,AAAU,MAAVA,EAOO,CAAC,EAAE,EAAEA,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEnC,EAAW,EAAE,EAAEiD,OAAOhB,GAAS,EAAE,MAAM,CAAC,CAN/E,AAAIC,AAAU,MAAVA,EACO,CAAC,EAAE,EAAED,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEnC,EAAW,EAAE,EAAEiC,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEe,OAAOd,GAAS,EAAE,EAAE,CAAC,CAEtF,CAAC,EAAE,EAAEF,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEnC,EAAW,EAAE,EAAEiC,EAAM,CAAC,EAAEgB,OAAOf,GAAS,EAAE,IAAI,CAAC,CAM9F,GAAID,AAAU,MAAVA,QACA,AAAIC,AAAU,MAAVA,EACO,CAAC,EAAE,EAAED,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEC,EAAM,EAAE,EAAEF,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEe,OAAOd,GAAS,EAAE,EAAE,CAAC,CAExE,CAAC,EAAE,EAAEF,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEC,EAAM,EAAE,EAAEF,EAAM,CAAC,EAAEgB,OAAOf,GAAS,EAAE,IAAI,CAAC,CAGhF,MAAO,CAAC,EAAE,EAAED,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEC,EAAM,EAAE,EAAEc,OAAOhB,GAAS,EAAE,MAAM,CAAC,AACrE,CACJ,IAAIwB,IAAI,CAAC,IACjB,CACA,SAASC,GAAYrB,CAAK,EACtB,OAAOA,EAAMa,IAAI,GAAGlT,KAAK,CAAC,OAAO3C,GAAG,CAAC,AAACkW,GAAeA,EAAaxf,OAAO,CAACqd,GAAWJ,IAAQ,CAACwC,EAAGvB,EAAOC,EAAOC,EAAOnC,KAC9G,GAAIsB,GAAWW,GACX,MAAO,GACJ,GAAIX,GAAWY,GAClB,MAAO,CAAC,EAAE,EAAED,EAAM,MAAM,EAAEgB,OAAOhB,GAAS,EAAE,MAAM,CAAC,CAChD,GAAIX,GAAWa,GAClB,MAAO,CAAC,EAAE,EAAEF,EAAM,CAAC,EAAEC,EAAM,IAAI,EAAED,EAAM,CAAC,EAAEgB,OAAOf,GAAS,EAAE,IAAI,CAAC,MAC9D,GAAIlC,EACP,MAAO,CAAC,EAAE,EAAEiC,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEnC,EAAW,EAAE,EAAEiC,EAAM,CAAC,EAAEgB,OAAOf,GAAS,EAAE,IAAI,CAAC,CAE1F,MAAO,CAAC,EAAE,EAAED,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEC,EAAM,EAAE,EAAEF,EAAM,CAAC,EAAEgB,OAAOf,GAAS,EAAE,IAAI,CAAC,AAC5E,IAAIuB,IAAI,CAAC,IACjB,CACA,SAASE,GAAatB,CAAK,EACvB,OAAOA,EAAMrS,KAAK,CAAC,OAAO3C,GAAG,CAAC,AAACkW,GAAeA,EAAaL,IAAI,GAAGnf,OAAO,CAACqd,GAAWH,IAAS,CAAC2C,EAAKtD,EAAM2B,EAAOC,EAAOC,EAAOnC,KACvH,IAAM6D,EAAWvC,GAAWW,GACtB6B,EAAWD,GAAYvC,GAAWY,GAClC6B,EAAWD,GAAYxC,GAAWa,GAKxC,GAJa,MAAT7B,GAAgByD,GAChBzD,CAAAA,EAAO,EAAC,EAEZN,EAAa,GACT6D,QACA,AAAIvD,AAAS,MAATA,GAAgBA,AAAS,MAATA,EAET,WAGA,IAER,GAAIA,GAAQyD,EA+Bf,OA7BID,GACA5B,CAAAA,EAAQ,GAEZC,EAAQ,EACJ7B,AAAS,MAATA,GAGAA,EAAO,KACHwD,GACA7B,EAAQgB,OAAOhB,GAAS,EACxBC,EAAQ,GAGRA,EAAQe,OAAOf,GAAS,EACxBC,EAAQ,GAEI,OAAT7B,IAGPA,EAAO,IACHwD,EACA7B,EAAQgB,OAAOhB,GAAS,EAExBC,EAAQe,OAAOf,GAAS,GAGnB,MAAT5B,GACAN,CAAAA,EAAa,IAAG,EAEb,CAAC,EAAEM,EAAO2B,EAAM,CAAC,EAAEC,EAAM,CAAC,EAAEC,EAAM,EAAEnC,EAAW,CAAC,CACpD,GAAI8D,EACP,MAAO,CAAC,EAAE,EAAE7B,EAAM,IAAI,EAAEjC,EAAW,EAAE,EAAEiD,OAAOhB,GAAS,EAAE,MAAM,CAAC,MAC7D,GAAI8B,EACP,MAAO,CAAC,EAAE,EAAE9B,EAAM,CAAC,EAAEC,EAAM,EAAE,EAAElC,EAAW,EAAE,EAAEiC,EAAM,CAAC,EAAEgB,OAAOf,GAAS,EAAE,IAAI,CAAC,CAElF,OAAO0B,CACX,IAAIH,IAAI,CAAC,IACjB,CACA,SAASO,GAAU3B,CAAK,EACpB,OAAOA,EAAMa,IAAI,GAAGnf,OAAO,CAACqd,GAAWR,IAAO,GAClD,CACA,SAASqD,GAAUnC,CAAgB,EAC/B,OAAOA,EAAiBoB,IAAI,GAAGnf,OAAO,CAACqd,GAAWD,IAAO,GAC7D,CAEA,SAAS+C,GAAYC,CAAS,CAAEC,CAAW,QAGvC,CAFAD,EAAYlB,OAAOkB,IAAcA,EAE7BA,EADJC,CAAAA,EAAcnB,OAAOmB,IAAgBA,CAAU,GAEpC,EAEPD,IAAcC,EACP,EAEJ,EACX,CACA,SAASC,GAAkBF,CAAS,CAAEC,CAAW,EAC7C,GAAM,CAAEpE,WAAYsE,CAAe,CAAE,CAAGH,EAClC,CAAEnE,WAAYuE,CAAiB,CAAE,CAAGH,EAC1C,GAAIE,AAAoBra,KAAAA,IAApBqa,GAAyCC,EACzC,OAAO,EAEX,GAAI5K,AAAQ2K,GAAoBC,AAAsBta,KAAAA,IAAtBsa,EAC5B,OAAO,GAEX,GAAID,AAAoBra,KAAAA,IAApBqa,GAAiCC,AAAsBta,KAAAA,IAAtBsa,EACjC,OAAO,EAEX,IAAI,IAAIjf,EAAI,EAAGkf,EAAIF,EAAgB3f,MAAM,CAAEW,GAAKkf,EAAGlf,IAAI,CACnD,IAAMmf,EAAeH,CAAe,CAAChf,EAAE,CACjCof,EAAiBH,CAAiB,CAACjf,EAAE,CAC3C,GAAImf,IAAiBC,GAGrB,GAAID,AAAiBxa,KAAAA,IAAjBwa,GAA8BC,AAAmBza,KAAAA,IAAnBya,EAC9B,OAAO,EAEX,GAAI,CAACD,EACD,OAAO,EAEX,GAAI,CAACC,EACD,OAAO,GAEX,OAAOR,GAAYO,EAAcC,GACrC,CACA,OAAO,CACX,CACA,SAASC,GAAeR,CAAS,CAAEC,CAAW,EAC1C,OAAOF,GAAYC,EAAUlC,KAAK,CAAEmC,EAAYnC,KAAK,GAAKiC,GAAYC,EAAUjC,KAAK,CAAEkC,EAAYlC,KAAK,GAAKgC,GAAYC,EAAUhC,KAAK,CAAEiC,EAAYjC,KAAK,GAAKkC,GAAkBF,EAAWC,EACjM,CACA,SAASQ,GAAGT,CAAS,CAAEC,CAAW,EAC9B,OAAOD,EAAU9a,OAAO,GAAK+a,EAAY/a,OAAO,AACpD,CACA,SAASwb,GAAQV,CAAS,CAAEC,CAAW,EACnC,OAAOD,EAAUW,QAAQ,EACrB,IAAK,GACL,IAAK,IACD,OAAOF,GAAGT,EAAWC,EACzB,KAAK,IACD,OAAOO,AAAyC,EAAzCA,GAAeR,EAAWC,EACrC,KAAK,KACD,OAAOQ,GAAGT,EAAWC,IAAgBO,AAAyC,EAAzCA,GAAeR,EAAWC,EACnE,KAAK,IACD,OAAOO,GAAeR,EAAWC,GAAe,CACpD,KAAK,KACD,OAAOQ,GAAGT,EAAWC,IAAgBO,GAAeR,EAAWC,GAAe,CAClF,MAAKna,KAAAA,EAGG,MAAO,EAEf,SACI,MAAO,EACf,CACJ,CAGA,SAAS8a,GAAsB1C,CAAK,EAChC,OAAOb,GAOP8B,GAOAI,GAAaC,GAAcK,IAAW3B,EAC1C,CACA,SAAS2C,GAAW3C,CAAK,EACrB,OAAOb,GAEPY,GAEAe,GAEAC,GAEAC,IAAgBhB,EAAMa,IAAI,IAAIlT,KAAK,CAAC,OAAOyT,IAAI,CAAC,IACpD,CACA,SAASwB,GAAQ5b,CAAO,CAAEgZ,CAAK,EAC3B,GAAI,CAAChZ,EACD,MAAO,GAIX,IAAM6b,EAAcC,AADKC,AADLJ,GAAW3C,GACMrS,KAAK,CAAC,KAAK3C,GAAG,CAAC,AAACkW,GAAewB,GAAsBxB,IAAeE,IAAI,CAAC,KACzEzT,KAAK,CAAC,OAAO3C,GAAG,CAAC,AAAC6T,GAAa+C,GAAU/C,IACxEmE,EAAmBxD,GAAkBxY,GAC3C,GAAI,CAACgc,EACD,MAAO,GAEX,GAAM,EAAGC,GAAmBC,EAAcC,EAAcC,EAAclB,EAAkB,CAAGc,EACrFjB,EAAc,CAChBU,SAAUQ,EACVjc,QAAS2Y,GAAeuD,EAAcC,EAAcC,EAAclB,GAClEtC,MAAOsD,EACPrD,MAAOsD,EACPrD,MAAOsD,EACPzF,WAAYuE,AAAqB,MAArBA,EAA4B,KAAK,EAAIA,EAAkBvU,KAAK,CAAC,IAC7E,EACA,IAAK,IAAMkR,KAAcgE,EAAY,CACjC,IAAMQ,EAAsB7D,GAAkBX,GAC9C,GAAI,CAACwE,EACD,MAAO,GAEX,GAAM,EAAGC,GAAiBC,EAAYC,EAAYC,EAAYxB,EAAgB,CAAGoB,EASjF,GAAI,CAACb,GARa,CACdC,SAAUa,EACVtc,QAAS2Y,GAAe4D,EAAYC,EAAYC,EAAYxB,GAC5DrC,MAAO2D,EACP1D,MAAO2D,EACP1D,MAAO2D,EACP9F,WAAYsE,AAAmB,MAAnBA,EAA0B,KAAK,EAAIA,EAAgBtU,KAAK,CAAC,IACzE,EACwBoU,GACpB,MAAO,EAEf,CACA,MAAO,EACX,CAEA,SAASrO,KAYL,MAAOA,AAXPA,CAAAA,GAAW9S,OAAOmC,MAAM,EAAI,SAASC,CAAM,EACvC,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUZ,MAAM,CAAEW,IAAI,CACrC,IAAIE,EAASD,SAAS,CAACD,EAAE,CACzB,IAAI,IAAIG,KAAOD,EACPvC,OAAOyC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,EAAQC,IAC7CJ,CAAAA,CAAM,CAACI,EAAI,CAAGD,CAAM,CAACC,EAAI,AAAD,CAGpC,CACA,OAAOJ,CACX,GACgBQ,KAAK,CAAC,IAAI,CAAEN,UAChC,CACA,SAASwgB,GAAYC,CAAS,CAAE1a,CAAI,EAChC,IAAI1C,EAQJ,OALIA,EAFA,QAASod,EAEHA,EAAUpd,GAAG,CAGb,IAAI3C,QAAQC,OAAO,CAAC8f,EAAUnc,GAAG,EAEpCkM,GAAS,CACZkQ,KAAM,EAAE,CACR3O,MAAO,EAAE,CACThM,KAAAA,EACAkM,QAAS,IACb,EAAGwO,EAAW,CACVpM,YAAa7D,GAAS,CAClBmQ,gBAAiB,CAAC,CAAC,EAAEF,EAAU3c,OAAO,CAAC,CAAC,CACxC8c,UAAW,GACX5M,MAAO,GACP6M,cAAe,EACnB,EAAGJ,EAAUpM,WAAW,EACxBhR,IAAAA,EACA6O,OAAQ,QAASuO,GAAmB/b,KAAAA,EACpC8M,MAAO1L,MAAM8F,OAAO,CAAC6U,EAAUjP,KAAK,EAAIiP,EAAUjP,KAAK,CAAG,CACtD,UACH,CACDG,SAAU8O,EAAU9O,QAAQ,EAAI,eACpC,EACJ,CACA,SAASsD,GAAmBwL,CAAS,CAAE1a,CAAI,SACvC,AAAK0a,EAGE/iB,OAAOsJ,IAAI,CAACyZ,GAAWrU,MAAM,CAAC,CAACvJ,EAAKwO,KACvCxO,CAAG,CAACwO,EAAQ,CAAGmP,GAAYC,CAAS,CAACpP,EAAQ,CAAEtL,GACxClD,GACR,CAAC,GALO,CAAC,CAMhB,CACA,SAASie,GAAUC,CAAC,CAAEC,CAAC,EACnB,IAAMC,EAA0B,AAACnd,IAE7B,GADwB,CAAC4Z,OAAOwD,KAAK,CAACxD,OAAO5Z,IACxB,CACjB,IAAMqd,EAAWrd,EAAQ2G,KAAK,CAAC,KAC3B2W,EAAetd,EACnB,IAAI,IAAI/D,EAAI,EAAGA,EAAI,EAAIohB,EAAS/hB,MAAM,CAAEW,IACpCqhB,GAAgB,KAEpB,OAAOA,CACX,CACA,OAAOtd,CACX,QACA,EAAI4b,GAAQuB,EAAwBF,GAAI,CAAC,EAAE,EAAEE,EAAwBD,GAAG,CAAC,GAG9D,EAEf,CACA,IAAMK,GAAc,CAAC3d,EAAe8N,EAAOH,EAASiQ,KAChD,IAAMrN,EAAWvQ,CAAa,CAAC8N,EAAM,CAACH,EAAQ,CACxCkQ,EAAWD,GAAM,SAAStb,CAAI,CAAEwb,CAAG,EACrC,OAAOV,GAAU9a,EAAMwb,EAC3B,EACA,OAAO9jB,OAAOsJ,IAAI,CAACiN,GAAU7H,MAAM,CAAC,CAACpG,EAAMwb,IACvC,AAAI,CAACxb,GAGDub,EAASvb,EAAMwb,IAIfxb,AAAS,MAATA,EANOwb,EASJxb,EACR,EACP,EACA,SAASyb,GAAmC/d,CAAa,CAAE8N,CAAK,CAAEH,CAAO,EACrE,IAAM4C,EAAWvQ,CAAa,CAAC8N,EAAM,CAACH,EAAQ,CAI9C,OAAOgQ,GAAY3d,EAAe8N,EAAOH,EAHxB,SAASrL,CAAI,CAAEwb,CAAG,EAC/B,MAAO,CAACvN,CAAQ,CAACjO,EAAK,CAACkM,MAAM,EAAI4O,GAAU9a,EAAMwb,EACrD,EAEJ,CACA,SAASE,GAAkChe,CAAa,CAAE8N,CAAK,CAAEH,CAAO,EACpE,IAAM4C,EAAWvQ,CAAa,CAAC8N,EAAM,CAACH,EAAQ,CAc9C,OAAOgQ,GAAY3d,EAAe8N,EAAOH,EAbxB,SAASrL,CAAI,CAAEwb,CAAG,EAC/B,GAAIvN,CAAQ,CAACuN,EAAI,CAACtP,MAAM,OACpB,CAAI+B,CAAQ,CAACjO,EAAK,CAACkM,MAAM,EACdkC,CAAAA,CAAQ0M,GAAU9a,EAAMwb,SAKvC,CAAIvN,CAAQ,CAACjO,EAAK,CAACkM,MAAM,EAGlB4O,GAAU9a,EAAMwb,EAC3B,EAEJ,CACA,SAASG,GAAqBhQ,CAAQ,QAClC,AAAIA,AAAa,iBAAbA,EACO+P,GAEJD,EACX,CACA,SAAS7T,GAAmBnK,CAAkB,CAAE4N,CAAO,CAAE5D,CAAS,CAAEI,CAAY,EAC5E,GAAI,CAACpK,EACD,OAEJ,GAAM,CAAE4Q,YAAAA,CAAW,CAAE7C,MAAAA,EAAQhP,EAAa,CAAEmP,SAAAA,CAAQ,CAAE,CAAGlE,EAIzD,IAAK,IAAMyI,KAHIpQ,MAAM8F,OAAO,CAAC4F,GAASA,EAAQ,CAC1CA,EACH,CAEG,GAAI6C,GAAe5Q,CAAkB,CAACyS,EAAG,EAAIzS,CAAkB,CAACyS,EAAG,CAAC7E,EAAQ,CAAE,CAC1E,GAAM,CAAEsP,gBAAAA,CAAe,CAAE,CAAGtM,EAEtBuN,EAAwBC,AADJF,GAAqBhQ,GACClO,EAAoByS,EAAI7E,GAElEyQ,EAAkB,KACpB,GAAIzN,EAAYuM,SAAS,CAAE,CACvB,GAAI,AAA2B,UAA3B,OAAOD,GAAgC,CAACjB,GAAQkC,EAAuBjB,GAAkB,CACzF,IAAM1J,EAAM,CAAC,QAAQ,EAAE2K,EAAsB,MAAM,EAAEA,GAAyBne,CAAkB,CAACyS,EAAG,CAAC7E,EAAQ,CAACuQ,EAAsB,CAAC7b,IAAI,CAAC,4BAA4B,EAAEsL,EAAQ,qCAAqC,EAAE5D,EAAU1H,IAAI,CAAC,aAAa,EAAE4a,EAAgB,CAAC,CAAC,AACnQtM,CAAAA,EAAYwM,aAAa,CACzBva,EAAM2Q,GAENxQ,EAAKwQ,EAEb,CACA,OAAOxT,CAAkB,CAACyS,EAAG,CAAC7E,EAAQ,CAACuQ,EAAsB,AACjE,CACI,GAAwB,KAApBjB,GAA6BA,AAAoB,MAApBA,GAG7BjB,GAAQkC,EAAuBjB,GAF/B,OAAOld,CAAkB,CAACyS,EAAG,CAAC7E,EAAQ,CAACuQ,EAAsB,CAKjE,IAAK,GAAM,CAACG,EAAYC,EAAa,GAAItkB,OAAOukB,OAAO,CAACxe,CAAkB,CAACyS,EAAG,CAAC7E,EAAQ,EACnF,GAAIqO,GAAQqC,EAAYpB,GACpB,OAAOqB,CAIvB,EACME,EAAS,CACXxe,cAAeD,EACf+N,MAAO0E,EACP7E,QAAAA,EACAvN,QAAS8d,EACTO,iBAAkB9R,EAAOC,cAAc,CACvC8R,SAAUN,CACd,EAEA,MAAOO,AADexU,CAAAA,EAAa3K,IAAI,CAACgf,IAAWA,CAAK,EACnCE,QAAQ,EACjC,CAER,CACA,SAASrR,KACL,OAAOV,EAAOC,cAAc,CAACyI,SAAS,AAC1C,CAEAnb,EAAQ0E,mBAAmB,CAAGA,GAC9B1E,EAAQ4E,aAAa,CAAGA,GACxB5E,EAAQyS,MAAM,CAAGA,EACjBzS,EAAQkc,iBAAiB,CAAGA,EAC5Blc,EAAQoU,aAAa,CAAGA,EACxBpU,EAAQ6D,MAAM,CAAGA,EACjB7D,EAAQ0I,KAAK,CAAGA,EAChB1I,EAAQqX,kBAAkB,CAAGA,GAC7BrX,EAAQyY,YAAY,CAAGA,EACvBzY,EAAQ4G,OAAO,CAAGA,EAClB5G,EAAQ6Y,8BAA8B,CAAGA,EACzC7Y,EAAQ4Y,2BAA2B,CAAGA,EACtC5Y,EAAQuB,oBAAoB,CAAGA,EAC/BvB,EAAQmT,mBAAmB,CAAGA,GAC9BnT,EAAQwR,iBAAiB,CAAGA,EAC5BxR,EAAQ8Q,iCAAiC,CAAGA,EAC5C9Q,EAAQoN,kBAAkB,CAAGA,EAC7BpN,EAAQoP,YAAY,CAAGA,EACvBpP,EAAQgQ,kBAAkB,CAAGA,GAC7BhQ,EAAQuD,qBAAqB,CAAGA,EAChCvD,EAAQ4b,iCAAiC,CAAGA,EAC5C5b,EAAQwE,aAAa,CAAGA,EACxBxE,EAAQ4X,YAAY,CAAGA,EACvB5X,EAAQwI,QAAQ,CAAGA,EACnBxI,EAAQkJ,aAAa,CAAGA,EACxBlJ,EAAQqM,iBAAiB,CAAGA,EAC5BrM,EAAQoM,qBAAqB,CAAGA,EAChCpM,EAAQ4Z,YAAY,CAAGA,EACvB5Z,EAAQgZ,qBAAqB,CAAGA,EAChChZ,EAAQqb,yBAAyB,CAAGA,EACpCrb,EAAQwF,YAAY,CAAGA,EACvBxF,EAAQ+Y,8BAA8B,CAAGA,EACzC/Y,EAAQ8Y,2BAA2B,CAAGA,EACtC9Y,EAAQkR,iCAAiC,CAAGA,EAC5ClR,EAAQyP,YAAY,CAAGA,GACvBzP,EAAQ6I,IAAI,CAAGA,C,gDCtyBf,aAIA,SAAS6b,mBAAmB,CAAG,CAAE,CAAG,CAAE,CAAK,EAWvC,OAVI,KAAO,EACP5kB,OAAOC,cAAc,CAAC,EAAK,EAAK,CAC5BE,MAAO,EACPkG,WAAY,GACZ2T,aAAc,GACdC,SAAU,EACd,GAEA,CAAG,CAAC,EAAI,CAAG,EAER,CACX,CAdAja,OAAOC,cAAc,CAACC,QAAS,aAAc,CAAEC,MAAO,EAAK,GAe3D,IASI0kB,KAEAC,MAXAC,yBAA2B,2BAC3BC,aAAe,QACfC,gBAAkB,mBAClBC,kBAAoB,IACpBC,oBAAsB,CACtBC,GAAI,IACJC,OAAQ,IACRC,MAAO,GACX,EAEIC,iBAAoBV,CAAAA,KAAO,CAAC,EAAGD,mBAAmBC,KAAMM,oBAAoBC,EAAE,CAAE,UAAWR,mBAAmBC,KAAMM,oBAAoBE,MAAM,CAAE,KAAMT,mBAAmBC,KAAMM,oBAAoBG,KAAK,CAAE,MAAOT,IAAG,EAEpNW,wBAA2BV,CAAAA,MAAQ,CAAC,EAAGF,mBAAmBE,MAAOS,gBAAgB,CAACJ,oBAAoBC,EAAE,CAAC,CAAED,oBAAoBC,EAAE,EAAGR,mBAAmBE,MAAOS,gBAAgB,CAACJ,oBAAoBE,MAAM,CAAC,CAAEF,oBAAoBE,MAAM,EAAGT,mBAAmBE,MAAOS,gBAAgB,CAACJ,oBAAoBG,KAAK,CAAC,CAAEH,oBAAoBG,KAAK,EAAGR,KAAI,EAChVW,UAAY,IAEhB,SAAS3N,eACL,MAAO,AAAkB,aAAlB,OAAOE,MAClB,CACA,SAASoB,oBACL,AAAI,AAAmB,aAAnB,OAAOsM,SAA2BA,QAAQC,GAAG,EAAID,QAAQC,GAAG,CAAC,gBAAmB,CACzEjP,CAAAA,CAAQgP,QAAQC,GAAG,CAAC,gBAAmB,CAE3C,AAA4B,aAA5B,OAAOC,kBAAoClP,CAAAA,CAAQkP,gBAC9D,CACA,IAAIC,cAAgB,WAChB,MAAO,AAAmB,aAAnB,OAAOH,SAA2BA,QAAQC,GAAG,CAAGD,QAAQC,GAAG,CAAG,CAAC,CAC1E,EAEA,SAASG,uBAAuB,CAAG,CAAE,CAAG,EAChC,CAAO,MAAP,GAAe,EAAM,EAAIpkB,MAAM,AAAD,GAAG,GAAM,EAAIA,MAAM,AAAD,EACpD,IAAI,IAAI,EAAI,EAAG,EAAO,AAAI0G,MAAM,GAAM,EAAI,EAAK,IAAI,CAAI,CAAC,EAAE,CAAG,CAAG,CAAC,EAAE,CACnE,OAAO,CACX,CACA,SAAS2d,qBAAqB,CAAG,EAC7B,GAAI3d,MAAM8F,OAAO,CAAC,GAAM,OAAO4X,uBAAuB,EAC1D,CACA,SAASE,kBAAkB,CAAQ,CAAE,CAAW,EAC5C,GAAI,CAAE,cAAoB,CAAW,EACjC,MAAM,AAAIC,UAAU,oCAE5B,CACA,SAASC,kBAAkB,CAAM,CAAE,CAAK,EACpC,IAAI,IAAI,EAAI,EAAG,EAAI,EAAMxkB,MAAM,CAAE,IAAI,CACjC,IAAI,EAAa,CAAK,CAAC,EAAE,AACzB,GAAW2E,UAAU,CAAG,EAAWA,UAAU,EAAI,GACjD,EAAW2T,YAAY,CAAG,GACtB,UAAW,GAAY,GAAWC,QAAQ,CAAG,EAAG,EACpDja,OAAOC,cAAc,CAAC,EAAQ,EAAWuC,GAAG,CAAE,EAClD,CACJ,CACA,SAAS2jB,cAAc,CAAW,CAAE,CAAU,CAAE,CAAW,EAGvD,OAFI,GAAYD,kBAAkB,EAAYzjB,SAAS,CAAE,GACrD,GAAayjB,kBAAkB,EAAa,GACzC,CACX,CACA,SAASE,mBAAmB,CAAG,CAAE,CAAG,CAAE,CAAK,EAWvC,OAVI,KAAO,EACPpmB,OAAOC,cAAc,CAAC,EAAK,EAAK,CAC5BE,MAAO,EACPkG,WAAY,GACZ2T,aAAc,GACdC,SAAU,EACd,GAEA,CAAG,CAAC,EAAI,CAAG,EAER,CACX,CACA,SAASoM,qBAAqB,CAAI,EAC9B,GAAI,AAAkB,aAAlB,OAAOC,QAA0B,AAAyB,MAAzB,CAAI,CAACA,OAAOC,QAAQ,CAAC,EAAY,AAAsB,MAAtB,CAAI,CAAC,aAAa,CAAU,OAAOne,MAAMC,IAAI,CAAC,EACxH,CACA,SAASme,uBACL,MAAM,AAAIP,UAAU,wIACxB,CACA,SAASQ,qBAAqB,CAAG,EAC7B,OAAOV,qBAAqB,IAAQM,qBAAqB,IAAQK,iCAAiC,IAAQF,sBAC9G,CACA,SAASE,iCAAiC,CAAC,CAAE,CAAM,EAC/C,GAAK,GACL,GAAI,AAAa,UAAb,OAAO,EAAgB,OAAOZ,uBAAuB,EAAG,GAC5D,IAAI,EAAI9lB,OAAOyC,SAAS,CAACoX,QAAQ,CAAClX,IAAI,CAAC,GAAGgkB,KAAK,CAAC,EAAG,IAEnD,GADU,WAAN,GAAkB,EAAE5f,WAAW,EAAE,GAAI,EAAEA,WAAW,CAACnG,IAAI,AAAD,EACtD,AAAM,QAAN,GAAe,AAAM,QAAN,EAAa,OAAOwH,MAAMC,IAAI,CAAC,GAClD,GAAI,AAAM,cAAN,GAAqB,2CAA2Cue,IAAI,CAAC,GAAI,OAAOd,uBAAuB,EAAG,GAClH,CACA,SAASpgB,aAAa,CAAI,EACtB,GAAI,CACA,OAAO6L,KAAKC,SAAS,CAAC,EAAM,KAAM,EACtC,CAAE,MAAO,EAAG,CACR,MAAO,EACX,CACJ,CACA,IAAIqV,UAAY,uBACZC,OAAuB,WACvB,SAAS,EAAO,CAAU,EACtBd,kBAAkB,IAAI,CAAE,GACxBI,mBAAmB,IAAI,CAAE,SAAU,IACnCA,mBAAmB,IAAI,CAAE,aAAc,KAAK,GAC5C,IAAI,CAAC9S,UAAU,CAAG,GAAcuT,UAC5B/O,gBAAkBiP,aAAaC,OAAO,CAAC/B,mBAAqBC,kBAC5D,IAAI,CAAC+B,MAAM,CAAG,GACP7N,eACP,KAAI,CAAC6N,MAAM,CAAG,EAAG,CAEzB,CAmCA,OAlCAd,cAAc,EAAQ,CAClB,CACI3jB,IAAK,OACLrC,MAAO,SAAc,CAAG,CAAE,CAAI,EAC1B,GAAI,IAAI,CAAC8mB,MAAM,CAAE,CACb,IAAI,EAAevhB,aAAa,IAAS,GACrCoS,eACA9T,QAAQ0V,IAAI,CAAC,MAAMwN,MAAM,CAAC,IAAI,CAAC5T,UAAU,CAAE,MAAM4T,MAAM,CAAC,EAAK,KAAKA,MAAM,CAAC,GAAe,iBAExFljB,QAAQ0V,IAAI,CAAC,aAAc,GAAGwN,MAAM,CAAC,IAAI,CAAC5T,UAAU,CAAE,MAAM4T,MAAM,CAAC,EAAK,KAAKA,MAAM,CAAC,EAAe,KAAKA,MAAM,CAAC,GAAgB,IAEvI,CACJ,CACJ,EACA,CACI1kB,IAAK,kBACLrC,MAAO,WACH,IAAI,IAKQ,EAIA,EATJ,EAAOmC,UAAUZ,MAAM,CAAE,EAAO,AAAI0G,MAAM,GAAO,EAAO,EAAG,EAAO,EAAM,IAC5E,CAAI,CAAC,EAAK,CAAG9F,SAAS,CAAC,EAAK,AAE5B,KAAI,CAAC2kB,MAAM,GACPnP,gBAEA9T,QAAQ0V,IAAI,CAAC,MAAMwN,MAAM,CAAC,IAAI,CAAC5T,UAAU,CAAE,kBAAmB,iBAC7D,GAAWtP,OAAM,EAAGC,GAAG,CAACrB,KAAK,CAAC,EAAU6jB,qBAAqB,MAG9DziB,QAAQ0V,IAAI,CAAC,MAAMwN,MAAM,CAAC,IAAI,CAAC5T,UAAU,CAAE,kBAAmB,iBAC7D,GAAYtP,OAAM,EAAGC,GAAG,CAACrB,KAAK,CAAC,EAAW6jB,qBAAqB,KAG5E,CACJ,EACH,EACM,CACX,IAEA,SAASU,uBAAuB,CAAG,CAAE,CAAG,EAChC,CAAO,MAAP,GAAe,EAAM,EAAIzlB,MAAM,AAAD,GAAG,GAAM,EAAIA,MAAM,AAAD,EACpD,IAAI,IAAI,EAAI,EAAG,EAAO,AAAI0G,MAAM,GAAM,EAAI,EAAK,IAAI,CAAI,CAAC,EAAE,CAAG,CAAG,CAAC,EAAE,CACnE,OAAO,CACX,CACA,SAASgf,oBAAoB,CAAG,EAC5B,GAAIhf,MAAM8F,OAAO,CAAC,GAAM,OAAO,CACnC,CACA,SAASmZ,mBAAmB,CAAI,EAC5B,GAAI,AAAkB,aAAlB,OAAOf,QAA0B,AAAyB,MAAzB,CAAI,CAACA,OAAOC,QAAQ,CAAC,EAAY,AAAsB,MAAtB,CAAI,CAAC,aAAa,CAAU,OAAOne,MAAMC,IAAI,CAAC,EACxH,CACA,SAASif,2BAA2B,CAAG,CAAE,CAAC,EACtC,IAKI,EAAI,EALJ,EAAK,AAAO,MAAP,EAAc,KAAO,AAAkB,aAAlB,OAAOhB,QAA0B,CAAG,CAACA,OAAOC,QAAQ,CAAC,EAAI,CAAG,CAAC,aAAa,CACxG,GAAI,AAAM,MAAN,GACJ,IAAI,EAAO,EAAE,CACT,EAAK,GACL,EAAK,GAET,GAAI,CACA,IAAI,EAAK,EAAG5jB,IAAI,CAAC,GAAM,CAAE,GAAM,GAAK,EAAG4kB,IAAI,EAAC,EAAGC,IAAG,IAC9C,EAAKzlB,IAAI,CAAC,EAAG5B,KAAK,EACd,IAAK,EAAKuB,MAAM,GAAK,GAFyB,EAAK,IAI/D,CAAE,MAAO,EAAK,CACV,EAAK,GACL,EAAK,CACT,QAAS,CACL,GAAI,CACI,CAAC,GAAM,AAAgB,MAAhB,EAAG,MAAS,EAAU,EAAG,MAAS,EACjD,QAAS,CACL,GAAI,EAAI,MAAM,CAClB,CACJ,CACA,OAAO,EACX,CACA,SAAS+lB,uBACL,MAAM,AAAIxB,UAAU,6IACxB,CACA,SAASyB,mBAAmB,CAAG,CAAE,CAAC,EAC9B,OAAON,oBAAoB,IAAQE,2BAA2B,EAAK,IAAMK,iCAAiC,EAAK,IAAMF,sBACzH,CACA,SAASG,UAAU,CAAG,EAClB,OAAOR,oBAAoB,IAAQC,mBAAmB,IAAQM,iCAAiC,IAAQF,sBAC3G,CACA,SAASE,iCAAiC,CAAC,CAAE,CAAM,EAC/C,GAAK,GACL,GAAI,AAAa,UAAb,OAAO,EAAgB,OAAOR,uBAAuB,EAAG,GAC5D,IAAI,EAAInnB,OAAOyC,SAAS,CAACoX,QAAQ,CAAClX,IAAI,CAAC,GAAGgkB,KAAK,CAAC,EAAG,IAEnD,GADU,WAAN,GAAkB,EAAE5f,WAAW,EAAE,GAAI,EAAEA,WAAW,CAACnG,IAAI,AAAD,EACtD,AAAM,QAAN,GAAe,AAAM,QAAN,EAAa,OAAOwH,MAAMC,IAAI,CAAC,GAClD,GAAI,AAAM,cAAN,GAAqB,2CAA2Cue,IAAI,CAAC,GAAI,OAAOO,uBAAuB,EAAG,GAClH,CACA,IAAI9N,aAAe,yBAGfwO,WAAa,SAAS,CAAG,CAAE,CAAW,EACtC,IAAI,EAAW,EAAI9a,KAAK,CAAC0Y,WACrB,EAAkBI,AAAgC,gBAAhCA,gBAAgB,QAAW,EAAsB,EACnE,EAAiB,IACjB,EAAU,SAAS,CAAC,EACpB,OAAO,EAAEllB,UAAU,CAAC,SAAW,EAAEsW,QAAQ,CAAC+N,aAC9C,EAEA,GAAI,EAAStjB,MAAM,EAAI,EAAG,CACtB,IAAI,EAAYkmB,UAAU,GAAW,EAAO,CAAS,CAAC,EAAE,CAAE,EAAoB,EAAUjB,KAAK,CAAC,GAC1F,EAAiB,GAAmB,EAAkBnG,IAAI,CAACiF,kBAC/D,AAAI,EAAQ,GACD,CACH7kB,KAAM,EACNkC,MAAO,CACX,EAIO,CACHlC,KAAM,EACNwF,QAAS,GAAkB,CAC/B,CAER,CAAO,GAAI,AAAoB,IAApB,EAAS1E,MAAM,CAAQ,CAC9B,IAAkD,EAAQ,AAAzCgmB,mBAAmB,EAAU,EAAsB,CAAC,EAAE,QACvE,AAAI,GAAmB,EAAQ,GACpB,CACH9mB,KAAM,EACNkC,MAAO,CACX,EAEG,CACHlC,KAAM,EACNwF,QAAS,GAAmB,CAChC,CACJ,CACI,KAAM,wBAAwB8gB,MAAM,CAAC,EAE7C,EACIY,OAAS,IAAIhB,OACbriB,wBAA2B,WAC3B,IAAI,IAAI,EAAOnC,UAAUZ,MAAM,CAAE,EAAO,AAAI0G,MAAM,GAAO,EAAO,EAAG,EAAO,EAAM,IAC5E,CAAI,CAAC,EAAK,CAAG9F,SAAS,CAAC,EAAK,QAEhC,AAAK,EAAKZ,MAAM,CAGT,EAAKgN,MAAM,CAAC,SAAS,CAAG,CAAE,CAAG,SAChC,AAAK,EAGA,EAGE,GAAGwY,MAAM,CAAC,GAAKA,MAAM,CAACzB,WAAWyB,MAAM,CAAC,GAFpC,EAHA,CAMf,EAAG,IAVQ,EAWf,EACIa,WAAc,SAAoB,CAAI,EACtC,IAAI,EAASzlB,UAAUZ,MAAM,CAAG,GAAKY,AAAiB,KAAK,IAAtBA,SAAS,CAAC,EAAE,CAAcA,SAAS,CAAC,EAAE,CAAG,GAAI,EAAUA,UAAUZ,MAAM,CAAG,GAAKY,AAAiB,KAAK,IAAtBA,SAAS,CAAC,EAAE,EAAcA,SAAS,CAAC,EAAE,CAC1J,GAAI,CACA,IAAI,EAAM,EAAU,MAAQ,GAC5B,MAAO,GAAG4kB,MAAM,CAAC,GAAQA,MAAM,CAAC,EAAKpmB,OAAO,CAAC,AAAIsd,OAAO,GAAG8I,MAAM,CAAC/B,oBAAoBC,EAAE,EAAG,KAAMG,gBAAgB,CAACJ,oBAAoBC,EAAE,CAAC,EAAEtkB,OAAO,CAAC,AAAIsd,OAAO,GAAG8I,MAAM,CAAC/B,oBAAoBE,MAAM,EAAG,KAAME,gBAAgB,CAACJ,oBAAoBE,MAAM,CAAC,EAAEvkB,OAAO,CAAC,AAAIsd,OAAO,GAAG8I,MAAM,CAAC/B,oBAAoBG,KAAK,EAAG,KAAMC,gBAAgB,CAACJ,oBAAoBG,KAAK,CAAC,GAAG4B,MAAM,CAAC,EACjX,CAAE,MAAO,EAAK,CACV,MAAM,CACV,CACJ,EACIc,WAAc,SAAoB,CAAI,CAAE,CAAM,CAAE,CAAO,EACvD,GAAI,CACA,IAAI,EAAc,EAClB,GAAI,EAAQ,CACR,GAAI,CAAC,EAAYrnB,UAAU,CAAC,GACxB,OAAO,EAEX,EAAc,EAAYG,OAAO,CAAC,AAAIsd,OAAO,EAAQ,KAAM,GAC/D,CAKA,OAJA,EAAc,EAAYtd,OAAO,CAAC,AAAIsd,OAAO,GAAG8I,MAAM,CAAC3B,gBAAgB,CAACJ,oBAAoBC,EAAE,CAAC,EAAG,KAAMI,uBAAuB,CAACD,gBAAgB,CAACJ,oBAAoBC,EAAE,CAAC,CAAC,EAAEtkB,OAAO,CAAC,AAAIsd,OAAO,GAAG8I,MAAM,CAAC3B,gBAAgB,CAACJ,oBAAoBG,KAAK,CAAC,EAAG,KAAME,uBAAuB,CAACD,gBAAgB,CAACJ,oBAAoBG,KAAK,CAAC,CAAC,EAAExkB,OAAO,CAAC,AAAIsd,OAAO,GAAG8I,MAAM,CAAC3B,gBAAgB,CAACJ,oBAAoBE,MAAM,CAAC,EAAG,KAAMG,uBAAuB,CAACD,gBAAgB,CAACJ,oBAAoBE,MAAM,CAAC,CAAC,EACrd,GACA,GAAc,EAAYvkB,OAAO,CAAC,MAAO,GAAE,EAExC,CACX,CAAE,MAAO,EAAK,CACV,MAAM,CACV,CACJ,EACImnB,uBAA0B,SAAS,CAAU,CAAE,CAAO,EACtD,GAAI,CAAC,EACD,MAAO,GAEX,IAAI,EAAS,EAOb,MANe,MAAX,GACA,GAAS,gBAAe,EAExB,EAAOtnB,UAAU,CAAC,OAClB,GAAS,EAAOG,OAAO,CAAC,KAAM,GAAE,EAE7BinB,WAAW,EAAQ,uBAAwB,EACtD,EACIG,sBAAyB,SAAS,CAAO,CAAE,CAAO,SAClD,AAAK,EAGEH,WAAW,EAAS,uBAAwB,GAFxC,EAGf,EACI9b,eAAiB,SAAS,CAAM,CAAE,CAAS,EAC3C,GAAI,kBAAmB,EAAQ,CAC3B,IAAI,EAAa,AAAI9I,SAAS,EAAOglB,aAAa,IAClD,MAAO,GAAGjB,MAAM,CAAC,GAAYA,MAAM,CAAC,EACxC,OAAO,AAAI,eAAgB,EAChB,GAAGA,MAAM,CAAC,EAAOkB,UAAU,EAAElB,MAAM,CAAC,IAE3CljB,QAAQ+E,IAAI,CAAC,4DAA6D,EAAQ,GAC3E,GAEf,EAEIhF,OAAS,SAAS,CAAS,CAAE,CAAG,EAC5B,CAAC,GACD6E,MAAM,EAEd,EACIA,MAAQ,SAAS,CAAG,EACpB,MAAM,AAAIiM,MAAM,GAAGqS,MAAM,CAAC7N,aAAc,MAAM6N,MAAM,CAAC,GACzD,EACIne,KAAO,SAAS,CAAG,EACnB/E,QAAQ+E,IAAI,CAAC,GAAGme,MAAM,CAAC7N,aAAc,MAAM6N,MAAM,CAAC,GACtD,EAEA,SAASmB,iBAAiB,CAAG,CAAE,CAAG,CAAE,CAAK,EAWrC,OAVI,KAAO,EACProB,OAAOC,cAAc,CAAC,EAAK,EAAK,CAC5BE,MAAO,EACPkG,WAAY,GACZ2T,aAAc,GACdC,SAAU,EACd,GAEA,CAAG,CAAC,EAAI,CAAG,EAER,CACX,CACA,SAASqO,eAAe,CAAM,EAC1B,IAAI,IAAI,EAAI,EAAG,EAAIhmB,UAAUZ,MAAM,CAAE,IAAI,CACrC,IAAI,EAASY,AAAgB,MAAhBA,SAAS,CAAC,EAAE,CAAWA,SAAS,CAAC,EAAE,CAAG,CAAC,EAChD,EAAUtC,OAAOsJ,IAAI,CAAC,EACkB,aAAxC,OAAOtJ,OAAOuoB,qBAAqB,EACnC,GAAU,EAAQrB,MAAM,CAAClnB,OAAOuoB,qBAAqB,CAAC,GAAQvZ,MAAM,CAAC,SAAS,CAAG,EAC7E,OAAOhP,OAAOwoB,wBAAwB,CAAC,EAAQ,GAAKniB,UAAU,AAClE,GAAE,EAEN,EAAQ1E,OAAO,CAAC,SAAS,CAAG,EACxB0mB,iBAAiB,EAAQ,EAAK,CAAM,CAAC,EAAI,CAC7C,EACJ,CACA,OAAO,CACX,CACA,SAASI,QAAQ,CAAM,CAAE,CAAc,EACnC,IAAI,EAAOzoB,OAAOsJ,IAAI,CAAC,GACvB,GAAItJ,OAAOuoB,qBAAqB,CAAE,CAC9B,IAAI,EAAUvoB,OAAOuoB,qBAAqB,CAAC,GACvC,GACA,GAAU,EAAQvZ,MAAM,CAAC,SAAS,CAAG,EACjC,OAAOhP,OAAOwoB,wBAAwB,CAAC,EAAQ,GAAKniB,UAAU,AAClE,EAAC,EAEL,EAAKtE,IAAI,CAACa,KAAK,CAAC,EAAM,EAC1B,CACA,OAAO,CACX,CACA,SAAS8lB,qBAAqB,CAAM,CAAE,CAAM,EASxC,OARA,EAAS,AAAU,MAAV,EAAiB,EAAS,CAAC,EAChC1oB,OAAO2oB,yBAAyB,CAChC3oB,OAAO4oB,gBAAgB,CAAC,EAAQ5oB,OAAO2oB,yBAAyB,CAAC,IAEjEF,QAAQzoB,OAAO,IAAS2B,OAAO,CAAC,SAAS,CAAG,EACxC3B,OAAOC,cAAc,CAAC,EAAQ,EAAKD,OAAOwoB,wBAAwB,CAAC,EAAQ,GAC/E,GAEG,CACX,CACA,IAAIK,sBAAwB,SAAS,CAAK,CAAE,CAAK,EAC7C,GAAI,CAAC,EACD,OAAO,EAkBX,IAAI,EAAkB,AAhBF,SAAS,CAAG,EAC5B,GAAI,AAAQ,MAAR,EACA,MAAO,GAEX,GAAI,EAAIloB,UAAU,CAAC,MACf,OAAO,EAAIG,OAAO,CAAC,KAAM,IAE7B,GAAI,EAAIH,UAAU,CAAC,KAAM,CACrB,IAAI,EAAkB,EAAIgmB,KAAK,CAAC,UAChC,AAAI,EAAgBmC,QAAQ,CAAC,KAClB,EAAgBnC,KAAK,CAAC,EAAG,IAE7B,CACX,CACA,OAAO,CACX,EACoC,UACpC,AAAK,EAGD,EAAgBmC,QAAQ,CAAC,KAClB,GAAG5B,MAAM,CAAC,GAAiBA,MAAM,CAAC,GAEtC,GAAGA,MAAM,CAAC,EAAiB,KAAKA,MAAM,CAAC,GALnC,CAMf,EAGA,SAAS3U,6BAA6B,CAAQ,EAC1C,IACI,EAEA,EAYI,EAfJ,EAAUjQ,UAAUZ,MAAM,CAAG,GAAKY,AAAiB,KAAK,IAAtBA,SAAS,CAAC,EAAE,CAAcA,SAAS,CAAC,EAAE,CAAG,CAAC,EAE5E,EAAmB,EAAQ/B,OAAO,CAAE,EAAU,AAAqB,KAAK,IAA1B,EAA8B,CAAC,EAAI,EAAkB,EAAqB,EAAQwoB,SAAS,CAAE,EAAY,AAAuB,KAAK,IAA5B,EAAgC,CAAC,EAAI,EAAoB,EAAU,EAAQ3iB,OAAO,CAEzO,EAAgB,iBAChB,AAAI,eAAgB,EAAS+L,QAAQ,CAC1B,EAASA,QAAQ,CAACiW,UAAU,CAE5B,EAASjW,QAAQ,CAACgW,aAAa,AAE9C,EACI,EAAgBnoB,OAAOsJ,IAAI,CAAC,GAC5B,EAAc,CAAC,CAEf,EAACtJ,OAAOsJ,IAAI,CAAC,GAAS5H,MAAM,EAE5B,GAAe,AAAC,CAA0C,OAA1C,GAAoB,EAASnB,OAAM,GAAe,AAAsB,KAAK,IAA3B,EAA+B,KAAK,EAAI,EAAkBmO,MAAM,CAAC,SAAS,CAAG,CAAE,CAAI,EAEjJ,IADI,EACA,EAAO,EAAKsa,uBAAuB,CAcvC,OAXI,EADA,EAAc/R,QAAQ,CAAC,GACN,CAAS,CAAC,EAAK,CAE5B,YAAa,EACI,EAAK7Q,OAAO,CAEZ,EAAKtD,KAAK,CAGnC,CAAG,CAAC,EAAK,CAAG,CACR8K,eAAgB,CACpB,EACO,CACX,EAAG,CAAC,EAAC,GAAM,CAAC,GAGhB5N,OAAOsJ,IAAI,CAAC,GAAS3H,OAAO,CAAC,SAAS,CAAG,EACrC,OAAO,CAAW,CAAC,EAAI,CAAG,CAEtBiM,eAAgB,EAAcqJ,QAAQ,CAAC,GAAO,CAAS,CAAC,EAAI,CAAG,CAAO,CAAC,EAAI,AAC/E,CACJ,GACA,IAAI,EAAsB,EAAS9E,QAAQ,CAAE,EAAiC,EAAoBpG,WAAW,CAAE,EAAkB,EAA+Bkd,IAAI,CAAE,EAAkB,EAA+BroB,IAAI,CAAE,EAAkB,EAA+B0D,IAAI,CAAE,EAAc,EAAoB4kB,KAAK,CAAE,EAAe,EAAoBC,SAAS,CAAChd,YAAY,CAAE,EAAa,EAAoB7I,UAAU,CAC/Z,EAAU,EAASgH,OAAO,CAC1B,EAAsB,CACtBlE,QAAS,GAAoB,GAC7B+F,aAAc,EACd7I,WAAY,EACZyI,YAAa8c,sBAAsB,EAAiB,GACpD3c,gBAAiB,EACjBkd,YAAaP,sBAAsB,EAAYI,IAAI,CAAE,EAAYroB,IAAI,EACrE6M,YAAa,EACboC,OAAQ,QAA2C,KAAK,EAAI,EAASA,MAAM,CAACzF,GAAG,CAAC,SAAS,CAAI,EACzF,MAAO,CACHI,OAAQ,EAAKA,MAAM,CACnBwF,WAAY,EAAKpP,IAAI,AACzB,CACJ,GACA2N,QAAS,QAAyC,KAAK,EAAI,EAAQnE,GAAG,CAAC,SAAS,CAAM,EAClF,MAAO,CACHyE,WAAY,EAAOjO,IAAI,CACvByoB,WAAY,EAAOJ,IAAI,CACvBze,OAAQ,EAAOA,MAAM,AACzB,CACJ,EACJ,EACA,GAAK,AAA4C,OAA5C,GAAqB,EAAS2H,QAAO,GAAe,AAAuB,KAAK,IAA5B,EAAgC,KAAK,EAAI,EAAmBmX,aAAa,CAAE,CAChI,IAAI,EAAmC,EAASnX,QAAQ,CAACmX,aAAa,CAAE,EAAO,EAAiCL,IAAI,CAAE,EAAO,EAAiCroB,IAAI,CAAE,EAAO,EAAiC0D,IAAI,CAChN,EAAsBokB,qBAAqBJ,eAAe,CAAC,EAAG,GAAsB,CAChFgB,cAAeT,sBAAsB,EAAM,GAC3CU,kBAAmB,CACvB,EACJ,CAUA,OARI,EADA,eAAgB,EAASpX,QAAQ,CAChBuW,qBAAqBJ,eAAe,CAAC,EAAG,GAAsB,CAC3EF,WAAY,GAChB,GAEiBM,qBAAqBJ,eAAe,CAAC,EAAG,GAAsB,CAC3EH,cAAe,GACnB,EAGR,CACA,SAAS3a,mBAAmB,CAAU,QAClC,EAAI,iBAAiB,GAAc,EAAWzB,WAAW,CAACkL,QAAQ,CAAC+N,aAAY,GAGpE,EAEf,CAEA,SAASwE,qBAAqB,CAAG,CAAE,CAAO,CAAE,CAAM,CAAE,CAAK,CAAE,CAAM,CAAE,CAAG,CAAE,CAAG,EACvE,GAAI,CACA,IAAI,EAAO,CAAG,CAAC,EAAI,CAAC,GAChB,EAAQ,EAAKrpB,KAAK,AAC1B,CAAE,MAAO,EAAO,CACZ,EAAO,GACP,MACJ,CACI,EAAKqnB,IAAI,CACT,EAAQ,GAERxkB,QAAQC,OAAO,CAAC,GAAOY,IAAI,CAAC,EAAO,EAE3C,CACA,SAAS4lB,sBAAsB,CAAE,EAC7B,OAAO,WACH,IAAI,EAAO,IAAI,CAAE,EAAOnnB,UACxB,OAAO,IAAIU,QAAQ,SAAS,CAAO,CAAE,CAAM,EACvC,IAAI,EAAM,EAAGJ,KAAK,CAAC,EAAM,GACzB,SAAS,EAAM,CAAK,EAChB4mB,qBAAqB,EAAK,EAAS,EAAQ,EAAO,EAAQ,OAAQ,EACtE,CACA,SAAS,EAAO,CAAG,EACfA,qBAAqB,EAAK,EAAS,EAAQ,EAAO,EAAQ,QAAS,EACvE,CACA,EAAMxiB,KAAAA,EACV,EACJ,CACJ,CACA,SAAS0iB,YAAY,CAAI,CAAE,CAAK,SAC5B,AAAI,AAAS,MAAT,GAAiB,AAAkB,aAAlB,OAAOpD,QAA0B,CAAK,CAACA,OAAOqD,WAAW,CAAC,CACpE,CAAC,CAAC,CAAK,CAACrD,OAAOqD,WAAW,CAAC,CAAC,GAE5B,aAAgB,CAE/B,CACA,SAASC,gBAAgB,CAAO,CAAE,CAAI,EAClC,IAAI,EAAG,EAAG,EAAG,EAAG,EAAI,CAChBC,MAAO,EACPC,KAAM,WACF,GAAI,AAAO,EAAP,CAAC,CAAC,EAAE,CAAM,MAAM,CAAC,CAAC,EAAE,CACxB,OAAO,CAAC,CAAC,EAAE,AACf,EACAC,KAAM,EAAE,CACR9T,IAAK,EAAE,AACX,EACA,OAAO,EAAI,CACPsR,KAAM,EAAK,GACX,MAAS,EAAK,GACd,OAAU,EAAK,EACnB,EAAG,AAAkB,YAAlB,OAAOjB,QAA0B,EAAC,CAACA,OAAOC,QAAQ,CAAC,CAAG,WACrD,OAAO,IAAI,AACf,GAAI,EACJ,SAAS,EAAK,CAAC,EACX,OAAO,SAAS,CAAC,EACb,OAAO,EAAK,CACR,EACA,EACH,CACL,CACJ,CACA,SAAS,EAAK,CAAE,EACZ,GAAI,EAAG,MAAM,AAAIN,UAAU,mCAC3B,KAAM,GAAE,GAAI,CACR,GAAI,EAAI,EAAG,GAAM,GAAI,AAAQ,EAAR,CAAE,CAAC,EAAE,CAAO,EAAE,MAAS,CAAG,CAAE,CAAC,EAAE,CAAG,EAAE,KAAQ,EAAM,IAAI,EAAE,MAAQ,GAAM,EAAEtjB,IAAI,CAAC,GAAI,GAAK,EAAE4kB,IAAG,GAAM,CAAE,GAAI,EAAE5kB,IAAI,CAAC,EAAG,CAAE,CAAC,EAAE,GAAG6kB,IAAI,CAAE,OAAO,EAK3J,OAJI,EAAI,EAAJ,AAAO,GAAG,GAAK,CACf,AAAQ,EAAR,CAAE,CAAC,EAAE,CACL,EAAErnB,KAAK,CACV,A,EACM,CAAE,CAAC,EAAE,EACR,KAAK,EACL,KAAK,EACD,EAAI,EACJ,KACJ,MAAK,EAED,OADA,EAAE0pB,KAAK,GACA,CACH1pB,MAAO,CAAE,CAAC,EAAE,CACZqnB,KAAM,EACV,CACJ,MAAK,EACD,EAAEqC,KAAK,GACP,EAAI,CAAE,CAAC,EAAE,CACT,EAAK,CACD,EACH,CACD,QACJ,MAAK,EACD,EAAK,EAAE5T,GAAG,CAAC+T,GAAG,GACd,EAAED,IAAI,CAACC,GAAG,GACV,QACJ,SACI,GAAM,CAAY,GAAI,AAAhB,GAAI,EAAED,IAAI,AAAD,EAASroB,MAAM,CAAG,GAAK,CAAC,CAAC,EAAEA,MAAM,CAAG,EAAC,GAAO,CAAU,IAAV,CAAE,CAAC,EAAE,EAAU,AAAU,IAAV,CAAE,CAAC,EAAE,AAAK,EAAI,CACpF,EAAI,EACJ,QACJ,CACA,GAAI,AAAU,IAAV,CAAE,CAAC,EAAE,EAAW,EAAC,GAAK,CAAE,CAAC,EAAE,CAAG,CAAC,CAAC,EAAE,EAAI,CAAE,CAAC,EAAE,CAAG,CAAC,CAAC,EAAC,EAAI,CACrD,EAAEmoB,KAAK,CAAG,CAAE,CAAC,EAAE,CACf,KACJ,CACA,GAAI,AAAU,IAAV,CAAE,CAAC,EAAE,EAAU,EAAEA,KAAK,CAAG,CAAC,CAAC,EAAE,CAAE,CAC/B,EAAEA,KAAK,CAAG,CAAC,CAAC,EAAE,CACd,EAAI,EACJ,KACJ,CACA,GAAI,GAAK,EAAEA,KAAK,CAAG,CAAC,CAAC,EAAE,CAAE,CACrB,EAAEA,KAAK,CAAG,CAAC,CAAC,EAAE,CACd,EAAE5T,GAAG,CAAClU,IAAI,CAAC,GACX,KACJ,CACI,CAAC,CAAC,EAAE,EAAE,EAAEkU,GAAG,CAAC+T,GAAG,GACnB,EAAED,IAAI,CAACC,GAAG,GACV,QACR,CACA,EAAK,EAAKrnB,IAAI,CAAC,EAAS,EAC5B,CAAE,MAAO,EAAG,CACR,EAAK,CACD,EACA,EACH,CACD,EAAI,CACR,QAAS,CACL,EAAI,EAAI,CACZ,CACA,GAAI,AAAQ,EAAR,CAAE,CAAC,EAAE,CAAM,MAAM,CAAE,CAAC,EAAE,CAC1B,MAAO,CACHxC,MAAO,CAAE,CAAC,EAAE,CAAG,CAAE,CAAC,EAAE,CAAG,KAAK,EAC5BqnB,KAAM,EACV,CACJ,CACJ,CAEA,SAASyC,YAAY,CAAQ,CAAE,CAAW,EACtC,OAAOC,aAAatnB,KAAK,CAAC,IAAI,CAAEN,UACpC,CACA,SAAS4nB,eAmCL,MAAOA,AAlCPA,CAAAA,aAAeT,sBAAsB,SAAS,CAAQ,CAAE,CAAW,EAC/D,IAAS,EACT,OAAOG,gBAAgB,IAAI,CAAE,SAAS,CAAM,EACxC,OAAO,EAAOC,KAAK,EACf,KAAK,EAOD,OANA,EAAOE,IAAI,CAAChoB,IAAI,CAAC,CACb,EACA,GAEA,EACH,EACM,CACH,EACA,IACH,AACL,MAAK,EAED,MAAO,CACH,EAFE,EAAO+nB,IAAI,GAIhB,AACL,MAAK,EAGD,OAFA,EAAI,EAAOA,IAAI,GACf,AAAC,GAAe/gB,KAAK,GACd,CACH,EACH,AACL,MAAK,EACD,MAAO,CACH,EACH,AACT,CACJ,EACJ,EAAC,EACmBnG,KAAK,CAAC,IAAI,CAAEN,UACpC,CACA,SAAS6nB,uBAAuB,CAAI,CAAE,CAAI,EACtC,IAAI,EAAU,mBAKd,OAAO,AAHY,EAAKrpB,OAAO,CAAC,EAAS,IAAIA,OAAO,CAAC,MAAO,MACzC,EAAKA,OAAO,CAAC,EAAS,IAAIA,OAAO,CAAC,MAAO,GAGhE,CACA,SAASyE,aAAa,CAAG,CAAE,CAAE,CAAE,CAAK,CAAE,CAAgB,EAKlD,IAAI,IAHA,EAAS,KACT,EAAa,GACb,EAAU7B,SAAS0mB,oBAAoB,CAAC,UACpC,EAAI,EAAG,EAAI,EAAQ1oB,MAAM,CAAE,IAAI,CACnC,IAAI,EAAI,CAAO,CAAC,EAAE,CACd,EAAY,EAAE2oB,YAAY,CAAC,OAC/B,GAAI,GAAaF,uBAAuB,EAAW,GAAM,CACrD,EAAS,EACT,EAAa,GACb,KACJ,CACJ,CACA,GAAI,CAAC,IAED,AADA,GAASzmB,SAAS2H,aAAa,CAAC,SAAQ,EACjC/G,IAAI,CAAG,kBACd,EAAOgmB,GAAG,CAAG,EACT,GAAkB,CAClB,IAAI,EAAkB,EAAiB,GACnCZ,YAAY,EAAiBjkB,oBAC7B,GAAS,CAAe,CAEhC,CAEA,GACAzF,OAAOsJ,IAAI,CAAC,GAAO3H,OAAO,CAAC,SAAS,CAAI,EAChC,IACI,AAAS,UAAT,GAAoB,AAAS,UAAT,EACpB,CAAM,CAAC,EAAK,CAAG,CAAK,CAAC,EAAK,CAE1B,EAAO2J,YAAY,CAAC,EAAM,CAAK,CAAC,EAAK,EAGjD,GAEJ,IAAI,EAAmB,SAAS,CAAI,CACpC,CAAK,EAED,GAAI,IACA,EAAOxC,OAAO,CAAG,KACjB,EAAOyhB,MAAM,CAAG,KAChBN,YAAY,WACP,SAAuC,KAAK,EAAI,EAAOO,UAAS,GAAM,EAAOA,UAAU,CAACC,WAAW,CAAC,EACzG,GACI,GAAM,CAEN,IAAI,EAAM,EAAK,GAEf,OADA,IACO,CACX,CAEJ,GACJ,EAGA,OAFA,EAAO3hB,OAAO,CAAG,EAAiB4hB,IAAI,CAAC,KAAM,EAAO5hB,OAAO,EAC3D,EAAOyhB,MAAM,CAAG,EAAiBG,IAAI,CAAC,KAAM,EAAOH,MAAM,EAClD,CACH7e,OAAQ,EACRif,WAAY,CAChB,CACJ,CACA,SAASxmB,WAAW,CAAG,CAAE,CAAI,EACzB,IAAI,EAAQ,EAAKP,KAAK,CAAE,EAAmB,EAAKL,gBAAgB,CAChE,OAAO,IAAIP,QAAQ,SAAS,CAAO,CAAE,CAAO,EACxC,IAAI,EAAgBuC,aAAa,EAAK,EAAS,EAAO,GAAmB,EAAS,EAAcmG,MAAM,AACtG,AADqH,GAAcif,UAAU,EAC/HjnB,SAAS0mB,oBAAoB,CAAC,OAAO,CAAC,EAAE,CAAC7e,WAAW,CAAC,EACvE,EACJ,CAEA,SAASqf,qBAAqB,CAAG,CAAE,CAAG,EAC9B,CAAO,MAAP,GAAe,EAAM,EAAIlpB,MAAM,AAAD,GAAG,GAAM,EAAIA,MAAM,AAAD,EACpD,IAAI,IAAI,EAAI,EAAG,EAAO,AAAI0G,MAAM,GAAM,EAAI,EAAK,IAAI,CAAI,CAAC,EAAE,CAAG,CAAG,CAAC,EAAE,CACnE,OAAO,CACX,CACA,SAASyiB,kBAAkB,CAAG,EAC1B,GAAIziB,MAAM8F,OAAO,CAAC,GAAM,OAAO,CACnC,CACA,SAAS4c,mBAAmB,CAAG,CAAE,CAAO,CAAE,CAAM,CAAE,CAAK,CAAE,CAAM,CAAE,CAAG,CAAE,CAAG,EACrE,GAAI,CACA,IAAI,EAAO,CAAG,CAAC,EAAI,CAAC,GAChB,EAAQ,EAAK3qB,KAAK,AAC1B,CAAE,MAAO,EAAO,CACZ,EAAO,GACP,MACJ,CACI,EAAKqnB,IAAI,CACT,EAAQ,GAERxkB,QAAQC,OAAO,CAAC,GAAOY,IAAI,CAAC,EAAO,EAE3C,CACA,SAASknB,oBAAoB,CAAE,EAC3B,OAAO,WACH,IAAI,EAAO,IAAI,CAAE,EAAOzoB,UACxB,OAAO,IAAIU,QAAQ,SAAS,CAAO,CAAE,CAAM,EACvC,IAAI,EAAM,EAAGJ,KAAK,CAAC,EAAM,GACzB,SAAS,EAAM,CAAK,EAChBkoB,mBAAmB,EAAK,EAAS,EAAQ,EAAO,EAAQ,OAAQ,EACpE,CACA,SAAS,EAAO,CAAG,EACfA,mBAAmB,EAAK,EAAS,EAAQ,EAAO,EAAQ,QAAS,EACrE,CACA,EAAM9jB,KAAAA,EACV,EACJ,CACJ,CACA,SAASgkB,yBAAyB,CAAG,CAAE,CAAC,EACpC,IAKI,EAAI,EALJ,EAAK,AAAO,MAAP,EAAc,KAAO,AAAkB,aAAlB,OAAO1E,QAA0B,CAAG,CAACA,OAAOC,QAAQ,CAAC,EAAI,CAAG,CAAC,aAAa,CACxG,GAAI,AAAM,MAAN,GACJ,IAAI,EAAO,EAAE,CACT,EAAK,GACL,EAAK,GAET,GAAI,CACA,IAAI,EAAK,EAAG5jB,IAAI,CAAC,GAAM,CAAE,GAAM,GAAK,EAAG4kB,IAAI,EAAC,EAAGC,IAAG,IAC9C,EAAKzlB,IAAI,CAAC,EAAG5B,KAAK,EACd,IAAK,EAAKuB,MAAM,GAAK,GAFyB,EAAK,IAI/D,CAAE,MAAO,EAAK,CACV,EAAK,GACL,EAAK,CACT,QAAS,CACL,GAAI,CACI,CAAC,GAAM,AAAgB,MAAhB,EAAG,MAAS,EAAU,EAAG,MAAS,EACjD,QAAS,CACL,GAAI,EAAI,MAAM,CAClB,CACJ,CACA,OAAO,EACX,CACA,SAASupB,qBACL,MAAM,AAAIhF,UAAU,6IACxB,CACA,SAASiF,iBAAiB,CAAG,CAAE,CAAC,EAC5B,OAAOL,kBAAkB,IAAQG,yBAAyB,EAAK,IAAMG,+BAA+B,EAAK,IAAMF,oBACnH,CACA,SAASE,+BAA+B,CAAC,CAAE,CAAM,EAC7C,GAAK,GACL,GAAI,AAAa,UAAb,OAAO,EAAgB,OAAOP,qBAAqB,EAAG,GAC1D,IAAI,EAAI5qB,OAAOyC,SAAS,CAACoX,QAAQ,CAAClX,IAAI,CAAC,GAAGgkB,KAAK,CAAC,EAAG,IAEnD,GADU,WAAN,GAAkB,EAAE5f,WAAW,EAAE,GAAI,EAAEA,WAAW,CAACnG,IAAI,AAAD,EACtD,AAAM,QAAN,GAAe,AAAM,QAAN,EAAa,OAAOwH,MAAMC,IAAI,CAAC,GAClD,GAAI,AAAM,cAAN,GAAqB,2CAA2Cue,IAAI,CAAC,GAAI,OAAOgE,qBAAqB,EAAG,GAChH,CACA,SAASQ,cAAc,CAAO,CAAE,CAAI,EAChC,IAAI,EAAG,EAAG,EAAG,EAAG,EAAI,CAChBvB,MAAO,EACPC,KAAM,WACF,GAAI,AAAO,EAAP,CAAC,CAAC,EAAE,CAAM,MAAM,CAAC,CAAC,EAAE,CACxB,OAAO,CAAC,CAAC,EAAE,AACf,EACAC,KAAM,EAAE,CACR9T,IAAK,EAAE,AACX,EACA,OAAO,EAAI,CACPsR,KAAM,EAAK,GACX,MAAS,EAAK,GACd,OAAU,EAAK,EACnB,EAAG,AAAkB,YAAlB,OAAOjB,QAA0B,EAAC,CAACA,OAAOC,QAAQ,CAAC,CAAG,WACrD,OAAO,IAAI,AACf,GAAI,EACJ,SAAS,EAAK,CAAC,EACX,OAAO,SAAS,CAAC,EACb,OAAO,EAAK,CACR,EACA,EACH,CACL,CACJ,CACA,SAAS,EAAK,CAAE,EACZ,GAAI,EAAG,MAAM,AAAIN,UAAU,mCAC3B,KAAM,GAAE,GAAI,CACR,GAAI,EAAI,EAAG,GAAM,GAAI,AAAQ,EAAR,CAAE,CAAC,EAAE,CAAO,EAAE,MAAS,CAAG,CAAE,CAAC,EAAE,CAAG,EAAE,KAAQ,EAAM,IAAI,EAAE,MAAQ,GAAM,EAAEtjB,IAAI,CAAC,GAAI,GAAK,EAAE4kB,IAAG,GAAM,CAAE,GAAI,EAAE5kB,IAAI,CAAC,EAAG,CAAE,CAAC,EAAE,GAAG6kB,IAAI,CAAE,OAAO,EAK3J,OAJI,EAAI,EAAJ,AAAO,GAAG,GAAK,CACf,AAAQ,EAAR,CAAE,CAAC,EAAE,CACL,EAAErnB,KAAK,CACV,A,EACM,CAAE,CAAC,EAAE,EACR,KAAK,EACL,KAAK,EACD,EAAI,EACJ,KACJ,MAAK,EAED,OADA,EAAE0pB,KAAK,GACA,CACH1pB,MAAO,CAAE,CAAC,EAAE,CACZqnB,KAAM,EACV,CACJ,MAAK,EACD,EAAEqC,KAAK,GACP,EAAI,CAAE,CAAC,EAAE,CACT,EAAK,CACD,EACH,CACD,QACJ,MAAK,EACD,EAAK,EAAE5T,GAAG,CAAC+T,GAAG,GACd,EAAED,IAAI,CAACC,GAAG,GACV,QACJ,SACI,GAAM,CAAY,GAAI,AAAhB,GAAI,EAAED,IAAI,AAAD,EAASroB,MAAM,CAAG,GAAK,CAAC,CAAC,EAAEA,MAAM,CAAG,EAAC,GAAO,CAAU,IAAV,CAAE,CAAC,EAAE,EAAU,AAAU,IAAV,CAAE,CAAC,EAAE,AAAK,EAAI,CACpF,EAAI,EACJ,QACJ,CACA,GAAI,AAAU,IAAV,CAAE,CAAC,EAAE,EAAW,EAAC,GAAK,CAAE,CAAC,EAAE,CAAG,CAAC,CAAC,EAAE,EAAI,CAAE,CAAC,EAAE,CAAG,CAAC,CAAC,EAAC,EAAI,CACrD,EAAEmoB,KAAK,CAAG,CAAE,CAAC,EAAE,CACf,KACJ,CACA,GAAI,AAAU,IAAV,CAAE,CAAC,EAAE,EAAU,EAAEA,KAAK,CAAG,CAAC,CAAC,EAAE,CAAE,CAC/B,EAAEA,KAAK,CAAG,CAAC,CAAC,EAAE,CACd,EAAI,EACJ,KACJ,CACA,GAAI,GAAK,EAAEA,KAAK,CAAG,CAAC,CAAC,EAAE,CAAE,CACrB,EAAEA,KAAK,CAAG,CAAC,CAAC,EAAE,CACd,EAAE5T,GAAG,CAAClU,IAAI,CAAC,GACX,KACJ,CACI,CAAC,CAAC,EAAE,EAAE,EAAEkU,GAAG,CAAC+T,GAAG,GACnB,EAAED,IAAI,CAACC,GAAG,GACV,QACR,CACA,EAAK,EAAKrnB,IAAI,CAAC,EAAS,EAC5B,CAAE,MAAO,EAAG,CACR,EAAK,CACD,EACA,EACH,CACD,EAAI,CACR,QAAS,CACL,EAAI,EAAI,CACZ,CACA,GAAI,AAAQ,EAAR,CAAE,CAAC,EAAE,CAAM,MAAM,CAAE,CAAC,EAAE,CAC1B,MAAO,CACHxC,MAAO,CAAE,CAAC,EAAE,CAAG,CAAE,CAAC,EAAE,CAAG,KAAK,EAC5BqnB,KAAM,EACV,CACJ,CACJ,CACA,SAAS6D,iBAAiB,CAAI,EAC1B,GAAI,CAAC,EACD,MAAM,AAAIxW,MAAM,gCAGpB,OAAO,AADY,AAAI1R,SAAS,OAAQ,uBACpB,GAAMU,IAAI,CAAC,SAAS,CAAG,EACvC,OAAO,EAAIynB,OAAO,AACtB,GAAGpnB,KAAK,CAAC,SAAS,CAAK,EAEnB,MADAF,QAAQ4E,KAAK,CAAC,0BAA0Bse,MAAM,CAAC,EAAM,KAAM,GACrD,CACV,EACJ,CACA,SAASqE,iBAAiBrmB,GAAG,CAAE0e,EAAE,CAAEhgB,KAAK,CAAEL,gBAAgB,EACtD,GAAIA,iBAAkB,CAClB,IAKAioB,OALIC,WAAaloB,iBAAiB2B,KAC9BumB,YAAc,AAAsB,UAAtB,OAAOA,YAA2B,QAASA,YACzDvmB,CAAAA,IAAMumB,WAAWvmB,GAAG,AAAD,CAE3B,CAEA,GAAI,CACAsmB,OAAS,IAAIzT,IAAI7S,IACrB,CAAE,MAAO9B,EAAG,CACRY,QAAQ4E,KAAK,CAAC,0BAA2BxF,GACzCwgB,GAAG,AAAI/O,MAAM,gBAAgBqS,MAAM,CAAC9jB,KACpC,MACJ,CACA,IAAIsoB,SAAW,WACX,IAAI,EAAOX,oBAAoB,WAC3B,IAAI,EACJ,OAAOK,cAAc,IAAI,CAAE,SAAS,CAAM,EACtC,OAAO,EAAOvB,KAAK,EACf,KAAK,EACD,GAAI,AAAmB,aAAjB,OAAO7X,MAAwB,MAAO,CACxC,EACA,EACH,CACD,MAAO,CACH,EACAqZ,iBAAiB,cACpB,AACL,MAAK,EAGD,MAAO,CACH,EACC,OAJL,GAAc,EAAOvB,IAAI,EAAC,EAI4B,KAAK,EAAI,EAAYwB,OAAM,GAAM,EACtF,AACL,MAAK,EACD,MAAO,CACH,EACAtZ,MACH,AACL,MAAK,EACD,MAAO,CACH,EACH,AACT,CACJ,EACJ,GACA,OAAO,WACH,OAAO,EAAKpP,KAAK,CAAC,IAAI,CAAEN,UAC5B,CACJ,IACA0B,QAAQC,GAAG,CAAC,WAAYunB,OAAOtT,IAAI,EACnCwT,WAAW7nB,IAAI,CAAC,SAAS8a,CAAC,EACtBA,EAAE6M,OAAOtT,IAAI,EAAErU,IAAI,CAAC,SAAS,CAAG,EAC5B,OAAO,EAAI8nB,IAAI,EACnB,GAAG9nB,IAAI,CAAC,WACJ,IAAI+nB,KAAOb,oBAAoB,SAASpjB,IAAI,EACxC,IAAIikB,KAAM3C,KAAM4C,GAAIC,cAAeC,WAAYC,SAAUtgB,OAAQugB,kBAAmBC,UACpF,OAAOd,cAAc,IAAI,CAAE,SAASe,MAAM,EACtC,OAAOA,OAAOtC,KAAK,EACf,KAAK,EACD,MAAO,CACH,EACA7mB,QAAQ+Q,GAAG,CAAC,CACRsX,iBAAiB,QACjBA,iBAAiB,MACpB,EACJ,AACL,MAAK,EACDO,KAAOV,iBAAiBtoB,KAAK,CAAC,KAAK,EAAG,CAClCupB,OAAOrC,IAAI,GACX,EACH,EAAGb,KAAO2C,IAAI,CAAC,EAAE,CAAEC,GAAKD,IAAI,CAAC,EAAE,CAChCE,cAAgB,CACZ5rB,QAAS,CAAC,EACV6K,OAAQ,CACJ7K,QAAS,CAAC,CACd,CACJ,EACA6rB,WAAaP,OAAOY,QAAQ,CAACrf,KAAK,CAAC,KAAK4Z,KAAK,CAAC,EAAG,IAAInG,IAAI,CAAC,KAC1DwL,SAAW/C,KAAKoD,QAAQ,CAACb,OAAOY,QAAQ,EACxC,GAAI,CAMA,GALA1gB,OAAS,IAAImgB,GAAGS,MAAM,CAAC,+DAA+DpF,MAAM,CAACvf,KAAM,QAAS,CACxGqkB,SAAUA,QACd,GACAtgB,OAAO6gB,gBAAgB,GAAGT,cAAc5rB,OAAO,CAAE4rB,cAAc/gB,MAAM,CAAEyhB,KAAK,WAAYT,WAAYC,UACpGC,kBAAoBH,cAAc/gB,MAAM,CAAC7K,OAAO,EAAI4rB,cAAc5rB,OAAO,CACrE0D,OAASqoB,mBAAqBroB,MAAM,UAAa,CAGjD,OAFAsoB,UAAYD,iBAAiB,CAACroB,MAAM,UAAa,CAAC,CAClDggB,GAAG5c,KAAAA,EAAWklB,WACP,CACH,EACH,CAELtI,GAAG5c,KAAAA,EAAWilB,kBAClB,CAAE,MAAO7oB,EAAG,CAERwgB,GAAG,AAAI/O,MAAM,2BAA2BqS,MAAM,CAAC9jB,IACnD,CACA,MAAO,CACH,EACH,AACT,CACJ,EACJ,GACA,OAAO,SAAS,CAAI,EAChB,OAAOwoB,KAAKhpB,KAAK,CAAC,IAAI,CAAEN,UAC5B,CACJ,KAAK4B,KAAK,CAAC,SAAS,CAAG,EAEnB0f,GAAG,EACP,EACJ,EACJ,CACA,SAASjgB,eAAe,CAAG,CAAE,CAAI,EAC7B,OAAO,IAAIX,QAAQ,SAAS,CAAO,CAAE,CAAM,EACvCuoB,iBAAiB,EAAK,SAAS,CAAK,CAAE,CAAa,EAC/C,GAAI,EACA,EAAO,OACJ,CAEH,IADI,EAAa,EACb,EAAkB,SAAmC,KAAK,EAAK,AAA8B,OAA9B,GAAc,EAAK3nB,KAAI,GAAe,AAAgB,KAAK,IAArB,EAAyB,KAAK,EAAI,EAAY,UAAY,GAAM,gBAAgBsjB,MAAM,CAAC,QAAmC,KAAK,EAAK,AAA+B,OAA/B,GAAe,EAAKtjB,KAAI,GAAe,AAAiB,KAAK,IAAtB,EAA0B,KAAK,EAAI,EAAa,IAAO,CAAE,aAE7U,EADmBuW,UAAU,CAAC,EAAe,CAAG,EAEpD,CACJ,EAAG,EAAKvW,KAAK,CAAE,EAAKL,gBAAgB,CACxC,EACJ,CAEArD,QAAQ+kB,eAAe,CAAGA,gBAC1B/kB,QAAQglB,iBAAiB,CAAGA,kBAC5BhlB,QAAQslB,uBAAuB,CAAGA,wBAClCtlB,QAAQ6kB,wBAAwB,CAAGA,yBACnC7kB,QAAQ4mB,MAAM,CAAGA,OACjB5mB,QAAQ8kB,YAAY,CAAGA,aACvB9kB,QAAQqlB,gBAAgB,CAAGA,iBAC3BrlB,QAAQilB,mBAAmB,CAAGA,oBAC9BjlB,QAAQulB,SAAS,CAAGA,UACpBvlB,QAAQ6D,MAAM,CAAGA,OACjB7D,QAAQuE,uBAAuB,CAAGA,wBAClCvE,QAAQqF,YAAY,CAAGA,aACvBrF,QAAQqrB,gBAAgB,CAAGA,iBAC3BrrB,QAAQ8nB,UAAU,CAAGA,WACrB9nB,QAAQ6nB,UAAU,CAAGA,WACrB7nB,QAAQ0I,KAAK,CAAGA,MAChB1I,QAAQ+nB,sBAAsB,CAAGA,uBACjC/nB,QAAQgoB,qBAAqB,CAAGA,sBAChChoB,QAAQqS,4BAA4B,CAAGA,6BACvCrS,QAAQ2lB,aAAa,CAAGA,cACxB3lB,QAAQ+L,cAAc,CAAGA,eACzB/L,QAAQ4X,YAAY,CAAGA,aACvB5X,QAAQkZ,WAAW,CAAGA,YACtBlZ,QAAQsN,kBAAkB,CAAGA,mBAC7BtN,QAAQiqB,sBAAsB,CAAGA,uBACjCjqB,QAAQiE,UAAU,CAAGA,WACrBjE,QAAQyD,cAAc,CAAGA,eACzBzD,QAAQ4nB,MAAM,CAAGA,OACjB5nB,QAAQ2nB,UAAU,CAAGA,WACrB3nB,QAAQ+pB,WAAW,CAAGA,YACtB/pB,QAAQ2oB,qBAAqB,CAAGA,sBAChC3oB,QAAQ6I,IAAI,CAAGA,I,oBCtlCf,aAEA/I,OAAOC,cAAc,CAACC,EAAS,aAAc,CAAEC,MAAO,EAAK,GAE3D,IAAIssB,EAAqB,qBACrBC,EAA6B,CAC7B,SACH,AAEDxsB,CAAAA,EAAQusB,kBAAkB,CAAGA,EAC7BvsB,EAAQwsB,0BAA0B,CAAGA,C,sBCVrC,aAEA,IAAIC,EAAU,EAAQ,OAClBtsB,EAAM,EAAQ,OACdusB,EAAW,EAAQ,OAsBvB,SAASC,EAAoBC,CAAc,EAClCA,EAAeC,CAAC,GAAID,EAAeE,UAAU,CAACC,sBAAsB,EAAKH,EAAeE,UAAU,CAACnU,QAAQ,EAAKiU,EAAeE,UAAU,CAACnU,QAAQ,CAAC7S,aAAa,GAGrK8mB,EAAeC,CAAC,CAAGD,EAAeE,UAAU,CAACnU,QAAQ,CAAC7S,aAAa,CACnE8mB,EAAeE,UAAU,CAACC,sBAAsB,CAAG,GACvD,CAEA,SAAS1sB,EAAQqF,CAAO,EACpB,IAAIsnB,EAAUtnB,EAAQsnB,OAAO,CAAEtW,EAAWhR,EAAQgR,QAAQ,CAAEuW,EAAevnB,EAAQunB,YAAY,CAAEC,EAA6BxnB,EAAQwnB,0BAA0B,CAAEN,EAAiBlnB,EAAQknB,cAAc,CAAEO,EAAgBznB,EAAQynB,aAAa,CAChPR,EAAoBC,GAChBA,EAAeQ,CAAC,CAACH,EAAcD,IAC/BC,CAAY,CAACD,EAAQ,CAACvrB,OAAO,CAAC,SAASnB,CAAE,EACrC,IAAI+sB,EAAWT,EAAeU,CAAC,AAC3B,EAACD,GACDA,CAAAA,EAAW,EAAE,AAAD,EAEhB,IAAI5lB,EAAOylB,CAA0B,CAAC5sB,EAAG,CACrCitB,EAAcJ,CAAa,CAAC7sB,EAAG,CAEnC,IAAI+sB,CAAAA,EAAS3e,OAAO,CAACjH,IAAS,IAK9B,GADA4lB,EAASxrB,IAAI,CAAC4F,GACVA,EAAK2U,CAAC,CACN,OAAO1F,EAAS7U,IAAI,CAAC4F,EAAK2U,CAAC,EAE/B,IAAIoR,EAAU,SAAS9kB,CAAK,EACpB,CAACA,GACDA,CAAAA,EAAQ,AAAIiM,MAAM,oBAAmB,EAEZ,UAAzB,OAAOjM,EAAM+kB,OAAO,EACpB/kB,CAAAA,EAAM+kB,OAAO,EAAI,oBAAoBzG,MAAM,CAACvf,CAAI,CAAC,EAAE,CAAE,WAAWuf,MAAM,CAACvf,CAAI,CAAC,EAAE,GAElFmlB,EAAec,CAAC,CAACptB,EAAG,CAAG,WACnB,MAAMoI,CACV,EACAjB,EAAK2U,CAAC,CAAG,CACb,EACIuR,EAAiB,SAAS1mB,CAAE,CAAE2mB,CAAI,CAAEC,CAAI,CAAEC,CAAC,CAAEzG,CAAI,CAAE0G,CAAK,EACxD,GAAI,CACA,IAAIC,EAAU/mB,EAAG2mB,EAAMC,GACvB,GAAIG,CAAAA,IAAWA,EAAQrqB,IAAI,CAUvB,OAAO0jB,EAAK2G,EAASF,EAAGC,GATxB,IAAI3R,EAAI4R,EAAQrqB,IAAI,CAAC,SAAS+D,CAAM,EAChC,OAAO2f,EAAK3f,EAAQomB,EACxB,EAAGN,GACH,IAAIO,EAGA,OAAO3R,EAFP1F,EAAS7U,IAAI,CAAC4F,EAAK2U,CAAC,CAAGA,EAOnC,CAAE,MAAO1T,EAAO,CACZ8kB,EAAQ9kB,EACZ,CACJ,EACIulB,EAAa,SAASC,CAAQ,CAAE7N,CAAC,CAAE0N,CAAK,EACxC,OAAOG,EAAWP,EAAef,EAAeuB,CAAC,CAAE1mB,CAAI,CAAC,EAAE,CAAE,EAAGymB,EAAUE,EAAeL,GAASP,GACrG,EAEIY,EAAgB,SAAS/N,CAAC,CAAE6N,CAAQ,CAAEH,CAAK,EAC3C,OAAOJ,EAAeO,EAASzoB,GAAG,CAAEgC,CAAI,CAAC,EAAE,CAAE4lB,EAAU,EAAGgB,EAAWN,EACzE,EAEIM,EAAY,SAAS9Z,CAAO,EAC5B9M,EAAK2U,CAAC,CAAG,EACTwQ,EAAec,CAAC,CAACptB,EAAG,CAAG,SAAS,CAAM,EAClC,EAAON,OAAO,CAAGuU,GACrB,CACJ,EACI+Z,EAAiB,WACjB,GAAI,CAEA,IAAIC,EAAmBC,AADNruB,EAAI2nB,UAAU,CAACyF,CAAW,CAAC,EAAE,CAAC7sB,IAAI,CAAEgsB,EAASH,kBAAkB,EAC5C9kB,CAAI,CAAC,EAAE,CAACgf,KAAK,CAAC,GAClD,OAAOmG,EAAeE,UAAU,CAACnU,QAAQ,CAACvD,UAAU,CAACmZ,EAAkB,CACnE5oB,YAAa,GACbwC,KAAM,OACV,EACJ,CAAE,MAAOO,EAAO,CACZ8kB,EAAQ9kB,EACZ,CACJ,EACI+lB,EAAiBlB,AAAuB,IAAvBA,EAAY/rB,MAAM,EAAU,CAC7C,SACH,CAACuV,QAAQ,CAACwW,CAAW,CAAC,EAAE,CAACmB,YAAY,GAAKnB,CAAW,CAAC,EAAE,CAAC7sB,IAAI,CAC1D+tB,EACAd,EAAeW,EAAgB7mB,CAAI,CAAC,EAAE,CAAE,EAAG,EAAG4mB,EAAW,GAEzDV,EAAef,EAAgBnlB,CAAI,CAAC,EAAE,CAAE,EAAG,EAAGwmB,EAAY,GAElE,EAER,CAEA,SAASU,EAASjpB,CAAO,EACrB,IAAIsnB,EAAUtnB,EAAQsnB,OAAO,CAAEtW,EAAWhR,EAAQgR,QAAQ,CAAEuW,EAAevnB,EAAQunB,YAAY,CAAE2B,EAAmBlpB,EAAQkpB,gBAAgB,CAAEC,EAAyBnpB,EAAQmpB,sBAAsB,CAAEjC,EAAiBlnB,EAAQknB,cAAc,CAC9OD,EAAoBC,GAChBA,EAAeQ,CAAC,CAACH,EAAcD,IAC/BC,CAAY,CAACD,EAAQ,CAACvrB,OAAO,CAAC,SAASnB,CAAE,EACrC,GAAIssB,EAAeQ,CAAC,CAACwB,EAAkBtuB,GACnC,OAAOoW,EAAS7U,IAAI,CAAC+sB,CAAgB,CAACtuB,EAAG,EAE7C,IAAI+tB,EAAY,SAAS9Z,CAAO,EAC5Bqa,CAAgB,CAACtuB,EAAG,CAAG,EACvBssB,EAAec,CAAC,CAACptB,EAAG,CAAG,SAAS,CAAM,EAClC,OAAOssB,EAAekC,CAAC,CAACxuB,EAAG,CAC3B,EAAON,OAAO,CAAGuU,GACrB,CACJ,EACIiZ,EAAU,SAAS9kB,CAAK,EACxB,OAAOkmB,CAAgB,CAACtuB,EAAG,CAC3BssB,EAAec,CAAC,CAACptB,EAAG,CAAG,SAAS,CAAM,EAElC,MADA,OAAOssB,EAAekC,CAAC,CAACxuB,EAAG,CACrBoI,CACV,CACJ,EACA,GAAI,CACA,IAAIqmB,EAAqBnC,EAAeE,UAAU,CAACnU,QAAQ,CAC3D,GAAI,CAACoW,EACD,MAAM,AAAIpa,MAAM,kCAEpB,IAAIqa,EAA6BH,CAAsB,CAACvuB,EAAG,CAAE2uB,EAAWD,EAA2BC,QAAQ,CAAEC,EAASF,EAA2BE,MAAM,CAAErf,EAAYmf,EAA2Bnf,SAAS,CACrMme,EAAUe,EAAmBvb,SAAS,CAACyb,EAAUpf,GAAWlM,IAAI,CAAC,SAAS4Q,CAAO,QACjF,AAAIA,AAAY,KAAZA,EACO2a,IAEJ3a,CACX,EACIyZ,CAAAA,EAAQrqB,IAAI,CACZ+S,EAAS7U,IAAI,CAAC+sB,CAAgB,CAACtuB,EAAG,CAAG0tB,EAAQrqB,IAAI,CAAC0qB,GAAWrqB,KAAK,CAACwpB,IAGnEa,EAAUL,EAElB,CAAE,MAAO9qB,EAAG,CACRsqB,EAAQtqB,EACZ,CACJ,EAER,CAEA,SAAS4Q,EAAkBqb,CAAK,EAC5B,IAAInZ,EAAiBmZ,EAAMnZ,cAAc,CAAE4W,EAAiBuC,EAAMvC,cAAc,CAAEwC,EAAeD,EAAMC,YAAY,CAAEC,EAAaF,EAAME,UAAU,CAAErpB,EAAYmpB,EAAMnpB,SAAS,AAC3K,EAACA,GAAWA,CAAAA,EAAY,EAAE,AAAD,EAE7B,IAAIspB,EAAYD,CAAU,CAACrZ,EAAe,CAE1C,GADI,CAACsZ,GAAWA,CAAAA,EAAYD,CAAU,CAACrZ,EAAe,CAAG,CAAC,IACtDhQ,CAAAA,EAAU0I,OAAO,CAAC4gB,IAAc,IACpCtpB,EAAUnE,IAAI,CAACytB,GACf,IAAItB,EAAUoB,CAAY,CAACpZ,EAAe,CAC1C,GAAIgY,EAAS,OAAOA,EACpB,IAAInlB,EAAO,SAASwQ,CAAG,EACnB,MAAO,AAAmB,aAAnB,OAAOvV,SAA2BA,QAAQ+E,IAAI,EAAI/E,QAAQ+E,IAAI,CAACwQ,EAC1E,EACIkW,EAAe,SAASjvB,CAAE,EAC1B,IAAIkvB,EAAc,SAASrd,CAAG,EAC1B,OAAOtJ,EAAK,8CAAgDsJ,EAChE,EACA,GAAI,CACA,IAAI,EAASya,EAAetsB,GAC5B,GAAI,CAAC,EAAQ,OACb,IAAIqW,EAAS,SAAS,CAAM,EACxB,OAAO,GAAU,EAAOnQ,IAAI,EAC5B,EAAOA,IAAI,CAAComB,EAAeC,CAAC,CAAC7W,EAAe,CAAEhQ,EAClD,EACA,GAAI,EAAOrC,IAAI,CAAE,OAAO+S,EAAS7U,IAAI,CAAC,EAAO8B,IAAI,CAACgT,EAAQ6Y,IAC1D,IAAIC,EAAa9Y,EAAO,GAExB,GAAI8Y,GAAc,AAAsB,WAAtB,OAAOA,GAA4BA,EAAW9rB,IAAI,CACpE,OAAO+S,EAAS7U,IAAI,CAAC4tB,EAAW,KAAQ,CAACD,GAC7C,CAAE,MAAOrd,EAAK,CACVqd,EAAYrd,EAChB,CACJ,EACIuE,EAAWkW,EAAeE,UAAU,CAACnU,QAAQ,CAAC7E,iBAAiB,CAACkC,GACpE2W,EAAoBC,GACpB,IAAI8C,EAA+B9C,EAAeE,UAAU,CAAC6C,qBAAqB,CAACtvB,OAAO,OAe1F,CAdIqvB,GACA5vB,OAAOsJ,IAAI,CAACsmB,EAA6BvC,aAAa,EAAE1rB,OAAO,CAAC,SAASmuB,CAAQ,EAC7E,IAAIpW,EAAOkW,EAA6BvC,aAAa,CAACyC,EAAS,CAC3DC,EAAmBH,EAA6BxC,0BAA0B,CAAC0C,EAAS,CAAC,EAAE,CAC3F,GAAIpW,EAAKhY,MAAM,CAAG,EACd+tB,EAAaM,QACV,GAAIrW,AAAgB,IAAhBA,EAAKhY,MAAM,CAAQ,CAC1B,IAAI2C,EAAaqV,CAAI,CAAC,EAAE,AACpB,EAACkT,EAASF,0BAA0B,CAACzV,QAAQ,CAAC5S,EAAWuqB,YAAY,GACrEa,EAAaM,EAErB,CACJ,GAECnZ,EAASlV,MAAM,EAGb4tB,CAAY,CAACpZ,EAAe,CAAGlT,QAAQ+Q,GAAG,CAAC6C,GAAU/S,IAAI,CAAC,WAC7D,OAAOyrB,CAAY,CAACpZ,EAAe,CAAG,EAC1C,GAJWoZ,CAAY,CAACpZ,EAAe,CAAG,GAK9C,CAEA,SAAS8Z,EAAsBpqB,CAAO,EAClC,IAAIkqB,EAAWlqB,EAAQkqB,QAAQ,CAAEf,EAAyBnpB,EAAQmpB,sBAAsB,CACpFE,EAAqBnC,AADkFlnB,EAAQknB,cAAc,CACzFE,UAAU,CAACnU,QAAQ,CAC3D,GAAI,CAACoW,EACD,MAAM,AAAIpa,MAAM,kCAEpB,IAAIob,EAAmClB,CAAsB,CAACe,EAAS,CAAEX,EAAWc,EAAiCd,QAAQ,CAAEpf,EAAYkgB,EAAiClgB,SAAS,CACrL,OAAOkf,EAAmBra,aAAa,CAACua,EAAUpf,EACtD,CACA,SAASmgB,EAAuBtqB,CAAO,EACnC,IAAImpB,EAAyBnpB,EAAQmpB,sBAAsB,CAAEjC,EAAiBlnB,EAAQknB,cAAc,CAAEgC,EAAmBlpB,EAAQkpB,gBAAgB,CACjJqB,AADqKvqB,EAAQuqB,eAAe,CAC5KxuB,OAAO,CAAC,SAASnB,CAAE,EAC/BssB,EAAec,CAAC,CAACptB,EAAG,CAAG,SAAS,CAAM,EAElCsuB,CAAgB,CAACtuB,EAAG,CAAG,EACvB,OAAOssB,EAAekC,CAAC,CAACxuB,EAAG,CAC3B,IAAIiU,EAAUub,EAAsB,CAChCF,SAAUtvB,EACVuuB,uBAAwBA,EACxBjC,eAAgBA,CACpB,GACA,GAAI,AAAmB,YAAnB,OAAOrY,EACP,MAAM,AAAII,MAAM,yDAAyDqS,MAAM,CAAC1mB,GAEpF,GAAON,OAAO,CAAGuU,GACrB,CACJ,EACJ,CAEA,SAAS4T,EAAiB+H,CAAG,CAAE5tB,CAAG,CAAErC,CAAK,EAWrC,OAVIqC,KAAO4tB,EACPpwB,OAAOC,cAAc,CAACmwB,EAAK5tB,EAAK,CAC5BrC,MAAOA,EACPkG,WAAY,GACZ2T,aAAc,GACdC,SAAU,EACd,GAEAmW,CAAG,CAAC5tB,EAAI,CAAGrC,EAERiwB,CACX,CACA,SAAS9H,EAAelmB,CAAM,EAC1B,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUZ,MAAM,CAAEW,IAAI,CACrC,IAAIE,EAASD,AAAgB,MAAhBA,SAAS,CAACD,EAAE,CAAWC,SAAS,CAACD,EAAE,CAAG,CAAC,EAChDomB,EAAUzoB,OAAOsJ,IAAI,CAAC/G,EACkB,aAAxC,OAAOvC,OAAOuoB,qBAAqB,EACnCE,CAAAA,EAAUA,EAAQvB,MAAM,CAAClnB,OAAOuoB,qBAAqB,CAAChmB,GAAQyM,MAAM,CAAC,SAASqhB,CAAG,EAC7E,OAAOrwB,OAAOwoB,wBAAwB,CAACjmB,EAAQ8tB,GAAKhqB,UAAU,AAClE,GAAE,EAENoiB,EAAQ9mB,OAAO,CAAC,SAASa,CAAG,EACxB6lB,EAAiBjmB,EAAQI,EAAKD,CAAM,CAACC,EAAI,CAC7C,EACJ,CACA,OAAOJ,CACX,CACA,SAASkuB,EAAmB1qB,CAAO,EAC/B,IAAIknB,EAAiBlnB,EAAQknB,cAAc,CAAEjoB,EAAae,EAAQf,UAAU,CAAEqB,EAAYN,EAAQM,SAAS,CAAEqqB,EAAgB3qB,EAAQ2qB,aAAa,CAAEpqB,EAAyBP,EAAQO,sBAAsB,CAC3M,IAAI,CAAC2mB,EAAeC,CAAC,CACrB,IAAI,AAACD,EAAeE,UAAU,EAAKF,EAAeE,UAAU,CAACnU,QAAQ,EAAKiU,EAAeE,UAAU,CAACzZ,WAAW,EAC/G,IAAI0b,EAAqBnC,EAAeE,UAAU,CAACnU,QAAQ,CACvDjY,EAAO2vB,GAAiB,UAW5B,OAVAtB,EAAmB1b,WAAW,CAAC+U,EAAe,CAC1C1nB,KAAMksB,EAAeE,UAAU,CAACzZ,WAAW,CAAC3S,IAAI,CAChDL,QAAS,EAAE,AACf,EAAG4F,IACH8oB,EAAmB/X,iBAAiB,CAACtW,EAAMiE,GAC3CioB,EAAeC,CAAC,CAACnsB,EAAK,CAAGiE,EACrBioB,EAAeE,UAAU,CAACH,mBAAmB,EAC7CC,EAAeE,UAAU,CAACH,mBAAmB,CAACC,GAG3CA,EAAeuB,CAAC,CAACztB,EAAMsF,GAbyF,CAc3H,CAEA,IAAI8mB,EAAa,CACbL,QAzRkC6D,AAlBtC,SAASA,EAAkBptB,CAAC,EAC1B,GAAIA,GAAKA,EAAEqtB,UAAU,CAAE,OAAOrtB,EAC9B,IAAIme,EAAIvhB,OAAO0wB,MAAM,CAAC,MAatB,OAZIttB,GACFpD,OAAOsJ,IAAI,CAAClG,GAAGzB,OAAO,CAAC,SAAUgvB,CAAC,EAChC,GAAIA,AAAM,YAANA,EAAiB,CACnB,IAAI3C,EAAIhuB,OAAOwoB,wBAAwB,CAACplB,EAAGutB,GAC3C3wB,OAAOC,cAAc,CAACshB,EAAGoP,EAAG3C,EAAEroB,GAAG,CAAGqoB,EAAI,CACtC3nB,WAAY,GACZV,IAAK,WAAc,OAAOvC,CAAC,CAACutB,EAAE,AAAE,CAClC,EACF,CACF,GAEFpP,EAAE,OAAU,CAAGne,EACRpD,OAAO4wB,MAAM,CAACrP,EACvB,EAEwDoL,GA0RpD9T,SAAU7R,KAAAA,EACVuM,YAAavM,KAAAA,EACb6pB,eAAgB,CACZtwB,QAASA,EACTsuB,SAAUA,EACVR,EAAGra,EACH+Y,EAAG,CAAC,EACJmD,uBAAwBA,EACxBI,mBAAoBA,CACxB,EACAzD,oBAAqBA,EACrBgD,sBAAuB,CAAC,CAC5B,CAEA9kB,CAAAA,EAAO7K,OAAO,CAAG8sB,C,kBChUjB,IAAM8D,EAAU,CACZ,OAAS,YACT,MAAQ,OACR,QAAU,UACV,KAAO,SACX,CAEAC,CAAAA,MAAMC,UAAU,CAAG,SAASC,CAAG,EAC3B,IAAMC,EAAO,CAAC,EA0Cd,IAAI,IAAI1uB,KAxCR0uB,EAAKtwB,IAAI,CAAGqwB,EAAIrwB,IAAI,CACpBswB,EAAKC,eAAe,CAAGF,EAAIG,WAAW,CACtCF,EAAKG,cAAc,CAAGJ,EAAIK,eAAe,CACzCJ,EAAKK,KAAK,CAAGT,CAAO,CAACG,EAAIM,KAAK,EAAI,UAAU,CAC5CL,EAAKM,QAAQ,CAAGP,EAAIO,QAAQ,EAAI,UAChCN,EAAKO,cAAc,CAAGR,EAAIQ,cAAc,CACxCP,EAAKQ,IAAI,CAAGT,EAAIS,IAAI,CAEpBR,EAAKS,UAAU,CAAG,WACd,IAAI,CAACC,MAAM,CAAG,CAAC,EACf,IAAIC,EAAW,IAAI,CAACC,OAAO,CAAG,CAAC,EAC3BC,EAAQ,IAAI,AAGhB,KAAI,CAACC,UAAU,CAAG,SAAS1E,CAAC,EACxB,IAAI,IAAI9qB,KAAO8qB,EACXuE,CAAQ,CAACrvB,EAAI,CAAG8qB,CAAC,CAAC9qB,EAAI,CACtBuvB,EAAME,eAAe,CAACzvB,EAE9B,EAGA,IAAI,CAAC0vB,aAAa,CAAI,YACf,IAAI,CAACC,OAAO,CAACC,gBAAgB,EAAI,IAAI,CAACC,SAAS,EAAI,IAAI,CAACA,SAAS,CAACC,cAAc,EAC/E,IAAI,CAACH,OAAO,CAACC,gBAAgB,CAACF,aAAa,CAAC,IAAI,CAACG,SAAS,CAACC,cAAc,CAAC1xB,IAAI,CAAE,IAAI,CAACJ,EAAE,CAC/F,GAAGkqB,IAAI,CAAC,IAAI,EAEZ,IAAI,CAAC6H,WAAW,CAAI,UAAS3xB,CAAI,CAAC+sB,CAAO,EAClC,IAAI,CAACwE,OAAO,CAACC,gBAAgB,EAAI,IAAI,CAACC,SAAS,EAAI,IAAI,CAACA,SAAS,CAACC,cAAc,EAC/E,IAAI,CAACH,OAAO,CAACC,gBAAgB,CAACG,WAAW,CAAC,IAAI,CAACF,SAAS,CAACC,cAAc,CAAC1xB,IAAI,CAAE,IAAI,CAACJ,EAAE,CAAEI,EAAM,CACzF+sB,QAASA,CACb,EACR,GAAGjD,IAAI,CAAC,IAAI,EAEiB,YAA1B,OAAOuG,EAAIU,UAAU,EACpBV,EAAIU,UAAU,CAAC/uB,KAAK,CAAC,IAAI,CACjC,EACAsuB,EAAKU,MAAM,CAAG,CAAC,EACfV,EAAKY,OAAO,CAAG,CAAC,EAEDb,EAAIW,MAAM,CACrBV,EAAKU,MAAM,CAACpvB,EAAI,CAAG,CACf8B,KAAM,AAA2B,UAA3B,OAAO2sB,EAAIW,MAAM,CAACpvB,EAAI,CAAeyuB,EAAIW,MAAM,CAACpvB,EAAI,CAAC8B,IAAI,CAAC2sB,EAAIW,MAAM,CAACpvB,EAAI,CAC/E4uB,YAAa,AAA2B,UAA3B,OAAOH,EAAIW,MAAM,CAACpvB,EAAI,CAAeyuB,EAAIW,MAAM,CAACpvB,EAAI,CAAC4uB,WAAW,CAACpqB,KAAAA,EAC9EwrB,MAAO,AAA2B,UAA3B,OAAOvB,EAAIW,MAAM,CAACpvB,EAAI,CAAeyuB,EAAIW,MAAM,CAACpvB,EAAI,CAACgwB,KAAK,CAACxrB,KAAAA,EAClEskB,QAAS,AAA2B,UAA3B,OAAO2F,EAAIW,MAAM,CAACpvB,EAAI,CAAeyuB,EAAIW,MAAM,CAACpvB,EAAI,CAAC8oB,OAAO,CAACtkB,KAAAA,EACtEoL,IAAK,WAAa,IAAMqgB,EAAOjwB,EAAK,OAAO,SAASrC,CAAK,EACrD,IAAI,CAACyxB,MAAM,CAACa,EAAK,CAAGtyB,EACjB8wB,EAAIyB,OAAO,EAAI,AAA6B,YAA7B,OAAOzB,EAAIyB,OAAO,CAACD,EAAK,EACtCxB,EAAIyB,OAAO,CAACD,EAAK,CAAC7vB,KAAK,CAAC,IAAI,CAAC,CAACzC,EAAM,CAE5C,CAAC,GACL,EAGJ,IAAI,IAAIqC,KAAOyuB,EAAI0B,OAAO,CACtBzB,EAAKU,MAAM,CAACpvB,EAAI,CAAG,CACf8B,KAAK,SACL8sB,YAAa,AAA4B,UAA5B,OAAOH,EAAI0B,OAAO,CAACnwB,EAAI,CAAeyuB,EAAI0B,OAAO,CAACnwB,EAAI,CAAC4uB,WAAW,CAACpqB,KAAAA,EAChFwrB,MAAO,AAA4B,UAA5B,OAAOvB,EAAI0B,OAAO,CAACnwB,EAAI,CAAeyuB,EAAI0B,OAAO,CAACnwB,EAAI,CAACgwB,KAAK,CAACxrB,KAAAA,EACpE4rB,mBAAoB,WAAa,IAAMH,EAAOjwB,EAAK,OAAO,WACtD,IAAMqwB,EAAO,AAA6B,UAA7B,OAAO5B,EAAI0B,OAAO,CAACF,EAAK,CAAexB,EAAI0B,OAAO,CAACF,EAAK,CAACK,MAAM,CAAC7B,EAAI0B,OAAO,CAACF,EAAK,AAC5E,aAAf,OAAOI,GACN,IAAI,CAACE,8BAA8B,CAAC,KAChCF,EAAIjwB,KAAK,CAAC,IAAI,CAClB,EAER,CAAC,GACL,EAGJ,IAAI,IAAIJ,KAAOyuB,EAAIa,OAAO,CACnBb,AAAqB,WAArBA,EAAIa,OAAO,CAACtvB,EAAI,CACf0uB,EAAKY,OAAO,CAACtvB,EAAI,CAAG,CAChB8B,KAAK,QACT,EAGA4sB,EAAKY,OAAO,CAACtvB,EAAI,CAAG,CAChB8B,KAAM,AAA4B,UAA5B,OAAO2sB,EAAIa,OAAO,CAACtvB,EAAI,CAAeyuB,EAAIa,OAAO,CAACtvB,EAAI,CAAC8B,IAAI,CAAC2sB,EAAIa,OAAO,CAACtvB,EAAI,CAClF4uB,YAAa,AAA4B,UAA5B,OAAOH,EAAIa,OAAO,CAACtvB,EAAI,CAAeyuB,EAAIa,OAAO,CAACtvB,EAAI,CAAC4uB,WAAW,CAACpqB,KAAAA,EAChFwrB,MAAO,AAA4B,UAA5B,OAAOvB,EAAIa,OAAO,CAACtvB,EAAI,CAAeyuB,EAAIa,OAAO,CAACtvB,EAAI,CAACgwB,KAAK,CAACxrB,KAAAA,EACpEooB,OAAQ,WAAa,IAAMqD,EAAOjwB,EAAK,OAAO,WAC1C,OAAO,IAAI,CAACsvB,OAAO,CAACW,EAAK,AAC7B,CAAC,GACL,EAKR,IAAI,IAAIjwB,KADR0uB,EAAK8B,OAAO,CAAG9B,EAAK+B,mBAAmB,CAAG,CAAC,EAC5BhC,EAAI+B,OAAO,CACtB9B,EAAK+B,mBAAmB,CAACzwB,EAAI,CAAGyuB,EAAI+B,OAAO,CAACxwB,EAAI,CASpD,OAPG0uB,EAAK8B,OAAO,CAACE,aAAa,EACzBhC,CAAAA,EAAK8B,OAAO,CAACG,cAAc,CAAG,WAC1B,IAAI,CAACC,SAAS,CAACA,SAAS,CAACD,cAAc,CAACxwB,IAAI,CAAC,IAAI,EACjDuuB,EAAK8B,OAAO,CAACE,aAAa,CAAC/yB,KAAK,CAACwC,IAAI,CAAC,IAAI,CAC9C,GAGG,CAAC0wB,KAAKnC,EAAKoC,MAAMrC,EAAIqC,KAAK,CACrC,EAEAvC,MAAMwC,oBAAoB,CAAG,SAAStC,CAAG,EACrC,IAAMC,EAAO,CACTtwB,KAAKqwB,EAAIrwB,IAAI,CACb4wB,SAASP,EAAIO,QAAQ,CACrBD,MAAM,OACNK,OAAOX,EAAIW,MAAM,CACjBE,QAAQ9xB,OAAOmC,MAAM,CAAC,CAClBqxB,MAAM,QACN,gBAAgB,SAChB,kBAAkB,QACtB,EAAEvC,EAAIa,OAAO,EAAE,CAAC,GAChBa,QAAQ3yB,OAAOmC,MAAM,CAAC,CAClBsxB,MAAM,WACF,IAAI1B,EAAQ,IAAI,CAChB,IAAI,CAAC2B,kBAAkB,CAAC,iBACxB,IAAIrQ,EAAI4N,EAAIjf,KAAK,CAACrP,IAAI,CAAC,IAAI,CAAC,WACxBovB,EAAM2B,kBAAkB,CAAC,kBAC7B,GACA,IAAI,CAAC1B,UAAU,CAAC,CACZwB,MAAMnQ,CACV,EACJ,CACJ,EAAE4N,EAAI0B,OAAO,EAAE,CAAC,EACpB,EAEA,OAAO5B,MAAMC,UAAU,CAACE,EAC5B,EAEAH,MAAM4C,eAAe,CAAG,SAAS1C,CAAG,EAChC,IAAMC,EAAO,CACTtwB,KAAKqwB,EAAIrwB,IAAI,CACb4wB,SAASP,EAAIO,QAAQ,CACrBD,MAAM,OACNK,OAAO,CACHgC,GAAG,QACP,EACA9B,QAAQ,CACJ+B,QAAQ,QACZ,EACAnB,QAAQ,CACJkB,GAAG,SAASzzB,CAAK,EACV,IAAI,CAAC2zB,OAAO,EAAI,IAAI,CAACC,eAAe,EACnC,IAAI,CAACD,OAAO,CAACE,GAAG,CAAC,SAAS,IAAI,CAACD,eAAe,EAElD,IAAI,CAACD,OAAO,CAAG/C,MAAM/wB,MAAM,CAAC2F,GAAG,CAACxF,GAChC,IAAI,CAAC4zB,eAAe,CAAG,CAACnzB,EAAKT,KACzB,IAAM8zB,EAAK,CAAC,CACZA,CAAAA,CAAE,CAACrzB,EAAK,CAAGT,EACX,IAAI,CAAC6xB,UAAU,CAACiC,EACpB,EACA,IAAI,CAACH,OAAO,CAAC5sB,EAAE,CAAC,SAAS,IAAI,CAAC6sB,eAAe,EAE7C,IAAI,CAAC/B,UAAU,CAAC,IAAI,CAAC8B,OAAO,CAACnsB,IAAI,EACjC,IAAI,CAAC+rB,kBAAkB,CAAC,UAC5B,CACJ,EACA/B,WAAW,WAEX,CACJ,EAEA,IAAI,IAAInvB,KAAOyuB,EAAIiD,UAAU,CACzBhD,EAAKU,MAAM,CAACpvB,EAAI,CAAGyuB,EAAIiD,UAAU,CAAC1xB,EAAI,CACtC0uB,EAAKY,OAAO,CAACtvB,EAAI,CAAGyuB,EAAIiD,UAAU,CAAC1xB,EAAI,CACvC0uB,EAAKwB,OAAO,CAAClwB,EAAI,CAAI,WAAa,IAAMiwB,EAAOjwB,EAAK,OAAO,SAASrC,CAAK,EACjE,IAAI,CAAC2zB,OAAO,EAChB,IAAI,CAACA,OAAO,CAAC1hB,GAAG,CAACqgB,EAAKtyB,EAC1B,CAAC,IAGL,OAAO4wB,MAAMC,UAAU,CAACE,EAC5B,EAEAH,MAAMoD,eAAe,CAAG,SAASlD,CAAG,EAChC,IAAIC,EAAOH,MAAMC,UAAU,CAACC,GAS5B,OAPAC,EAAKmC,IAAI,CAACe,iBAAiB,CAAGnD,EAAImD,iBAAiB,CACnDlD,EAAKmC,IAAI,CAACgB,UAAU,CAAGpD,EAAIoD,UAAU,CACrCnD,EAAKmC,IAAI,CAACiB,QAAQ,CAAGrD,EAAIqD,QAAQ,CACjCpD,EAAKmC,IAAI,CAACkB,WAAW,CAAGtD,EAAIsD,WAAW,CACvCrD,EAAKmC,IAAI,CAACC,KAAK,CAAGrC,EAAIqC,KAAK,CAC3BpC,EAAKmC,IAAI,CAACmB,KAAK,CAAGvD,EAAIuD,KAAK,CAEpBtD,EAAKmC,IAAI,AACpB,EAEAtoB,EAAO7K,OAAO,CAAG6wB,K,yDC7LjB,IAAM0D,EAAQ,CAAC,A,SAAA,OAAS,CAAC,CAEzBzc,OAAO+Y,KAAK,CAAC2D,YAAY,CAAC,CAAED,MAAOA,EAAMrqB,GAAG,CAAC,AAAA/H,GAAK,KAAA2uB,UAAA,EAAW3uB,GAAI,E,0GCTjE,EAAe,KAAAsyB,MAAA,EAAO,QAAS,OAAQ,CACnC,SAAU,CAEN5pB,OAAQ,8CACR6mB,OAAQ,KAAAgD,QAAA,EAAS,QAAS,CAAC,QAAS,UAAW,UAAW,QAAS,YAAY,EAC/E9C,QAAS,KAAA8C,QAAA,EAAS,SAAU,CAAC,QAAS,WAAY,UAAU,CAChE,CACJ,E,0iBCJA,SAASC,iBAAiB,CAAoB,CAAE,CAAoB,CAAE,CAAmB,CAAE,CAAU,EACjG,IAAM,EAAK,EAAUzD,WAAW,CAC1B,EAAiB,EAAU9sB,IAAI,CACjC,EAAsB,qDAAO,GACjC,GAAI,GAAS,IAAgB,EAAW,CACpC,IAAM,EAAU,CAAC,OAAO,EAAE,EAAG,aAAa,EAAE,EAAU,QAAQ,EAAE,EAAY,CAAC,CAAC,AAC1E,AAAc,YAAd,EACI,CAAC,CAAC,SAAU,SAAS,CAAC2S,QAAQ,CAAC,IAAc,0CAAAsb,WAAA,EAAY,EAAM,EAAS,EAAI,GAC7E,0CAAAA,WAAA,EAAY,EAAM,EAAS,EAAI,EAC1C,KAAO,0CAAAuC,YAAA,EAAa,EAAM,EAAS,EACvC,CAEA,oCAAyBzB,IAAoB,CAAElB,OAAoB,CAAE4C,SAAmB,CAAE50B,KAAU,EAChG,IAAM60B,YAAmB,qDAAO70B,OAC1B80B,GAAKF,UAAU3D,WAAW,CAEhC,GAAI4D,AAAgB,cAAhBA,YAA6B,KAQI,mBAgBzB,wBAvBJE,aACJ,IAAIC,cAAgB,GACpB,GAAIJ,AAAmB,UAAnBA,UAAUzwB,IAAI,EAAgB0wB,AAAgB,WAAhBA,YAA0B,CACxDG,cAAgB,GAEhB,GAAI,CACA,IAAMC,UAAY5I,KAAKrsB,MACnB,CAAAi1B,CAAAA,MAAAA,UAAA,OAAAA,UAAW1zB,MAAM,AAAD,GAAC,CAAqB,OAAjB,oBAAAqzB,UAAUM,OAAO,AAAD,GAAhB,sDAAmB3sB,QAAQ,AAAD,GAE3C,AAAA0sB,CAAAA,MAAAA,UAAA,OAAAA,UAAW1zB,MAAM,AAAD,EAAI,EACpB,0CAAA6wB,WAAA,EAAYc,KAAMlB,QAAS8C,GAAI,CAAC,OAAO,EAAEA,GAAG,8BAA8B,EAAEG,MAAAA,UAAA,OAAAA,UAAW1zB,MAAM,CAAC,CAAC,EAE1F,AAAA0zB,CAAAA,MAAAA,UAAA,OAAAA,UAAW1zB,MAAM,AAAD,IAAM,GAAK,AAAwB,UAAxB,OAAO0zB,SAAS,CAAC,EAAE,CACnD,0CAAA7C,WAAA,EAAYc,KAAMlB,QAAS8C,GAAI,CAAC,OAAO,EAAEA,GAAG,8BAA8B,EAAE,qDAAOG,SAAS,CAAC,EAAE,EAAE,CAAC,CAAC,EAClG,0CAAAN,YAAA,EAAazB,KAAMlB,QAAS8C,IACjCC,aAAeE,SAAS,CAAC,EAAE,EAG1BF,aAAeE,SACxB,CAAE,MAAOxsB,MAAY,CAAE,0CAAA2pB,WAAA,EAAYc,KAAMlB,QAAS8C,GAAI,CAAC,OAAO,EAAEA,GAAG,aAAa,EAAErsB,MAAM+kB,OAAO,CAAC,CAAC,CAAC,CAAE,CACxG,KAA2B,UAAhBqH,cACPG,cAAgB,GAEZ,CAAiB,OAAjB,qBAAAJ,UAAUM,OAAO,AAAD,GAAhB,wDAAmB3sB,QAAQ,AAAD,GAEtB,AAAAvI,CAAAA,MAAAA,MAAA,OAAAA,MAAOuB,MAAM,AAAD,EAAI,EAAG,0CAAA6wB,WAAA,EAAYc,KAAMlB,QAAS8C,GAAI,CAAC,OAAO,EAAEA,GAAG,8BAA8B,EAAE90B,MAAAA,MAAA,OAAAA,MAAOuB,MAAM,CAAC,CAAC,EAEzG,AAAAvB,CAAAA,MAAAA,MAAA,OAAAA,MAAOuB,MAAM,AAAD,IAAM,GAAK,AAAoB,UAApB,OAAOvB,KAAK,CAAC,EAAE,CAC3C,0CAAAoyB,WAAA,EAAYc,KAAMlB,QAAS8C,GAAI,CAAC,OAAO,EAAEA,GAAG,8BAA8B,EAAE,qDAAO90B,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,EAC9F,0CAAA20B,YAAA,EAAazB,KAAMlB,QAAS8C,IACjCC,aAAe/0B,KAAK,CAAC,EAAE,EACpB+0B,aAAe/0B,OAoB1B,GAjBuB,aAAnB40B,UAAUzwB,IAAI,GACd6wB,cAAgB,GAChBD,aAAe/0B,MAAMiK,GAAG,CAAC,AAAC,GAAW,EAAEyf,KAAK,GAG5C1pB,MAAMm1B,IAAI,GACVH,cAAgB,GAChBD,aAAe/0B,MAAMA,KAAK,CAAGA,MAAMm1B,IAAI,EAGpB,aAAnBP,UAAUn0B,IAAI,GACdu0B,cAAgB,GAChBD,aAAe/0B,MACV,iDAAAo1B,OAAA,EAAQp1B,OACR,0CAAA20B,YAAA,EAAazB,KAAMlB,QAAS8C,IADZ,0CAAA1C,WAAA,EAAYc,KAAMlB,QAAS8C,GAAI,CAAC,aAAa,EAAEC,aAAa,oBAAoB,CAAC,GAItGC,cAAe,OAAOD,aAE1B,GAAI,CAACC,cAED,OADAN,iBAAiBxB,KAAMlB,QAAS4C,UAAWG,cACpC/0B,KAEf,CACJ,C,qHC3EA,WAAyBkzB,CAAoB,CAAElB,CAAoB,CAAEqD,CAAwB,CAAEC,CAA4B,EACvH,IAAMC,EAA8B,EAAE,CAwDtC,OArDAD,EAAiBzmB,MAAM,CAAC,AAAA3M,I,IAAK,EAAmD,E,MAAnD,CAAS,OAAT,GAAAA,EAAEgzB,OAAO,AAAD,GAAR,oBAAWM,QAAQ,AAAD,GAAK,CAAC,SAAU,OAAO,CAAC1e,QAAQ,CAAC,AAAS,OAAT,GAAA5U,EAAEgzB,OAAO,AAAD,GAAR,oBAAWM,QAAQ,C,GAAGh0B,OAAO,CAAC,AAAAi0B,IAC1G,IAAMrU,EAAIqU,EAASh1B,IAAI,CACjBq0B,EAAKW,EAASxE,WAAW,AAC3B,eAAQiC,EAAKwC,UAAU,CAACtU,EAAE,GAAK,cAAQqU,EAAStK,OAAO,EAAG,KAAAiH,WAAA,EAAYc,EAAMlB,EAAS8C,EAAI,CAAC,yBAAyB,EAAEA,EAAG,CAAC,CAAC,EACzH,KAAAH,YAAA,EAAazB,EAAMlB,EAAS8C,EACrC,GAGA5B,EAAKwC,UAAU,CAAG,cAASxC,EAAMlB,EAASqD,EAAcnC,EAAKwC,UAAU,EAEvEJ,EAAiB9zB,OAAO,CAAC,CAACi0B,EAAUE,SAoBpB,CAlBJF,CAAAA,EAASh1B,IAAI,CAkBT,CAAgB,OAAhB,GAAAg1B,EAASP,OAAO,AAAD,GAAf,oBAAkBU,SAAS,AAAD,EACtBH,EAASP,OAAO,CAACU,SAAS,CAAC1C,EAAKwC,UAAU,GAAGH,EAAgB3zB,IAAI,CAAC6zB,GACnEF,EAAgB3zB,IAAI,CAAC6zB,EAoBxC,GACOF,CACX,C,qHC1DA,IAAMM,EAAY,CAAC,UAAW,YAAa,QAAS,SAAU,YAAa,WAAY,cAAe,eAAe,CAErH,WAAyB3C,CAAoB,CAAElB,CAAoB,CAAEP,CAA8B,CAAEqE,CAAU,EAC3G,IAAIC,EAAmB,CAAC,EAgDxB,OA9CAtE,MAAAA,GAAAA,EAAQjwB,OAAO,CAAC,AAAAU,IAAW,CAAC,cAAQ4zB,CAAK,CAAC5zB,EAAEzB,IAAI,CAAC,GAAGs1B,CAAAA,CAAW,CAAC7zB,EAAEzB,IAAI,CAAC,CAAGq1B,CAAK,CAAC5zB,EAAEzB,IAAI,CAAC,AAAD,CAAE,GAGxFgxB,MAAAA,GAAAA,EAAQjwB,OAAO,CAAC,AAAAU,IACR,cAAQ6zB,CAAW,CAAC7zB,EAAEzB,IAAI,CAAC,GAAK,CAAC,cAAQyB,EAAEipB,OAAO,IAE9C,AAAoB,UAApB,OAAQjpB,EAAEiC,IAAI,EAAkBjC,AAAgB,WAAhBA,EAAEiC,IAAI,CAAC1D,IAAI,CAC3Cs1B,CAAW,CAAC7zB,EAAEzB,IAAI,CAAC,CAAG,CAAET,MAAOkC,EAAEipB,OAAO,CAAEgK,KAAMjzB,EAAEiC,IAAI,CAAC6xB,WAAW,AAAC,EAClED,CAAW,CAAC7zB,EAAEzB,IAAI,CAAC,CAAGyB,EAAEipB,OAAO,EAGpC,CAAC,cAAQjpB,EAAEipB,OAAO,GAAK,AAAoB,UAApB,OAAQjpB,EAAEiC,IAAI,EAAkBjC,AAAgB,WAAhBA,EAAEiC,IAAI,CAAC1D,IAAI,EAAiBs1B,CAAW,CAAC7zB,EAAEzB,IAAI,CAAC,GAAKyB,EAAEipB,OAAO,EACpH4K,CAAAA,CAAW,CAAC7zB,EAAEzB,IAAI,CAAC,CAAG,CAAET,MAAOkC,EAAEipB,OAAO,CAAEgK,KAAMjzB,EAAEiC,IAAI,CAAC6xB,WAAW,AAAC,EAC3E,GAEAn2B,OAAOsJ,IAAI,CAAC4sB,GAAav0B,OAAO,CAAC,AAACy0B,I,IAGjB,EADb,IAAMC,EAAQzE,MAAAA,EAAA,OAAAA,EAAQ/vB,IAAI,CAAC,AAAAQ,GAAKA,EAAEzB,IAAI,GAAKw1B,GACvCC,GAAA,CAAsB,OAAb,GAAAA,EAAMhB,OAAO,AAAD,GAAZ,oBAAeU,SAAS,AAAD,GAAK,CAACM,EAAMhB,OAAO,CAACU,SAAS,CAACG,IAAc,OAAOA,CAAW,CAACE,EAAS,AAGhH,GAGAp2B,OAAOsJ,IAAI,CAAC2sB,GAAOjnB,MAAM,CAAC,AAAAonB,GAAYJ,EAAU/e,QAAQ,CAACmf,IAAWz0B,OAAO,CAAC,AAACy0B,IACrE,CAAC,cAAQH,CAAK,CAACG,EAAS,GAAGF,CAAAA,CAAW,CAACE,EAAS,CAAGH,CAAK,CAACG,EAAS,AAAD,CACzE,GAGAxE,MAAAA,GAAAA,EAAQ5iB,MAAM,CAAC,AAAA3M,I,IAAK,EAAuD,E,MAAvD,CAAS,OAAT,GAAAA,EAAEgzB,OAAO,AAAD,GAAR,oBAAWM,QAAQ,AAAD,GAAK,CAAC,aAAc,OAAO,CAAC1e,QAAQ,CAAC,AAAS,OAAT,GAAA5U,EAAEgzB,OAAO,AAAD,GAAR,oBAAWM,QAAQ,C,GACzFh0B,OAAO,CAAC,AAAA00B,I,IAIG,EAHR,IAAM9U,EAAI8U,EAAMz1B,IAAI,CACdq0B,EAAKoB,EAAMjF,WAAW,CACxB,cAAQ8E,CAAW,CAAC3U,EAAE,EAClB,CAAa,OAAb,GAAA8U,EAAMhB,OAAO,AAAD,GAAZ,oBAAeU,SAAS,AAAD,EACnBM,EAAMhB,OAAO,CAACU,SAAS,CAACG,IAAc,KAAA3D,WAAA,EAAYc,EAAMlB,EAAS8C,EAAI,CAAC,8BAA8B,EAAEA,EAAG,CAAC,CAAC,EAC5G,KAAA1C,WAAA,EAAYc,EAAMlB,EAAS8C,EAAI,CAAC,8BAA8B,EAAEA,EAAG,CAAC,CAAC,EAC3E,KAAAH,YAAA,EAAazB,EAAMlB,EAAS8C,EACrC,GAGJj1B,OAAOsJ,IAAI,CAAC4sB,GAAav0B,OAAO,CAAC,AAACy0B,IAC9B,IAAMC,EAAQzE,MAAAA,EAAA,OAAAA,EAAQ/vB,IAAI,CAAC,AAAAQ,GAAKA,EAAEzB,IAAI,GAAKw1B,GACvCC,GAAOH,CAAAA,CAAW,CAACE,EAAS,CAAG,cAAoB/C,EAAMlB,EAASkE,EAAOH,CAAW,CAACE,EAAS,EACtG,GAEOF,CACX,C,mCCxDO,SAAS3D,EAAYc,CAAoB,CAAElB,CAAoB,CAAEf,CAAmB,CAAEzD,CAAe,EACxGwE,EAAQC,gBAAgB,CAACG,WAAW,CAACc,EAAKiD,SAAS,CAAC11B,IAAI,CAAEyyB,EAAK7yB,EAAE,CAAE4wB,EAAa,CAAEzD,QAAAA,EAAS4I,aAAc,EAAK,EAClH,CACO,SAASzB,EAAazB,CAAoB,CAAElB,CAAoB,CAAEf,CAAmB,EACxFe,EAAQC,gBAAgB,CAAC0C,YAAY,CAACzB,EAAKiD,SAAS,CAAC11B,IAAI,CAAEyyB,EAAK7yB,EAAE,CAAE4wB,EACxE,CACO,SAASoF,EAAWC,CAAoB,E,IACL,IAAtC,IAAMC,EAAqBtuB,MAAMC,IAAI,CAAC,AAAiD,OAAjD,GAAAouB,EAAUtE,OAAO,CAACC,gBAAgB,CAACuE,cAAc,AAAD,GAAhD,kBAAkE,OAAlE,KAAmDC,eAAe,AAAD,GAAjE,oBAAoEttB,IAAI,IAC9G,OAAOotB,MAAAA,EAAA,OAAAA,EAAUG,IAAI,CAAC,AAAAx0B,GAAKA,IAAMo0B,EAAUj2B,EAAE,CACjD,C,iNCPA,WAAyB6yB,CAAoB,CAAElB,CAAoB,CAAE/rB,CAAmB,MAEhF,EACe,EACC,EAHpB,IAAIsvB,EAA8B,EAAE,CACpC,GAAI,AAAe,OAAf,GAAArC,EAAKwC,UAAU,AAAD,GAAd,oBAAiBzvB,OAAO,CAAE,CAC1B,IAAMwrB,EAAS,CAAgC,OAAhC,GAAAxrB,CAAO,CAACitB,EAAKwC,UAAU,CAACzvB,OAAO,CAAC,AAAD,GAA/B,oBAAkCwrB,MAAM,AAAD,GAAK,EAAE,CACvDE,EAAU,CAAgC,OAAhC,GAAA1rB,CAAO,CAACitB,EAAKwC,UAAU,CAACzvB,OAAO,CAAC,AAAD,GAA/B,oBAAkC0rB,OAAO,AAAD,GAAK,EAAE,CACzDgF,EAAW,IAAIlF,KAAWE,EAAQ,CAExC4D,EAAkBA,AADlBA,CAAAA,EAAkBA,EAAgBxO,MAAM,CAAC,cAAamM,EAAMlB,EAAS2E,EAAUlF,GAAO,EACpD1K,MAAM,CAAC,cAAamM,EAAMlB,EAAS2E,EAAUhF,GACnF,CACA,OAAO4D,CACX,C,+HCHO,IAAMf,EAAS,CAACoC,EAAkBvF,EAAkBjb,EAAsBiO,IACtE,EACH5jB,KAAM,CAAC,WAAW,EAAEm2B,EAAS,CAAC,CAC9B3F,YAAa2F,EACbvF,SAAAA,EACAD,MAAO,AAAA/M,CAAAA,MAAAA,EAAA,OAAAA,EAAQ+M,KAAK,AAAD,GAAK,QACxBI,WAAY,WACR,IAAI,CAACqF,gBAAgB,CAAG,CAAC,EAEzB,IAAI,CAACjE,8BAA8B,CAAC,K,IAEjB,EAAf,IAAMnB,EAAS,AAAiB,OAAjB,GAAArb,CAAQ,CADP,IAAI,CAAC0gB,SAAS,CAAC7wB,OAAO,CACN,AAAD,GAAhB,oBAAmBwrB,MAAM,AACxCA,OAAAA,GAAAA,EAAQ5iB,MAAM,CAAC,AAAA3M,GAAK,CAAC,cAAQA,EAAEipB,OAAO,GAAG3pB,OAAO,CAAC,AAAAi0B,IAC7C,IAAI,CAACsB,QAAQ,EAAI,IAAI,CAACA,QAAQ,CAACtB,EAASh1B,IAAI,CAAE,IAAI,CAACq2B,SAAS,CAACrB,EAASh1B,IAAI,CAAC,CAC/E,EACJ,EACJ,EACAoyB,QAAS,CAELmE,sBAAuB,SAAUC,CAAc,GACvC,IAAI,CAACC,QAAQ,CAACD,IAClB,IAAI,CAACE,aAAa,CAACF,EAAW,CAC1BhlB,IAAK,SAAUjS,CAAU,MAEN,EAeQ,EAhBvB,IAAMiG,EAAU,IAAI,CAAC6wB,SAAS,CAAC7wB,OAAO,CAChCwrB,EAAS,AAAiB,OAAjB,GAAArb,CAAQ,CAACnQ,EAAQ,AAAD,GAAhB,oBAAmBwrB,MAAM,CAClCgE,EAAWhE,MAAAA,EAAA,OAAAA,EAAQ/vB,IAAI,CAAC,AAAAQ,GAAKA,EAAEzB,IAAI,GAAKw2B,GAE9C,GAAI,AAAAxB,CAAAA,MAAAA,EAAA,OAAAA,EAAUtxB,IAAI,AAAD,IAAM,SAWnB,IATAstB,MAAAA,GAAAA,EAAQ5iB,MAAM,CAAC,AAAA3M,I,IAAK,EAAuD,E,MAAvD,CAAS,OAAT,GAAAA,EAAEgzB,OAAO,AAAD,GAAR,oBAAWM,QAAQ,AAAD,GAAK,CAAC,aAAc,OAAO,CAAC1e,QAAQ,CAAC,AAAS,OAAT,GAAA5U,EAAEgzB,OAAO,AAAD,GAAR,oBAAWM,QAAQ,C,GACzFh0B,OAAO,CAAC,AAAAi0B,IACL,IAAMrU,EAAIqU,EAASh1B,IAAI,CACjBq0B,EAAKW,EAASxE,WAAW,CAC3B,cAAQ,IAAI,CAAC6F,SAAS,CAAC1V,EAAE,EACzB,KAAAgR,WAAA,EAAY,IAAI,CAACgF,KAAK,CAAE,IAAI,CAACpF,OAAO,CAAE8C,EAAI,CAAC,8BAA8B,EAAEA,EAAG,CAAC,CAAC,EAC/E,KAAAH,YAAA,EAAa,IAAI,CAACyC,KAAK,CAAE,IAAI,CAACpF,OAAO,CAAE8C,EAChD,GAEA,CAAC,KAAAuB,UAAA,EAAW,IAAI,GAAKr2B,EAAO,CAC5B,IAAM4K,EAAS,AAAiB,OAAjB,GAAAwL,CAAQ,CAACnQ,EAAQ,AAAD,GAAhB,oBAAmB2E,MAAM,CAClCzG,EAAe,cAAOyG,EACf,aAATzG,GAAoByG,EAAOlH,IAAI,CAAC,AAAC2zB,IAC7BA,EAAElM,OAAO,CAAC8L,EAAU,EAAEI,EAAElM,OAAO,CAAC8L,EAAU,CAAC,IAAI,CAAE,IAAI,CAACH,SAAS,CACvE,GACa,WAAT3yB,GAAqByG,CAAM,CAACqsB,EAAU,EAAErsB,CAAM,CAACqsB,EAAU,CAAC,IAAI,CAAE,IAAI,CAACH,SAAS,CACtF,OACG,IAAI,CAACC,QAAQ,CAACE,EAAWj3B,EACpC,CACJ,EACJ,EACA+2B,SAASE,CAAiB,CAAEj3B,CAAU,E,IAEnB,EAAf,IAAMyxB,EAAS,AAAiB,OAAjB,GAAArb,CAAQ,CADP,IAAI,CAAC0gB,SAAS,CAAC7wB,OAAO,CACN,AAAD,GAAhB,oBAAmBwrB,MAAM,CAClCgE,EAAWhE,MAAAA,EAAA,OAAAA,EAAQ/vB,IAAI,CAAC,AAAAQ,GAAKA,EAAEzB,IAAI,GAAKw2B,GAC1C,cAAQj3B,GAEH,cAAQy1B,MAAAA,EAAA,OAAAA,EAAUtK,OAAO,EACzB,OAAO,IAAI,CAAC2L,SAAS,CAACG,EAAU,CADJ,IAAI,CAACH,SAAS,CAACG,EAAU,CAAGxB,MAAAA,EAAA,OAAAA,EAAUtK,OAAO,CAE3E,IAAI,CAAC2L,SAAS,CAACG,EAAU,CAAGj3B,CACvC,EAEAs3B,uBAAwB,SAAU72B,CAAS,GACnC,IAAI,CAAC82B,SAAS,CAAC92B,IACnB,IAAI,CAAC+2B,cAAc,CAAC/2B,EAAM,CAAEwuB,OAAQ,K,IAAM,E,OAAqB,OAArB,OAAI,CAAC4H,gBAAgB,AAAD,GAApB,mBAAuB,CAACp2B,EAAK,A,CAAC,EAC5E,CAuBJ,EACA0yB,MAAO,SAAUnB,CAAoB,CAAEyF,CAAsB,EACpDzF,EAAQC,gBAAgB,EAAKD,EAAQC,gBAAgB,CAACyF,gBAAgB,IAE3ED,EAAW1wB,EAAE,CAAC,CAAC,qBAAqB,EAAE6vB,EAAS,CAAC,CAAE,SAAU1D,CAAoB,EAC5E,IAAMyE,EAAc,CAChBl3B,KAAM,UAAWwwB,YAAa,WAAYoB,MAAO,UAAWuF,KAAM,QAASpC,SAAU,GAAMzmB,MAAO,EAClG5K,KAAM,CACF1D,KAAM,OAAQo3B,cAAe,GAAMC,MAAOj4B,OAAOsJ,IAAI,CAACiN,GAAUnM,GAAG,CAAC,AAAA/H,I,IACvC,EAA8B,E,MAAtD,CAAElC,MAAOkC,EAAGwnB,MAAOxnB,EAAK,EAAW,OAAX,GAAAkU,CAAQ,CAAClU,EAAE,AAAD,GAAV,oBAAa61B,OAAO,AAAD,EAAI,MAAkB,OAAX,GAAA3hB,CAAQ,CAAClU,EAAE,AAAD,GAAV,oBAAa61B,OAAO,AAAD,EAAI,GAAI,C,EAE1F,CACJ,CAGI,EAAC7E,EAAKwC,UAAU,CAACzvB,OAAO,EAAE,KAAAmsB,WAAA,EAAYc,EAAMlB,EAAS,UAAW,kBACpEA,EAAQC,gBAAgB,CAAC+F,gBAAgB,CAAC9E,EAAK7yB,EAAE,CAAE,CAACs3B,KAAgB,cAAezE,EAAMlB,EAAS5b,GAAU,EAG5G8c,EAAKnsB,EAAE,CAAC,mBAAoB,WACnBmsB,EAAKwC,UAAU,CAACzvB,OAAO,CAGrB,KAAA0uB,YAAA,EAAazB,EAAMlB,EAAS,YAF/BA,EAAQC,gBAAgB,CAACF,aAAa,CAACmB,EAAKiD,SAAS,CAAC11B,IAAI,CAAEyyB,EAAK7yB,EAAE,EACnE,KAAA+xB,WAAA,EAAYc,EAAMlB,EAAS,UAAW,mBAE1CA,EAAQC,gBAAgB,CAAC+F,gBAAgB,CAAC9E,EAAK7yB,EAAE,CAAE,CAACs3B,KAAgB,cAAezE,EAAMlB,EAAS5b,GAAU,CAChH,EACJ,EACJ,CACJ,E,4LC5HG,IAAM0hB,EAAQ,CACjBG,MAAO,G,SAAA,SAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAK,CAAE,GACnD,C,+FCFA,WAAyBC,CAAyB,CAAEC,CAAgB,EAChE,OAAOD,EAAOjuB,GAAG,CAAC,AAAAsU,GAAM,EACpBve,MAAOue,EACPmL,MAAOyO,EAAS5Z,EAAI,KAAA6Z,YAAA,EAAa7Z,EACrC,GACJ,C,2KCGO,IAAM8Z,EAAQ,IAAI,SAAQ,IAAK,SAAI,IAAK,SAAK,IAAK,SAAU,IAAK,SAAM,IAAK,SAAM,IAAK,SAAO,CAAC,CAe/F,SAAS5D,EAASmD,CAAwB,CAAEU,CAAqB,CAAEC,CAAgC,EACtG,IAAIC,EAA0B,EAAE,CAOhC,OANAF,EAAU92B,OAAO,CAAC,AAAAi3B,IACd,IAAMtc,EAAIkc,EAAM32B,IAAI,CAAC,AAAAQ,GAAKA,EAAEzB,IAAI,GAAKg4B,GACjCtc,GAAGqc,EAAY52B,IAAI,CAAC,cAAM,CAC1B,GAAGua,CAAC,CAAEyb,KAAAA,EAAMpC,SAAU,AAAA+C,CAAAA,MAAAA,EAAA,OAAAA,EAAqBzhB,QAAQ,CAAC2hB,EAAQ,EAAI,SAAW5xB,KAAAA,CAC/E,GACJ,GACO2xB,CACX,C,uJCtBO,IAAME,EAAe,CAAC,IAAK,MAAO,KAAK,CAEvC,SAASC,EAAYb,CAA4B,CAAEc,CAA8B,EACpF,IAAIC,EAA6B,CAAEp4B,KAAM,OAAQq3B,MAAAA,CAAM,EAKvD,OAJIc,IACIA,AAAS,WAATA,EAAmBC,EAAahB,aAAa,CAAG,GAC/CgB,EAAaC,oBAAoB,CAAG,IAEtCD,CACX,CAWO,SAASE,EAAYC,CAAe,CAAEhD,CAAkB,CAAE4C,CAA8B,EAC3F,IAAIC,EAA6B,CAAEp4B,KAAM,SAAUu4B,MAAAA,EAAOhD,YAAAA,CAAY,EAKtE,OAJI4C,IACIA,AAAS,WAATA,EAAmBC,EAAahB,aAAa,CAAG,GAC/CgB,EAAaC,oBAAoB,CAAG,IAEtCD,CACX,C,gFCrCA,MAAe,CACX,CACIp4B,KAAM,cAAewwB,YAAa,eAAgBoB,MAAO,WAAYuF,KAAM,QAAS7oB,MAAO,IAC3F5K,KAAM,QAAS+wB,QAAS,CAAE3sB,SAAU,EAAK,CAC7C,EACA,CACI9H,KAAM,gBAAiBwwB,YAAa,iBAAkBoB,MAAO,WAAYuF,KAAM,QAAS7oB,MAAO,KAC/F5K,KAAM,QAAS+wB,QAAS,CAAE3sB,SAAU,EAAK,CAC7C,EACH,A,+ECTD,MAAe,CACX,CAAE9H,KAAM,QAASwwB,YAAa,QAASoB,MAAO,OAAQluB,KAAM,OAAQ,EACpE,CAAE1D,KAAM,MAAOwwB,YAAa,SAAUoB,MAAO,OAAQluB,KAAM,QAAS,EACvE,A,+FCFD,EAAe,CACX,CAAE1D,KAAM,QAASwwB,YAAa,QAASoB,MAAO,aAAcluB,KAAM,KAAA40B,WAAA,EAAY,EAAAL,YAAY,CAAE,KAAMvN,QAAS,GAAI,EAC/G,CAAE1qB,KAAM,SAAUwwB,YAAa,SAAUoB,MAAO,aAAcluB,KAAM,KAAA40B,WAAA,EAAY,EAAAL,YAAY,CAAE,KAAM,EACpG,CAAEj4B,KAAM,MAAOwwB,YAAa,YAAaoB,MAAO,aAAcluB,KAAM,KAAA40B,WAAA,EAAY,EAAAL,YAAY,CAAE,KAAMvN,QAAS,GAAI,EACpH,A,gFCLD,MAAe,CACX,CAAE1qB,KAAM,UAAWwwB,YAAa,WAAYoB,MAAO,SAAUluB,KAAM,SAAU+wB,QAAS,CAAEM,SAAU,MAAO,CAAE,EAC3G,CAAE/0B,KAAM,UAAWwwB,YAAa,UAAWoB,MAAO,SAAUluB,KAAM,QAAS+wB,QAAS,CAAE3sB,SAAU,EAAK,CAAE,EACvG,CAAE9H,KAAM,QAASwwB,YAAa,QAASoB,MAAO,SAAUluB,KAAM,QAAS+wB,QAAS,CAAE3sB,SAAU,EAAK,CAAE,EACnG,CAAE9H,KAAM,YAAawwB,YAAa,OAAQoB,MAAO,SAAUluB,KAAM,SAAUgnB,QAAS,GAAI+J,QAAS,CAAEM,SAAU,YAAa,CAAE,EAC5H,CAAE/0B,KAAM,WAAYwwB,YAAa,YAAaoB,MAAO,QAASluB,KAAM,SAAU,EACjF,A,gFCND,MAAe,CACX,CAAE1D,KAAM,QAASwwB,YAAa,QAASoB,MAAO,UAAWluB,KAAM,QAAS,EACxE,CAAE1D,KAAM,UAAWwwB,YAAa,UAAWoB,MAAO,UAAWluB,KAAM,QAAS,EAC/E,A,gFCHD,MAAe,CACX,CAAE1D,KAAM,WAAYwwB,YAAa,WAAYoB,MAAO,SAAUluB,KAAM,SAAUgnB,QAAS,EAAM,EAChG,A,8FCAD,EAAe,CACX,CAAE1qB,KAAM,SAAUwwB,YAAa,SAAUoB,MAAO,QAASluB,KAAM,G,SAAAw0B,WAAA,EAAY,EAAAb,KAAA,MAAW,CAAE,EAC3F,A,gFCNM,IAAMmB,EAAY,CACrB,WAAY,WAAY,kBAAmB,mBAAoB,kBAAmB,WAAY,aAC9F,oBAAqB,kBAAmB,eAAgB,YAAa,YAAa,WAAY,mBAC9F,wBAAyB,kBAAmB,kBAAmB,YAAa,kBAAmB,4BAC/F,aAAc,sBAAuB,YAAa,WAAY,sBAAuB,oBACrF,iBAAkB,aAAc,aAAc,cAAe,cAAe,WAAY,YAAa,kBACrG,iBAAkB,cAAe,iBAAkB,QAAS,eAAgB,gBAAiB,cAAe,gBAC5G,kBAAmB,sBAAuB,aAAc,oBAAqB,aAAc,YAAa,aACxG,YAAa,qBAAsB,WAAY,iBAAkB,gBAAiB,eAAgB,qBAClG,UAAW,WAAY,gBAAiB,kBAAmB,cAAe,qBAAsB,cAAe,YAC/G,UAAW,WAAY,eAC1B,CAEY7D,EAAU,AAAC30B,GACtB,EAAIw4B,EAAUniB,QAAQ,CAACrW,IACX,E,mCCfd,WAAyBT,CAAU,QAC/B,AAAqB,WAAjB,OAAOA,GACJ,CAASA,CACpB,C,8hDCDA,IAAMk5B,EAAN,Y,EAAMA,EAAA,G,QAAAA,G,SAAAA,EACQpD,CAAU,M,gBADlBoD,GAGF,A,eADMpD,EAAK,EACNqD,KAAK,CAAG,CAAEC,SAAU,EAAM,E,WAH7BF,EAAA,C,CAWJ,wB,MAAA,SAAkBzwB,CAAU,CAAE4wB,CAAc,EAG1Cx1B,QAAQ4E,KAAK,CAACA,EAAO4wB,EACvB,C,GAEA,a,MAAA,kBAEE,AAAI,IAAI,CAACF,KAAK,CAACC,QAAQ,CAEd,kBAAC,UAAG,yBAGN,IAAI,CAACtD,KAAK,CAACwD,QAAQ,AAC5B,C,KAnBO,+B,MAAP,SAAgC7wB,CAAU,EAExC,MAAO,CAAE2wB,SAAU,EAAK,CAC1B,C,IATIF,C,EAAsB,c,gsDCY5B,SAASK,EAAU3uB,CAAW,EAC1B,IAAMzG,EAAe,qDAAOyG,SAC5B,AAAIzG,AAAS,YAATA,EAA2B,CAC3Bq1B,KAAM,GACN5uB,OAAQ,OAAK,W,OAAMA,C,EACvB,EACIzG,AAAS,WAATA,EAA0B,CAC1Bq1B,KAAM,GACN5uB,OAAAA,CACJ,QACJ,C,sDCpBQ6uB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,E,oBAHpD,IAAMC,EAAwC,EAAE,CAC1CC,EAAqC,CAAC,OAAS,CAAC,CAAC,MAAQ,SAAS,KAAO,SAAS,MAAQ,wCAAwC,aAAe,SAAS,WAAa,SAAS,EAAE,EAClLC,EAAuC,OAEzC,GAAIC,EAAoBC,qBAAqB,EACzCD,EAAoBE,qBAAqB,CAAE,CAC3C,IAAMC,EAAW,CAAC1K,EAAK5tB,EAAKrC,KACnBiwB,GAEDA,CAAG,CAAC5tB,EAAI,EACR4tB,CAAAA,CAAG,CAAC5tB,EAAI,CAAGrC,CAAI,CACvB,EACM46B,EAAQ,CAAC3K,EAAK5tB,EAAK2E,KACrB,IAAIyyB,EAAIC,EACR,IAAM15B,EAAQgH,IACViB,MAAM8F,OAAO,CAAC/N,IACb,AAAmB,OAAnBy5B,CAAAA,EAAKxJ,CAAG,CAAC5tB,EAAG,GAAeo3B,AAAO,KAAK,IAAZA,GAAsBxJ,CAAAA,CAAG,CAAC5tB,EAAI,CAAG,EAAE,AAAD,EAC9D4tB,CAAG,CAAC5tB,EAAI,CAACT,IAAI,IAAI5B,IAEK,UAAjB,OAAOA,GAAsBA,AAAU,OAAVA,IACjC,AAAmB,OAAnB05B,CAAAA,EAAKzJ,CAAG,CAAC5tB,EAAG,GAAeq3B,AAAO,KAAK,IAAZA,GAAsBzJ,CAAAA,CAAG,CAAC5tB,EAAI,CAAG,CAAC,GAC9DxC,OAAOmC,MAAM,CAACiuB,CAAG,CAAC5tB,EAAI,CAAErC,GAEhC,EACM66B,EAAQ,CAAC5K,EAAK5tB,EAAKy4B,KACrB,IAAIrB,CACH,AAAmB,QAAnBA,CAAAA,EAAKxJ,CAAG,CAAC5tB,EAAG,GAAeo3B,AAAO,KAAK,IAAZA,GAAsBxJ,CAAAA,CAAG,CAAC5tB,EAAI,CAAGy4B,GAAQ,CACzE,EACMC,EAA8B,AAA6G,OAA7GrB,CAAAA,EAAM,AAAiD,OAAjDD,CAAAA,EAAKe,EAAoBQ,kBAAiB,GAAevB,AAAO,KAAK,IAAZA,EAAgB,KAAK,EAAIA,EAAGzM,YAAW,GAAe0M,AAAO,KAAK,IAAZA,EAAgBA,EAAK,CAAC,EACzKuB,EAA6C,AAA4H,OAA5HrB,CAAAA,EAAM,AAAiD,OAAjDD,CAAAA,EAAKa,EAAoBQ,kBAAiB,GAAerB,AAAO,KAAK,IAAZA,EAAgB,KAAK,EAAIA,EAAGuB,2BAA0B,GAAetB,AAAO,KAAK,IAAZA,EAAgBA,EAAK,CAAC,EACvMuB,EAA2C,AAA6H,OAA7HrB,CAAAA,EAAM,AAAoD,OAApDD,CAAAA,EAAKW,EAAoBC,qBAAoB,GAAeZ,AAAO,KAAK,IAAZA,EAAgB,KAAK,EAAIA,EAAGuB,yBAAwB,GAAetB,AAAO,KAAK,IAAZA,EAAgBA,EAAK,CAAC,EACtMuB,EAA+B,AAA8G,OAA9GrB,CAAAA,EAAM,AAAkD,OAAlDD,CAAAA,EAAKS,EAAoBc,mBAAkB,GAAevB,AAAO,KAAK,IAAZA,EAAgB,KAAK,EAAIA,EAAG/M,YAAW,GAAegN,AAAO,KAAK,IAAZA,EAAgBA,EAAK,CAAC,EAC3KuB,EAA6C,AAA8H,OAA9HrB,CAAAA,EAAM,AAAkD,OAAlDD,CAAAA,EAAKO,EAAoBc,mBAAkB,GAAerB,AAAO,KAAK,IAAZA,EAAgB,KAAK,EAAIA,EAAGuB,4BAA2B,GAAetB,AAAO,KAAK,IAAZA,EAAgBA,EAAK,CAAC,EACzMuB,EAAkC,CAAC,EACnCC,EAAgC,EAAE,CAClCC,EAA8B,EAAE,CAChCC,EAAuB,AAAoD,OAApDzB,CAAAA,EAAKK,EAAoBE,qBAAoB,GAAeP,AAAO,KAAK,IAAZA,EAAgB,KAAK,EAAIA,EAAGyB,mBAAmB,CACxIf,EAAML,EAAqB,aAAc,IAAM,KAC/CK,EAAML,EAAoB3N,UAAU,CAAE,wCAAyC,KAC3E,IAAMgP,EAAwC,CAAC,EAC/C,IAAK,GAAI,CAAClM,EAAUnoB,EAAK,GAAI3H,OAAOukB,OAAO,CAACmX,GACxCM,CAAqC,CAAClM,EAAS,CAAG,CAC9CV,OAAQznB,EAAKs0B,QAAQ,CACrBlsB,UAAW,CACP4G,YAAa,CACTulB,kBAAmB,GACnBjZ,gBAAiBtb,EAAKsb,eAAe,CACrCE,cAAexb,EAAKwb,aAAa,CACjCD,UAAWvb,EAAKub,SAAS,CACzB5M,MAAO3O,EAAK2O,KAAK,AACrB,EACAxC,MAAO,CAACnM,EAAK9C,UAAU,CAAC,AAC5B,EACAsqB,SAAUxnB,EAAKwnB,QAAQ,AAC3B,EAEJ,OAAO6M,CACX,GACAhB,EAAML,EAAoB3N,UAAU,CAAE,cAAe,IAAO,EAAC,IAC7DgO,EAAML,EAAoB3N,UAAU,CAACzZ,WAAW,CAAE,OAAQ,IAAMmnB,GAChEM,EAAML,EAAoB3N,UAAU,CAACzZ,WAAW,CAAE,SAAU,KACxD,IAAM1D,EAAS,CAAC,EAChB,IAAK,GAAI,CAACiE,EAAOqoB,EAAO,GAAIn8B,OAAOukB,OAAO,CAAC+W,GACvC,IAAK,IAAIc,KAASD,EACd,GAAI,AAAiB,UAAjB,OAAOC,GAAsBA,AAAU,OAAVA,EAAgB,CAC7C,GAAM,CAAEx7B,KAAAA,CAAI,CAAEwF,QAAAA,CAAO,CAAEqO,QAAAA,CAAO,CAAE6B,MAAAA,CAAK,CAAE,CAAG8lB,CACtCvsB,CAAAA,CAAM,CAACjP,EAAK,CACZiP,CAAM,CAACjP,EAAK,CAACkT,KAAK,CAAC/R,IAAI,CAAC+R,GAGxBjE,CAAM,CAACjP,EAAK,CAAG,CAAEwF,QAAAA,EAAST,IAAK8O,EAASX,MAAO,CAACA,EAAM,AAAC,CAE/D,CAGR,OAAOjE,CACX,GACAkrB,EAAMJ,EAAoB3N,UAAU,CAACzZ,WAAW,CAAE,UAAW,IAAMvT,OAAOq4B,MAAM,CAACoC,GAC5E4B,IAAI,GACJrtB,MAAM,CAAC,AAAAvO,GAAUA,AAAwB,WAAxBA,EAAOmuB,YAAY,GACzCmM,EAAMJ,EAAoB3N,UAAU,CAACzZ,WAAW,CAAE,UAAW,IAAMinB,GACnEQ,EAAML,EAAoB3N,UAAU,CAAE,wBAAyB,IAAO,EAAC,IACvEgO,EAAML,EAAoB3N,UAAU,CAAC6C,qBAAqB,CAAE,UAAW,IAAO,EAAC,IAC/EmL,EAAML,EAAoB3N,UAAU,CAAC6C,qBAAqB,CAACtvB,OAAO,CAAE,eAAgB,IAAM26B,GAC1FF,EAAML,EAAoB3N,UAAU,CAAC6C,qBAAqB,CAACtvB,OAAO,CAAE,6BAA8B,KAC9F,IAAM+7B,EAAkD,CAAC,EACzD,IAAK,GAAI,CAACxM,EAAUnoB,EAAK,GAAI3H,OAAOukB,OAAO,CAAC6W,GACxCkB,CAA+C,CAACxM,EAAS,CAAG,CACxDnoB,EAAK9C,UAAU,CACf8C,EAAK/G,IAAI,CACT+G,EAAKooB,gBAAgB,CACrBpoB,EAAK+mB,UAAU,CAClB,CAEL,OAAO4N,CACX,GACAtB,EAAML,EAAoB3N,UAAU,CAAC6C,qBAAqB,CAACtvB,OAAO,CAAE,iBAAkB,IAAMo6B,GAC5FI,EAAMJ,EAAoB3N,UAAU,CAAC6C,qBAAqB,CAACtvB,OAAO,CAAE,gBAAiB,KACjF,IAAM8sB,EAAgB,CAAC,EACvB,IAAK,GAAI,CAAC7sB,EAAI+7B,EAAW,GAAIv8B,OAAOukB,OAAO,CAAC6W,GAA4C,CACpF,IAAM1hB,EAAO+gB,CAAkC,CAAC8B,EAAW7N,UAAU,CAAC,CAClEhV,GACA2T,CAAAA,CAAa,CAAC7sB,EAAG,CAAGkZ,CAAG,CAC/B,CACA,OAAO2T,CACX,GACAyN,EAASH,EAAqB,IAAK,sBAC/B,yBACA,uBAAyD,CAACA,GAE9DG,EAASH,EAAoBhc,CAAC,CAAE,UAAW,CAACuO,EAAStW,IAAa,0BAA4D,CAAC,CAC3HsW,QAAAA,EACAtW,SAAAA,EACAuW,aAAc+N,EACd9N,2BAA4BuN,EAAoB3N,UAAU,CAAC6C,qBAAqB,CAACtvB,OAAO,CACnF6sB,0BAA0B,CAC/BC,cAAesN,EAAoB3N,UAAU,CAAC6C,qBAAqB,CAACtvB,OAAO,CACtE8sB,aAAa,CAClBP,eAAgB6N,CACpB,IACAG,EAASH,EAAoBhc,CAAC,CAAE,WAAY,CAACuO,EAAStW,IAAa,2BAA6D,CAAC,CAC7HsW,QAAAA,EACAtW,SAAAA,EACAuW,aAAcqO,EACdzM,uBAAwB4L,EAAoB3N,UAAU,CAACgP,qCAAqC,CAC5FlN,iBAAkB8M,EAClB9O,eAAgB6N,CACpB,IACAG,EAASH,EAAqB,IAAK,CAAC/5B,EAAMsF,IAAc,oBAAsD,CAAC,CAC3GgQ,eAAgBtV,EAChBsF,UAAAA,EACAopB,aAAcuM,EACdtM,WAAYuM,EACZhP,eAAgB6N,CACpB,IACAG,EAASH,EAAqB,gBAAiB,CAAC91B,EAAYqB,EAAWC,IAA2B,qCAAuE,CAAC,CACtKtB,WAAAA,EACAqB,UAAAA,EACAC,uBAAAA,EACAoqB,cAAewL,EACfjP,eAAgB6N,CACpB,IACAG,EAASH,EAAqB,eAAgB,CAAC5vB,EAAQwiB,KACnD,IAAIiP,EAAY7B,EAAoBE,qBAAqB,CAAC2B,SAAS,CAQnE,OAPA7B,EAAoBnN,CAAC,CAAGD,EACxBA,EAAWvtB,OAAOyC,SAAS,CAACC,cAAc,CAACC,IAAI,CAAC65B,EAAWzxB,GACrDyxB,CAAS,CAACzxB,EAAO,GACjB/H,QAAQC,OAAO,GAAGY,IAAI,CAAC,KACrB,MAAM,AAAIgR,MAAM,WAAa9J,EAAS,iCAC1C,GACJ4vB,EAAoBnN,CAAC,CAAGxmB,KAAAA,EACjBumB,CACX,GACA,aACI,gBAAkD,CAAC,iBAClD,CAAkD,OAAlDgN,CAAAA,EAAKI,EAAoBc,mBAAkB,GAAelB,AAAO,KAAK,IAAZA,EAAgB,KAAK,EAAIA,EAAGpK,eAAe,AAAD,GACrG,yCAA2E,CAAC,CACxErD,eAAgB6N,EAChB7L,iBAAkB8M,EAClBzL,gBAAiBwK,EAAoBc,mBAAmB,CAACtL,eAAe,CACxEpB,uBAAwB,yCAC5B,EAER,C,0iBCnKJ,IAAM0N,EAAuB,yBACvBC,EAAuB,+BAEvBC,EAA2B,wBAE3BC,EAAuB,iBAEvBC,EAAsB,WAEtBC,EAAmC,GAIlC,SAAS/vB,EAAM5M,CAAK,EACvB,IAAIyH,EAASzH,EAAM8f,IAAI,GAIvBrY,EAASA,AAHTA,CAAAA,EAASA,EACJ9G,OAAO,CAAC27B,EAAsBI,GAC9B/7B,OAAO,CAAC47B,EAAsBG,EAAmB,EACtC/7B,OAAO,CAAC87B,EAAsB,QAC9C,IAAIG,EAAQ,EACRC,EAAMp1B,EAAOlG,MAAM,CAEvB,KAAOkG,AAAyB,SAAzBA,EAAOq1B,MAAM,CAACF,IACjBA,IACJ,GAAIA,IAAUC,EACV,MAAO,EAAE,CACb,KAAOp1B,AAA2B,SAA3BA,EAAOq1B,MAAM,CAACD,EAAM,IACvBA,IACJ,OAAOp1B,EAAO+e,KAAK,CAACoW,EAAOC,GAAKjwB,KAAK,CAAC,MAC1C,CAIO,SAASmwB,EAAqB/8B,CAAK,EACtC,IAAMg9B,EAAQpwB,EAAM5M,GACpB,IAAK,IAAIkC,EAAI,EAAGA,EAAI86B,EAAMz7B,MAAM,CAAEW,IAAK,CACnC,IAAM+6B,EAAOD,CAAK,CAAC96B,EAAE,CACfyc,EAAQ6d,EAAyBU,IAAI,CAACD,GAC5C,GAAIte,EAAO,CACP,IAAMwe,EAASxe,EAAM5P,KAAK,CAAI,AAAA4P,CAAAA,CAAK,CAAC,EAAE,EAAIA,CAAK,CAAC,EAAC,EAAGpd,MAAM,CAC1Dy7B,EAAMI,MAAM,CAACl7B,EAAG,EAAG+6B,EAAKzW,KAAK,CAAC,EAAG2W,GAASF,EAAKzW,KAAK,CAAC2W,GACzD,CACJ,CACA,OAAOH,CACX,CAIO,SAAS7E,EAAOjC,CAAK,CAAEzwB,CAAO,EACjC,GAAM,CAAC43B,EAAQL,EAAOM,EAAO,CAAGC,EAAkBrH,EAAOzwB,GACzD,OAAQ43B,EACJL,EAAM/yB,GAAG,CAACuzB,EAAa/3B,GAASg4B,SAASpd,IAAI,CAAC5a,GAASi4B,WAAa,KACpEJ,CACR,CA0CO,SAASK,EAAYzH,CAAK,CAAEzwB,CAAO,EACtC,GAAM,CAAC43B,EAAQL,EAAOM,EAAO,CAAGC,EAAkBrH,EAAOzwB,GACnDm4B,EAAQJ,EAAa/3B,GAASg4B,QAC9BI,EAAQC,EAAar4B,GAASg4B,QACpC,OAAQJ,EACJL,EACK/yB,GAAG,CAAC8zB,EAA4BH,EAAOC,IACvCxd,IAAI,CAAC5a,GAASi4B,WAAa,KAChCJ,CACR,CA+BO,SAASlF,EAAalC,CAAK,CAAEzwB,CAAO,EACvC,GAAM,CAAC43B,EAAQL,EAAOM,EAAO,CAAGC,EAAkBrH,EAAOzwB,GACnDm4B,EAAQJ,EAAa/3B,GAASg4B,QAE9BO,EAAYD,EAA4BH,EADhCE,EAAar4B,GAASg4B,SAEpC,OAAQJ,EACJL,EACK/yB,GAAG,CAAC,CAACgzB,EAAMluB,IACZ,AAAIA,AAAU,IAAVA,EACOivB,EAAUf,GACdW,EAAMX,IAEZ5c,IAAI,CAAC5a,GAASi4B,WAAa,KAChCJ,CACR,CAaA,SAASE,EAAaC,CAAM,EACxB,MAAOA,AAAW,KAAXA,EACD,AAACvH,GAAUA,EAAM/X,WAAW,GAC5B,AAAC+X,GAAUA,EAAM+H,iBAAiB,CAACR,EAC7C,CACA,SAASK,EAAaL,CAAM,EACxB,MAAOA,AAAW,KAAXA,EACD,AAACvH,GAAUA,EAAMgI,WAAW,GAC5B,AAAChI,GAAUA,EAAMiI,iBAAiB,CAACV,EAC7C,CACA,SAASM,EAA4BH,CAAK,CAAEC,CAAK,EAC7C,OAAO,AAACZ,GAAS,CAAC,EAAEY,EAAMZ,CAAI,CAAC,EAAE,EAAE,EAAEW,EAAMX,EAAKzW,KAAK,CAAC,IAAI,CAAC,AAC/D,CACA,SAAS4X,EAA2BR,CAAK,CAAEC,CAAK,EAC5C,MAAO,CAACZ,EAAMluB,KACV,IAAMsvB,EAAQpB,CAAI,CAAC,EAAE,CAErB,MAAOnC,AADS/rB,CAAAA,EAAQ,GAAKsvB,GAAS,KAAOA,GAAS,IAAM,IAAMA,EAAQR,EAAMQ,EAAK,EACpET,EAAMX,EAAKzW,KAAK,CAAC,GACtC,CACJ,CACA,SAAS+W,EAAkBrH,CAAK,CAAEzwB,EAAU,CAAC,CAAC,EAC1C,IAAM64B,EAAU74B,EAAQmH,KAAK,EAAKnH,CAAAA,EAAQ84B,eAAe,CAAGxB,EAAuBnwB,CAAI,EACjF4xB,EAAmB/4B,EAAQ+4B,gBAAgB,EAAI7B,EAC/C8B,EAAmBh5B,EAAQg5B,gBAAgB,EAAI9B,EACjD+B,EAAc,EACdC,EAAczI,EAAM30B,MAAM,CAC9B,KAAOm9B,EAAcxI,EAAM30B,MAAM,EAAE,CAC/B,IAAMq9B,EAAO1I,EAAM4G,MAAM,CAAC4B,GAC1B,GAAI,CAACF,EAAiB1nB,QAAQ,CAAC8nB,GAC3B,KACJF,CAAAA,GACJ,CACA,KAAOC,EAAcD,GAAa,CAC9B,IAAM3vB,EAAQ4vB,EAAc,EACtBC,EAAO1I,EAAM4G,MAAM,CAAC/tB,GAC1B,GAAI,CAAC0vB,EAAiB3nB,QAAQ,CAAC8nB,GAC3B,MACJD,EAAc5vB,CAClB,CACA,MAAO,CACHmnB,EAAM1P,KAAK,CAAC,EAAGkY,GACfJ,EAAQpI,EAAM1P,KAAK,CAACkY,EAAaC,IACjCzI,EAAM1P,KAAK,CAACmY,GACf,AACL,C,gFC/MA,IAAIE,EAAkBC,EAetB,SAASA,EAAM7O,CAAG,EAChB,IAAIxoB,EAASwoB,EACb,IAAI9rB,EAAO,EAAC,GAAEuV,QAAQ,CAAClX,IAAI,CAACytB,GAAKzJ,KAAK,CAAC,EAAG,IAC1C,GAAIriB,AAAQ,OAARA,EACF,OAAO,IAAI2D,IAAI,IAAImoB,EAAI,CAAChmB,GAAG,CAAC,AAAAjK,GAAS8+B,EAAM9+B,KAE7C,GAAImE,AAAQ,OAARA,EACF,OAAO,IAAIoO,IAAI,IAAI0d,EAAI,CAAChmB,GAAG,CAAC,AAAA80B,GAAM,CAACD,EAAMC,CAAE,CAAC,EAAE,EAAGD,EAAMC,CAAE,CAAC,EAAE,EAAE,GAEhE,GAAI56B,AAAQ,QAARA,EACF,OAAO,IAAI66B,KAAK/O,EAAIgP,OAAO,IAE7B,GAAI96B,AAAQ,UAARA,EACF,OAAO8Z,OAAOgS,EAAI7tB,MAAM,CAAE88B,EAAejP,IAE3C,GAAI9rB,AAAQ,SAARA,GAAmBA,AAAQ,UAARA,EAErB,IAAK,IAAI9B,KADToF,EAASQ,MAAM8F,OAAO,CAACkiB,GAAO,EAAE,CAAG,CAAC,EACpBA,EAEdxoB,CAAM,CAACpF,EAAI,CAAGy8B,EAAM7O,CAAG,CAAC5tB,EAAI,EAIhC,OAAOoF,CACT,CAEA,SAASy3B,EAAeC,CAAM,EAC5B,GAAI,AAA8B,UAA9B,OAAOA,EAAO/8B,MAAM,CAACg9B,KAAK,CAC5B,OAAOD,EAAO/8B,MAAM,CAACg9B,KAAK,CAE1B,IAAIA,EAAQ,EAAE,CAMd,OALAD,EAAOE,MAAM,EAAID,EAAMx9B,IAAI,CAAC,KAC5Bu9B,EAAOG,UAAU,EAAIF,EAAMx9B,IAAI,CAAC,KAChCu9B,EAAOI,SAAS,EAAIH,EAAMx9B,IAAI,CAAC,KAC/Bu9B,EAAOK,MAAM,EAAIJ,EAAMx9B,IAAI,CAAC,KAC5Bu9B,EAAOM,OAAO,EAAIL,EAAMx9B,IAAI,CAAC,KACtBw9B,EAAM/e,IAAI,CAAC,GAEtB,C,gFCrDA,IAAIqf,EAAeC,EAgBnB,SAASA,EAAO1P,CAAG,EACjB,GAAIA,AAAQ,OAARA,EACF,MAAO,OAET,GAAIA,IAAQpwB,OAAOowB,GACjB,OAAO,OAAOA,EAEhB,IAAIxoB,EAAS,EAAC,GAAEiS,QAAQ,CACrBlX,IAAI,CAACytB,GACLzJ,KAAK,CAAC,EAAG,IACTrI,WAAW,GAGd,OAAO1W,EAAOgH,OAAO,CAAC,YAAc,GAAK,WAAahH,CACxD,C"}