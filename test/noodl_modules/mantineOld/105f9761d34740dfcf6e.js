(self.webpackChunk_nodes_mantine_old=self.webpackChunk_nodes_mantine_old||[]).push([["151"],{626223:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n("333906"),o=n("836414"),l=n("265909"),u=n("296512"),a=n("742898"),i=n("909123"),c=n("215811"),f=n("719338"),d=n("163023"),s=n("684218"),m=n("308521");function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r,o,l;r=e,o=t,l=n[t],o in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l})}return e}var p=(0,r.forwardRef)(function(e,t){var n,p,y,g=window.R.utils.getValue,h=b({},(0,m.default)(e)),S=h.noodlNode,w=h.iconName,O=h.inputItems,k=h.labelField,j=h.formField,A=w&&(0,o.default)(w);var C=(n=(0,r.useState)([]),p=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var l=[],u=!0,a=!1;try{for(o=o.call(e);!(u=(n=o.next()).done)&&(l.push(n.value),!t||l.length!==t);u=!0);}catch(e){a=!0,r=e}finally{try{!u&&null!=o.return&&o.return()}finally{if(a)throw r}}return l}}(n,p)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}}(n,p)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),I=C[0],E=C[1];(0,l.useShallowEffect)(function(){!(null==O?void 0:O.length)&&E([]),O&&k&&(null==O?void 0:O.some(function(e){return g.v8(e,k)}))&&E(O.map(function(e){return(0,i.default)(e,k)}))},[O,k]);var P=(0,f.useMolecule)(d.FormHookMolecule).formHookAtom,_=(0,s.useAtomValue)(P);return(0,l.useShallowEffect)(function(){if(O){var e,t=null==_?void 0:null===(e=_.values)||void 0===e?void 0:e[j],n=O.find(function(e){return t&&[e.value,e.id,e.label].includes(t)});(0,u.sendOutput)(S,"selectedItem",n||null),(0,u.sendSignal)(S,"selected"),!t&&(0,u.sendSignal)(S,"reseted")}},[null==_?void 0:null===(y=_.values)||void 0===y?void 0:y[j]]),(0,r.useImperativeHandle)(t,function(){return{resetSelected:function(){null==_||_.setFieldValue(j,null)}}},[]),React.createElement(a.Select,b({data:I,getCreateLabel:function(e){return'+ Создать "'.concat(e,'"')},onCreate:function(e){(0,u.sendOutput)(S,"createValue",e),(0,u.sendSignal)(S,"createValueSubmited")},icon:A&&React.createElement(A,{size:h.iconSize,stroke:h.stroke}),nothingFound:"Не найдено",styles:function(){return{item:{"&[data-selected]":{"&, &:hover":{backgroundColor:(0,c.default)(h.backgroundColor)}},"&[data-hovered]":{}}}}},h,h.customProps,_.getInputProps(j)))})}}]);
//# sourceMappingURL=105f9761d34740dfcf6e.js.map