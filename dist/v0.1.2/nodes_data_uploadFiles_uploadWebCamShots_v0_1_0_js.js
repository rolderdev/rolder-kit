(self.webpackChunkrolder_kit=self.webpackChunkrolder_kit||[]).push([["nodes_data_uploadFiles_uploadWebCamShots_v0_1_0_js"],{9902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var a=n("610845");async function o(e){let{envVersion:t,project:n,debug:o}=Rolder,s=e.inputs.filesData.map(e=>e.data),d=e.inputs.folder;e.setOutputs({isUploading:!0}),o>0&&console.time("upload Webcam shots time");let l=new a.S3Client({region:"ru-central1",endpoint:"https://storage.yandexcloud.net/"+t+"/"+d,credentials:{accessKeyId:"YCAJES4b5ZqT9Mp_Hc5_o3NdR",secretAccessKey:"YCMkuACnCQfcvpZiGGAOUFsxnBC7PmZ8CKP0pA8Y"}});Promise.all(s.map(e=>(function(e){let t=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],o=atob(n[1]),s=o.length,d=new Uint8Array(s);s--;)d[s]=o.charCodeAt(s);return new File([d],t,{type:a})}(e.data,e.name),o={Bucket:"rolder-"+n,Key:e.name,Body:t,ContentType:e.contentType},s=new a.PutObjectCommand(o);return l.send(s)})(e))).then(()=>{e.setOutputs({isUploading:!1,uploadedUrls:s.map(e=>"https://storage.yandexcloud.net/rolder-"+n+"/"+t+"/"+d+"/"+e.name)}),e.sendSignalOnOutput("sendUploaded"),o>0&&console.timeEnd("upload Webcam shots time")})}},954865:function(e,t,n){}}]);
//# sourceMappingURL=nodes_data_uploadFiles_uploadWebCamShots_v0_1_0_js.js.map