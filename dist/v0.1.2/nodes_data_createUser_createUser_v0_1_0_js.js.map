{"version":3,"file":"nodes_data_createUser_createUser_v0_1_0_js.js","sources":["./libs/kuzzle/v0.0.6/createUser.js","./nodes/data/createUser/createUser_v0.1.0.js"],"sourcesContent":["import ErrorHandler from '../../error-handler/v0.0.1/ErrorHandler'\nimport { convertOne } from './convert'\n\nconst createUser = async ({ body }) => {\n    const { debug } = Rolder\n\n    if (debug > 0) console.time('CreateUser time')\n    if (debug > 1) console.log('Props:', { body })\n\n    return Kuzzle.connect().then(() =>\n        Kuzzle.security.createUser(null, body, { refresh: 'wait_for' })\n            .then((response) => {\n                const jsonItem = convertOne(response)\n                if (debug > 1) console.log('CreateUser:', jsonItem)\n                if (debug > 0) console.timeEnd('CreateUser time')\n                return jsonItem\n            })\n            .catch((error) => ErrorHandler({ title: 'Системная ошибка!', message: 'Kuzzle createUser ' + ': ' + error.message }))\n    )\n}\n\nexport default createUser","import createUser from '../../../libs/kuzzle/v0.0.6/createUser'\n\nexport default async function node(noodleNode) {\n    noodleNode.setOutputs({ isCreating: true })\n    createUser(noodleNode.inputs.createUser)\n        .then((response) => {\n            noodleNode.setOutputs({ isCreating: false, createdUser: response })\n            noodleNode.sendSignalOnOutput('sendCreated')\n        })\n}"],"names":["createUser","body","debug","Rolder","console","time","log","Kuzzle","connect","then","security","refresh","response","jsonItem","convertOne","timeEnd","catch","error","title","message","node","noodleNode","setOutputs","isCreating","inputs","createdUser","sendSignalOnOutput"],"mappings":"iOAqBA,W,oCAAA,C,yCAlBA,IAAMA,EAAa,MAAO,CAAEC,KAAAA,CAAI,CAAE,IAC9B,GAAM,CAAEC,MAAAA,CAAK,CAAE,CAAGC,OAKlB,OAHID,EAAQ,GAAGE,QAAQC,KAAK,mBACxBH,EAAQ,GAAGE,QAAQE,IAAI,SAAU,CAAEL,KAAAA,CAAK,GAErCM,OAAOC,UAAUC,KAAK,IACzBF,OAAOG,SAASV,WAAW,KAAMC,EAAM,CAAEU,QAAS,UAAW,GACxDF,KAAK,AAACG,IACH,IAAMC,EAAW,KAAAC,UAAA,EAAWF,GAG5B,OAFIV,EAAQ,GAAGE,QAAQE,IAAI,cAAeO,GACtCX,EAAQ,GAAGE,QAAQW,QAAQ,mBACxBF,CACX,GACCG,MAAM,AAACC,GAAU,cAAa,CAAEC,MAAO,oBAAqBC,QAAS,uBAA8BF,EAAME,OAAQ,IAE9H,E,IAEA,EAAenB,C,+GCnBf,W,oCAA8BoB,C,4BAAf,eAAeA,EAAKC,CAAU,EACzCA,EAAWC,WAAW,CAAEC,WAAY,EAAK,GACzC,cAAWF,EAAWG,OAAOxB,YACxBS,KAAK,AAACG,IACHS,EAAWC,WAAW,CAAEC,WAAY,GAAOE,YAAab,CAAS,GACjES,EAAWK,mBAAmB,cAClC,EACR,C"}