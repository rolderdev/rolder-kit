(self.webpackChunkrolder_kit=self.webpackChunkrolder_kit||[]).push([["jsNodes_data_uploadFiles_uploadWebCamShots_v0_1_0_uploadWebCamShots_ts"],{721386:function(e,t,n){},363038:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var o=n("450675");async function a(e){let{envVersion:t,project:n,debug:a}=window.Rolder,d=e.inputs.uploadItems.map(e=>e.data),s=e.inputs.uploadFolder;e.setOutputs({uploading:!0}),a>0&&console.time("upload Webcam shots time");let u=new o.S3Client({region:"ru-central1",endpoint:"https://storage.yandexcloud.net/"+t+"/"+s,credentials:{accessKeyId:"YCAJES4b5ZqT9Mp_Hc5_o3NdR",secretAccessKey:"YCMkuACnCQfcvpZiGGAOUFsxnBC7PmZ8CKP0pA8Y"}});Promise.all(d.map(e=>(function(e){let t=function(e,t){for(var n=e.split(","),o=n[0].match(/:(.*?);/)[1],a=atob(n[1]),d=a.length,s=new Uint8Array(d);d--;)s[d]=a.charCodeAt(d);return new File([s],t,{type:o})}(e.data,e.name),a={Bucket:"rolder-"+n,Key:e.name,Body:t,ContentType:e.contentType},d=new o.PutObjectCommand(a);return u.send(d)})(e))).then(()=>{e.setOutputs({uploading:!1,uploadedUrls:d.map(e=>"https://storage.yandexcloud.net/rolder-"+n+"/"+t+"/"+s+"/"+e.name)}),e.sendSignalOnOutput("uploaded"),a>0&&console.timeEnd("upload Webcam shots time")})}}}]);
//# sourceMappingURL=jsNodes_data_uploadFiles_uploadWebCamShots_v0_1_0_uploadWebCamShots_ts.js.map