# История изменения данных

UseData версии 1.2.0 и update версии 1.1.0 могут работать с историей изменения данных.

## Требования

* В Kuzzle должен быть индекс "history".
* Каждый класс, который должен иметь историю нужно создать в индексе history. Версия должна совпадать с основным классом.
* В правах доступа нужно добавить соотвествующие записи.

## Скорость

Первая проба пера показала, что скорость при использовании истории не сильно падает. Для UseData это еще один последовательный запрос. Для update это еще два запроса - на чтение старых данных и на запись в историю.

## Структура данных

* Каждый документ основного класса может иметь сколько угодно документов в истории.
* id: отдельное поле в мапинге, по которому находятся все документы истории конкретного документа основного класса.
* timestamp: время создания документа в истории. По нему UseData выдает историю, показывая в массиве последние изменения в начале.
* item: копия всех данных из основного класса.
* UseData кладет историю в ключ hystory на верхнем уровне.

## История изменений

### `2024.04.01`

* Добавлена документация.
