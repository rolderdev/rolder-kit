---
id: docs
tasks:
  dev:
    command: rspress dev --port=9090
    inputs:
      - front/**/*      
    options:
      mergeInputs: 'replace'
      mergeArgs: 'replace'
  build:
    command: rspress build
    inputs:
      - front/**/*
    outputs:
      - 'doc_build'
    options:
      mergeInputs: 'replace'
      mergeArgs: 'replace'
  preview:
    command: rspress preview
    inputs:
      - front/**/*
    options:
      mergeInputs: 'replace'
      mergeArgs: 'replace'
  deployDocs:
    command: 3cmd rm s3://docs.rolder.app/ --recursive --force && 3cmd put doc_build/* s3://docs.rolder.app/ --recursive && s3cmd put doc_build/static/css/ s3://docs.rolder.app/static/css/ --mime-type='text/css' --recursive
    deps:
      - build
    inputs:
      - front/**/*