# Table

Модульная таблица.

[Документация оригинальной библиотеки](https://icflorescu.github.io/mantine-datatable-v6/)

## Возможности

* Размеры:
  * Минимальный и максимальные размеры высоты.
  * Максимальные размер ширины.
  * Автовключение скрола по достижению максимумов.

## Ограничения

* Скрол не включается при fitWidthContent.

## Порты

### Вход

#### Основное

| Название Noodl | Системное название | Тип данных |  Дефолт | Требуется | Зависимость | Комментарий |
| --- | --- | --- | --- | --- | --- | --- |
| Columns | table2Columns | array | [] | - | - | Схема колонок |
| Items | table2Items | array | [] | - | - | Данные для отображения |
| On row click | onRowClick | `disabled \| singleSelection \| expansion` | `disabled` | - | - | Вид действия по нажатию на строку |

#### Размеры

| Название Noodl | Системное название | Тип данных |  Дефолт | Требуется | Зависимость | Комментарий |
| --- | --- | --- | --- | --- | --- | --- |
| Min height | minHeight | string (rem, px) | 84px | - | - | Минимальная высота |
| Max height | maxHeight | string (%, rem, px) | 100% | - | - | Максимальная высота |
| Fit width content | fitWidthContent | boolean | true | - | - | Ширина подстравивается под контент |
| Max width | maxWidth | string (%, rem, px) | 100% | - | !fitWidthContent | Максимальная ширина |

#### Разворачивание

| Название Noodl | Системное название | Тип данных |  Дефолт | Требуется | Зависимость | Комментарий |
| --- | --- | --- | --- | --- | --- | --- |
| Template | expansionTemplate | string | - | Всегда | expansion | Путь к шаблону |
| Allow multiple | allowMultiple | boolean | - | - | expansion | Разрешить разворачивать несколько строк |

#### Кастомизация | Custom props

| Системное название | Тип данных |  Дефолт | Комментарий |
| --- | --- | --- | --- | 
| collapseProps | object | `{ transitionDuration: 50 }` | Настройки анимации разворачивания. В том числе запуск функции по завершению анимации. [Документация](https://v6.mantine.dev/core/collapse/). |

### Выход

| Название Noodl | Системное название | Тип данных | Комментарий |
| --- | --- | --- | --- |
| Fetching | fetching | boolean | Статус загрузки |


## Инструкция

### Схема колонок

| Ключ | Тип данных | Дефолт | Комментарий |
| --- | --- | --- | --- |
| accessor | string | - | Путь через точку к данным в item. Единственный обязательный параметр |
| title | string | accessor преобразованный в предложение | accessor: 'content.name' превартится в "Content name" |
| noWrap | boolean | false | Не переносить слова в строке |

### Сценарии

#### Вложенная таблица

В каждую строку таблицы можно вкладывать любую другую компоненту. Принцип работы как у Repeater Noodl - создаем шаблон, указываем к нему путь, добавляем Object в шаблоне, применяем любые компоненты.

- На таблицу может быть только один шаблон.
- Шаблон может состоять из любых компонентов, но нужно учитывать, что каждая строка при разворачивании будет создавать новые ноды, что сказывается на производительности.
- В верстке нужно учитывать, что контейнер вложенной строки - это строка родительской таблицы и одна ячейка в ней.
- К объекту, который передается в развернутый шаблон прикрепляется функция collapse. Передав ее в function Noodl, можно свернуть строку из самой развернутой строки. Важно это делать в контроллируемом режиме, иначе циклы неизбежны.

## Конфигуратор

import Table from '../../../src/wrappers/organisms/table'

<Table />

## История изменений

### v1.3.0 `2024.04.28`

:::warning breakingChange
:::

:::warning #experimental
:::

- Полный рефакторинг.
- `#breakingChange` Переделан способ работы с шириной и высотой.
- `#breakingChange` Кастомные ячейки и расширение строки теперь задаются через шаблон. Больше нет хаков, повторных рендерингов.
- Оптимизация производительности. Таблица теперь рендерится при любых телодвижениях один раз.
